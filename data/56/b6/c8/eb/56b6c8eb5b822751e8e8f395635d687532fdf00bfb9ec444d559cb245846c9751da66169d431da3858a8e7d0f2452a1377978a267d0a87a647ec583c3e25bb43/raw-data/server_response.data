<!DOCTYPE html>







<html>
    <head>
        <meta charset="utf-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Configuring the Salt Master</title>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="1Y-ojT3ndjxA9coB77iUDyXPWxeuQ3T4_r0j-QG6QHg" />

        
        <link rel="stylesheet" href="../../_static/css/core.min.css">
        <link rel="stylesheet" href="../../_static/css/webhelp.min_v1.4.4.css">
            <link rel="shortcut icon" href="../../_static/favicon.ico">

        <!--[if lt IE 9]>
        <script src="../../_static/js/respond.min.js"></script>
        <![endif]-->
        <link rel="top" title="" href="../../index.html">
        <link rel="up" title="Reference" href="../index.html">
        <link rel="next" title="Configuring the Salt Minion" href="minion.html">
        <link rel="prev" title="Configuring Salt" href="index.html">
    </head>

    <body class="index">
        <!--[if lt IE 8]>
            <p>You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser.</a></p>
        <![endif]-->
        <div id="wrapper">
            <div id="page-content-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-12 col-md-11 col-md-offset-1 col-lg-10 col-lg-offset-1">
                            <!--start navbar-->
                            <nav class="navbar navbar-default">
                                <div class="navbar-header">
                                    <button type="button" class="pull-left navbar-toggle collapsed" id="menu-toggle"><span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <ul id="header-nav" class="nav navbar-nav">
        <li>
            <a href="../../contents.html" title="Table of Contents">Table of Contents</a>
            
        </li>
        <li>
            <a href="../../glossary.html" title="Glossary">Glossary</a>
            
        </li>
        <li>
            <a href="index.html" title="Configuring Salt">previous</a>
            
        </li>
        <li>
            <a href="minion.html" title="Configuring the Salt Minion">next</a>
            
        </li>
        <li>
            <a href="../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
            
        </li>
        <li>
            <a href="../../genindex.html" title="General Index">index</a>
            
        </li> 

                                        
                                        <li><a href="/en/getstarted/" target="_blank">Get Started</a></li>
                                        

                                        
                                        <li><a class="icon-dl" href="/en/pdf/Salt-2015.8.12.pdf"><img height="25" width="25" class="nolightbox" src="../../_static/images/pdf_icon.svg"></a></li>
                                        <li><a class="icon-dl" href="/en/epub/Salt-2015.8.12.epub"><img height="25" width="18" class="nolightbox" src="../../_static/images/epub_icon.svg"></a></li>
                                        
                                    </ul>
                                </div>
                            </nav>
                            <!--end navbar-->

                            
                            <div class="body-content">
                                
  <div class="section" id="configuring-the-salt-master">
<span id="configuration-salt-master"></span><h1>Configuring the Salt Master<a class="headerlink" href="#configuring-the-salt-master" title="Permalink to this headline">¶</a></h1>
<p>The Salt system is amazingly simple and easy to configure, the two components
of the Salt system each have a respective configuration file. The
<strong class="command">salt-master</strong> is configured via the master configuration file, and the
<strong class="command">salt-minion</strong> is configured via the minion configuration file.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="examples.html#configuration-examples-master"><span class="std std-ref">Example master configuration file</span></a>.</p>
</div>
<p>The configuration file for the salt-master is located at
<code class="file docutils literal"><span class="pre">/etc/salt/master</span></code> by default.  A notable exception is FreeBSD, where the
configuration file is located at <code class="file docutils literal"><span class="pre">/usr/local/etc/salt</span></code>.  The available
options are as follows:</p>
<div class="section" id="primary-master-configuration">
<h2>Primary Master Configuration<a class="headerlink" href="#primary-master-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="interface">
<span id="std:conf_master-interface"></span><h3><code class="docutils literal"><span class="pre">interface</span></code><a class="headerlink" href="#interface" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">0.0.0.0</span></code> (all interfaces)</p>
<p>The local interface to bind to.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">interface</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">192.168.0.1</span>
</pre></div>
</div>
</div>
<div class="section" id="ipv6">
<span id="std:conf_master-ipv6"></span><h3><code class="docutils literal"><span class="pre">ipv6</span></code><a class="headerlink" href="#ipv6" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Whether the master should listen for IPv6 connections. If this is set to True,
the interface option must be adjusted too (for example: &quot;interface: '::'&quot;)</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ipv6</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="publish-port">
<span id="std:conf_master-publish_port"></span><h3><code class="docutils literal"><span class="pre">publish_port</span></code><a class="headerlink" href="#publish-port" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">4505</span></code></p>
<p>The network port to set up the publication interface.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">publish_port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4505</span>
</pre></div>
</div>
</div>
<div class="section" id="master-id">
<span id="std:conf_master-master_id"></span><h3><code class="docutils literal"><span class="pre">master_id</span></code><a class="headerlink" href="#master-id" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">None</span></code></p>
<p>The id to be passed in the publish job to minions. This is used for MultiSyndics
to return the job to the requesting master.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This must be the same string as the syndic is configured with.</p>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">master_id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">MasterOfMaster</span>
</pre></div>
</div>
</div>
<div class="section" id="user">
<span id="std:conf_master-user"></span><h3><code class="docutils literal"><span class="pre">user</span></code><a class="headerlink" href="#user" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">root</span></code></p>
<p>The user to run the Salt processes</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">user</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
</pre></div>
</div>
</div>
<div class="section" id="max-open-files">
<span id="std:conf_master-max_open_files"></span><h3><code class="docutils literal"><span class="pre">max_open_files</span></code><a class="headerlink" href="#max-open-files" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">100000</span></code></p>
<p>Each minion connecting to the master uses AT LEAST one file descriptor, the
master subscription connection. If enough minions connect you might start
seeing on the console(and then salt-master crashes):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>Too many open files <span class="o">(</span>tcp_listener.cpp:335<span class="o">)</span>
Aborted <span class="o">(</span>core dumped<span class="o">)</span>
</pre></div>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">max_open_files</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100000</span>
</pre></div>
</div>
<p>By default this value will be the one of <cite>ulimit -Hn</cite>, i.e., the hard limit for
max open files.</p>
<p>To set a different value than the default one, uncomment, and configure this
setting. Remember that this value CANNOT be higher than the hard limit. Raising
the hard limit depends on the OS and/or distribution, a good way to find the
limit is to search the internet for something like this:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>raise max open files hard limit debian
</pre></div>
</div>
</div>
<div class="section" id="worker-threads">
<span id="std:conf_master-worker_threads"></span><h3><code class="docutils literal"><span class="pre">worker_threads</span></code><a class="headerlink" href="#worker-threads" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">5</span></code></p>
<p>The number of threads to start for receiving commands and replies from minions.
If minions are stalling on replies because you have many minions, raise the
worker_threads value.</p>
<p>Worker threads should not be put below 3 when using the peer system, but can
drop down to 1 worker otherwise.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When the master daemon starts, it is expected behaviour to see
multiple salt-master processes, even if 'worker_threads' is set to '1'. At
a minimum, a controlling process will start along with a Publisher, an
EventPublisher, and a number of MWorker processes will be started. The
number of MWorker processes is tuneable by the 'worker_threads'
configuration value while the others are not.</p>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">worker_threads</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
</div>
<div class="section" id="ret-port">
<span id="std:conf_master-ret_port"></span><h3><code class="docutils literal"><span class="pre">ret_port</span></code><a class="headerlink" href="#ret-port" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">4506</span></code></p>
<p>The port used by the return server, this is the server used by Salt to receive
execution returns and command executions.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ret_port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4506</span>
</pre></div>
</div>
</div>
<div class="section" id="pidfile">
<span id="std:conf_master-pidfile"></span><h3><code class="docutils literal"><span class="pre">pidfile</span></code><a class="headerlink" href="#pidfile" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">/var/run/salt-master.pid</span></code></p>
<p>Specify the location of the master pidfile.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pidfile</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/run/salt-master.pid</span>
</pre></div>
</div>
</div>
<div class="section" id="root-dir">
<span id="std:conf_master-root_dir"></span><h3><code class="docutils literal"><span class="pre">root_dir</span></code><a class="headerlink" href="#root-dir" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">/</span></code></p>
<p>The system root directory to operate from, change this to make Salt run from
an alternative root.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">root_dir</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This directory is prepended to the following options:
<a class="reference internal" href="#std:conf_master-pki_dir"><code class="xref std std-conf_master docutils literal"><span class="pre">pki_dir</span></code></a>, <a class="reference internal" href="#std:conf_master-cachedir"><code class="xref std std-conf_master docutils literal"><span class="pre">cachedir</span></code></a>, <a class="reference internal" href="#std:conf_master-sock_dir"><code class="xref std std-conf_master docutils literal"><span class="pre">sock_dir</span></code></a>,
<a class="reference internal" href="#std:conf_master-log_file"><code class="xref std std-conf_master docutils literal"><span class="pre">log_file</span></code></a>, <a class="reference internal" href="#std:conf_master-autosign_file"><code class="xref std std-conf_master docutils literal"><span class="pre">autosign_file</span></code></a>,
<a class="reference internal" href="#std:conf_master-autoreject_file"><code class="xref std std-conf_master docutils literal"><span class="pre">autoreject_file</span></code></a>, <a class="reference internal" href="#std:conf_master-pidfile"><code class="xref std std-conf_master docutils literal"><span class="pre">pidfile</span></code></a>.</p>
</div>
</div>
<div class="section" id="conf-file">
<span id="std:conf_master-conf_file"></span><h3><code class="docutils literal"><span class="pre">conf_file</span></code><a class="headerlink" href="#conf-file" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">/etc/salt/master</span></code></p>
<p>The path to the master's configuration file.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">conf_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/salt/master</span>
</pre></div>
</div>
</div>
<div class="section" id="pki-dir">
<span id="std:conf_master-pki_dir"></span><h3><code class="docutils literal"><span class="pre">pki_dir</span></code><a class="headerlink" href="#pki-dir" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">/etc/salt/pki/master</span></code></p>
<p>The directory to store the pki authentication keys.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pki_dir</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/salt/pki/master</span>
</pre></div>
</div>
</div>
<div class="section" id="extension-modules">
<span id="std:conf_master-extension_modules"></span><h3><code class="docutils literal"><span class="pre">extension_modules</span></code><a class="headerlink" href="#extension-modules" title="Permalink to this headline">¶</a></h3>
<p>Directory for custom modules. This directory can contain subdirectories for
each of Salt's module types such as &quot;runners&quot;, &quot;output&quot;, &quot;wheel&quot;, &quot;modules&quot;,
&quot;states&quot;, &quot;returners&quot;, etc. This path is appended to <a class="reference internal" href="#std:conf_master-root_dir"><code class="xref std std-conf_master docutils literal"><span class="pre">root_dir</span></code></a>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">extension_modules</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">srv/modules</span>
</pre></div>
</div>
</div>
<div class="section" id="module-dirs">
<span id="std:conf_minion-module_dirs"></span><h3><code class="docutils literal"><span class="pre">module_dirs</span></code><a class="headerlink" href="#module-dirs" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Like <code class="docutils literal"><span class="pre">extension_modules</span></code>, but a list of extra directories to search
for Salt modules.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">module_dirs</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/var/cache/salt/minion/extmods</span>
</pre></div>
</div>
</div>
<div class="section" id="cachedir">
<span id="std:conf_master-cachedir"></span><h3><code class="docutils literal"><span class="pre">cachedir</span></code><a class="headerlink" href="#cachedir" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">/var/cache/salt/master</span></code></p>
<p>The location used to store cache information, particularly the job information
for executed salt commands.</p>
<p>This directory may contain sensitive data and should be protected accordingly.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">cachedir</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/cache/salt/master</span>
</pre></div>
</div>
</div>
<div class="section" id="verify-env">
<span id="std:conf_master-verify_env"></span><h3><code class="docutils literal"><span class="pre">verify_env</span></code><a class="headerlink" href="#verify-env" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Verify and set permissions on configuration directories at startup.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">verify_env</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="keep-jobs">
<span id="std:conf_master-keep_jobs"></span><h3><code class="docutils literal"><span class="pre">keep_jobs</span></code><a class="headerlink" href="#keep-jobs" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">24</span></code></p>
<p>Set the number of hours to keep old job information. Note that setting this option
to <code class="docutils literal"><span class="pre">0</span></code> disables the cache cleaner.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">keep_jobs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">24</span>
</pre></div>
</div>
</div>
<div class="section" id="gather-job-timeout">
<span id="std:conf_master-gather_job_timeout"></span><h3><code class="docutils literal"><span class="pre">gather_job_timeout</span></code><a class="headerlink" href="#gather-job-timeout" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">10</span></code></p>
<p>The number of seconds to wait when the client is requesting information
about running jobs.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gather_job_timeout</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
</pre></div>
</div>
</div>
<div class="section" id="timeout">
<span id="std:conf_master-timeout"></span><h3><code class="docutils literal"><span class="pre">timeout</span></code><a class="headerlink" href="#timeout" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">5</span></code></p>
<p>Set the default timeout for the salt command and api.</p>
</div>
<div class="section" id="loop-interval">
<span id="std:conf_master-loop_interval"></span><h3><code class="docutils literal"><span class="pre">loop_interval</span></code><a class="headerlink" href="#loop-interval" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">60</span></code></p>
<p>The loop_interval option controls the seconds for the master's maintenance
process check cycle. This process updates file server backends, cleans the
job cache and executes the scheduler.</p>
</div>
<div class="section" id="output">
<span id="std:conf_master-output"></span><h3><code class="docutils literal"><span class="pre">output</span></code><a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">nested</span></code></p>
<p>Set the default outputter used by the salt command.</p>
</div>
<div class="section" id="output-file">
<span id="std:conf_master-output_file"></span><h3><code class="docutils literal"><span class="pre">output_file</span></code><a class="headerlink" href="#output-file" title="Permalink to this headline">¶</a></h3>
<p>Default: None</p>
<p>Set the default output file used by the salt command. Default is to output
to the CLI and not to a file. Functions the same way as the &quot;--out-file&quot;
CLI option, only sets this to a single file for all salt commands.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">output_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/output/file</span>
</pre></div>
</div>
</div>
<div class="section" id="color">
<span id="std:conf_master-color"></span><h3><code class="docutils literal"><span class="pre">color</span></code><a class="headerlink" href="#color" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>By default output is colored, to disable colored output set the color value
to False.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">color</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="cli-summary">
<span id="std:conf_master-cli_summary"></span><h3><code class="docutils literal"><span class="pre">cli_summary</span></code><a class="headerlink" href="#cli-summary" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>When set to <code class="docutils literal"><span class="pre">True</span></code>, displays a summary of the number of minions targeted,
the number of minions returned, and the number of minions that did not
return.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">cli_summary</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="sock-dir">
<span id="std:conf_master-sock_dir"></span><h3><code class="docutils literal"><span class="pre">sock_dir</span></code><a class="headerlink" href="#sock-dir" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="file docutils literal"><span class="pre">/var/run/salt/master</span></code></p>
<p>Set the location to use for creating Unix sockets for master process
communication.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">sock_dir</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/run/salt/master</span>
</pre></div>
</div>
</div>
<div class="section" id="enable-gpu-grains">
<span id="std:conf_master-enable_gpu_grains"></span><h3><code class="docutils literal"><span class="pre">enable_gpu_grains</span></code><a class="headerlink" href="#enable-gpu-grains" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Enable GPU hardware data for your master. Be aware that the master can
take a while to start up when lspci and/or dmidecode is used to populate the
grains for the master.</p>
</div>
<div class="section" id="job-cache">
<span id="std:conf_master-job_cache"></span><h3><code class="docutils literal"><span class="pre">job_cache</span></code><a class="headerlink" href="#job-cache" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>The master maintains a temporary job cache. While this is a great addition, it
can be a burden on the master for larger deployments (over 5000 minions).
Disabling the job cache will make previously executed jobs unavailable to
the jobs system and is not generally recommended. Normally it is wise to make
sure the master has access to a faster IO system or a tmpfs is mounted to the
jobs dir.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">job_cache</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Setting the <code class="docutils literal"><span class="pre">job_cache</span></code> to <code class="docutils literal"><span class="pre">False</span></code> will not cache minion returns, but
the JID directory for each job is still created. The creation of the JID
directories is necessary because Salt uses those directories to check for
JID collisions. By setting this option to <code class="docutils literal"><span class="pre">False</span></code>, the job cache
directory, which is <code class="docutils literal"><span class="pre">/var/cache/salt/master/jobs/</span></code> by default, will be
smaller, but the JID directories will still be present.</p>
<p>Note that the <a class="reference internal" href="#std:conf_master-keep_jobs"><code class="xref std std-conf_master docutils literal"><span class="pre">keep_jobs</span></code></a> option can be set to a lower value,
such as <code class="docutils literal"><span class="pre">1</span></code>, to limit the number of hours jobs are stored in the job
cache. (The default is 24 hours.)</p>
<p class="last">Please see the <a class="reference internal" href="../../topics/jobs/job_cache.html#managing-the-job-cache"><span class="std std-ref">Managing the Job Cache</span></a>
documentation for more information.</p>
</div>
</div>
<div class="section" id="minion-data-cache">
<span id="std:conf_master-minion_data_cache"></span><h3><code class="docutils literal"><span class="pre">minion_data_cache</span></code><a class="headerlink" href="#minion-data-cache" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>The minion data cache is a cache of information about the minions stored on the
master, this information is primarily the pillar and grains data. The data is
cached in the Master cachedir under the name of the minion and used to
predetermine what minions are expected to reply from executions.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">minion_data_cache</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="ext-job-cache">
<span id="std:conf_master-ext_job_cache"></span><h3><code class="docutils literal"><span class="pre">ext_job_cache</span></code><a class="headerlink" href="#ext-job-cache" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Used to specify a default returner for all minions. When this option is set,
the specified returner needs to be properly configured and the minions will
always default to sending returns to this returner. This will also disable the
local job cache on the master.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ext_job_cache</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
</pre></div>
</div>
</div>
<div class="section" id="event-return">
<span id="std:conf_master-event_return"></span><h3><code class="docutils literal"><span class="pre">event_return</span></code><a class="headerlink" href="#event-return" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.5.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Specify the returner to use to log events. A returner may have installation and
configuration requirements. Read the returner's documentation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not all returners support event returns. Verify that a returner has an
<code class="docutils literal"><span class="pre">event_return()</span></code> function before configuring this option with a returner.</p>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">event_return</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">cassandra_cql</span>
</pre></div>
</div>
</div>
<div class="section" id="event-return-queue">
<span id="std:conf_master-event_return_queue"></span><h3><code class="docutils literal"><span class="pre">event_return_queue</span></code><a class="headerlink" href="#event-return-queue" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.5.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">0</span></code></p>
<p>On busy systems, enabling event_returns can cause a considerable load on
the storage system for returners. Events can be queued on the master and
stored in a batched fashion using a single transaction for multiple events.
By default, events are not queued.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">event_return_queue</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
</div>
<div class="section" id="event-return-whitelist">
<span id="std:conf_master-event_return_whitelist"></span><h3><code class="docutils literal"><span class="pre">event_return_whitelist</span></code><a class="headerlink" href="#event-return-whitelist" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.5.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Only return events matching tags in a whitelist.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">event_return_whitelist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">salt/master/a_tag</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">salt/master/another_tag</span>
</pre></div>
</div>
</div>
<div class="section" id="event-return-blacklist">
<span id="std:conf_master-event_return_blacklist"></span><h3><code class="docutils literal"><span class="pre">event_return_blacklist</span></code><a class="headerlink" href="#event-return-blacklist" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.5.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Store all event returns _except_ the tags in a blacklist.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">event_return_blacklist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">salt/master/not_this_tag</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">salt/master/or_this_one</span>
</pre></div>
</div>
</div>
<div class="section" id="max-event-size">
<span id="std:conf_master-max_event_size"></span><h3><code class="docutils literal"><span class="pre">max_event_size</span></code><a class="headerlink" href="#max-event-size" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">1048576</span></code></p>
<p>Passing very large events can cause the minion to consume large amounts of
memory. This value tunes the maximum size of a message allowed onto the
master event bus. The value is expressed in bytes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">max_event_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1048576</span>
</pre></div>
</div>
</div>
<div class="section" id="master-job-cache">
<span id="std:conf_master-master_job_cache"></span><h3><code class="docutils literal"><span class="pre">master_job_cache</span></code><a class="headerlink" href="#master-job-cache" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">local_cache</span></code></p>
<p>Specify the returner to use for the job cache. The job cache will only be
interacted with from the salt master and therefore does not need to be
accessible from the minions.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">master_job_cache</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
</pre></div>
</div>
</div>
<div class="section" id="enforce-mine-cache">
<span id="std:conf_master-enforce_mine_cache"></span><h3><code class="docutils literal"><span class="pre">enforce_mine_cache</span></code><a class="headerlink" href="#enforce-mine-cache" title="Permalink to this headline">¶</a></h3>
<p>Default: False</p>
<p>By-default when disabling the minion_data_cache mine will stop working since
it is based on cached data, by enabling this option we explicitly enabling
only the cache for the mine system.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">enforce_mine_cache</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="max-minions">
<span id="std:conf_master-max_minions"></span><h3><code class="docutils literal"><span class="pre">max_minions</span></code><a class="headerlink" href="#max-minions" title="Permalink to this headline">¶</a></h3>
<p>Default: 0</p>
<p>The maximum number of minion connections allowed by the master. Use this to
accommodate the number of minions per master if you have different types of
hardware serving your minions. The default of <code class="docutils literal"><span class="pre">0</span></code> means unlimited connections.
Please note that this can slow down the authentication process a bit in large
setups.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">max_minions</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
</pre></div>
</div>
</div>
<div class="section" id="con-cache">
<h3><code class="docutils literal"><span class="pre">con_cache</span></code><a class="headerlink" href="#con-cache" title="Permalink to this headline">¶</a></h3>
<p>Default: False</p>
<p>If max_minions is used in large installations, the master might experience
high-load situations because of having to check the number of connected
minions for every authentication. This cache provides the minion-ids of
all connected minions to all MWorker-processes and greatly improves the
performance of max_minions.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">con_cache</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="presence-events">
<span id="std:conf_master-presence_events"></span><h3><code class="docutils literal"><span class="pre">presence_events</span></code><a class="headerlink" href="#presence-events" title="Permalink to this headline">¶</a></h3>
<p>Default: False</p>
<p>Causes the master to periodically look for actively connected minions.
<a class="reference internal" href="../../topics/event/master_events.html#event-master-presence"><span class="std std-ref">Presence events</span></a> are fired on the event bus on a
regular interval with a list of connected minions, as well as events with lists
of newly connected or disconnected minions. This is a master-only operation
that does not send executions to minions. Note, this does not detect minions
that connect to a master via localhost.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">presence_events</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="transport">
<span id="std:conf_master-transport"></span><h3><code class="docutils literal"><span class="pre">transport</span></code><a class="headerlink" href="#transport" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">zeromq</span></code></p>
<p>Changes the underlying transport layer. ZeroMQ is the recommended transport
while additional transport layers are under development. Supported values are
<code class="docutils literal"><span class="pre">zeromq</span></code>, <code class="docutils literal"><span class="pre">raet</span></code> (experimental), and <code class="docutils literal"><span class="pre">tcp</span></code> (experimental). This setting has
a significant impact on performance and should not be changed unless you know
what you are doing! Transports are explained in <span class="xref std std-ref">Salt Transports</span>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">transport</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zeromq</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="salt-ssh-configuration">
<h2>Salt-SSH Configuration<a class="headerlink" href="#salt-ssh-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="roster-file">
<span id="std:conf_master-roster_file"></span><h3><code class="docutils literal"><span class="pre">roster_file</span></code><a class="headerlink" href="#roster-file" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">/etc/salt/roster</span></code></p>
<p>Pass in an alternative location for the salt-ssh roster file.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">roster_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/root/roster</span>
</pre></div>
</div>
</div>
<div class="section" id="ssh-minion-opts">
<span id="std:conf_master-ssh_minion_opts"></span><h3><code class="docutils literal"><span class="pre">ssh_minion_opts</span></code><a class="headerlink" href="#ssh-minion-opts" title="Permalink to this headline">¶</a></h3>
<p>Default: None</p>
<p>Pass in minion option overrides that will be inserted into the SHIM for
salt-ssh calls. The local minion config is not used for salt-ssh. Can be
overridden on a per-minion basis in the roster (<code class="docutils literal"><span class="pre">minion_opts</span></code>)</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">minion_opts</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">gpg_keydir</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/root/gpg</span>
</pre></div>
</div>
</div>
<div class="section" id="thin-extra-mods">
<h3><code class="docutils literal"><span class="pre">thin_extra_mods</span></code><a class="headerlink" href="#thin-extra-mods" title="Permalink to this headline">¶</a></h3>
<p>Default: None</p>
<p>List of additional modules, needed to be included into the Salt Thin.
Pass a list of importable Python modules that are typically located in
the <cite>site-packages</cite> Python directory so they will be also always included
into the Salt Thin, once generated.</p>
</div>
</div>
<div class="section" id="master-security-settings">
<h2>Master Security Settings<a class="headerlink" href="#master-security-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="open-mode">
<span id="std:conf_master-open_mode"></span><h3><code class="docutils literal"><span class="pre">open_mode</span></code><a class="headerlink" href="#open-mode" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Open mode is a dangerous security feature. One problem encountered with pki
authentication systems is that keys can become &quot;mixed up&quot; and authentication
begins to fail. Open mode turns off authentication and tells the master to
accept all authentication. This will clean up the pki keys received from the
minions. Open mode should not be turned on for general use. Open mode should
only be used for a short period of time to clean up pki keys. To turn on open
mode set this value to <code class="docutils literal"><span class="pre">True</span></code>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">open_mode</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="auto-accept">
<span id="std:conf_master-auto_accept"></span><h3><code class="docutils literal"><span class="pre">auto_accept</span></code><a class="headerlink" href="#auto-accept" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Enable auto_accept. This setting will automatically accept all incoming
public keys from minions.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">auto_accept</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="autosign-timeout">
<span id="std:conf_master-autosign_timeout"></span><h3><code class="docutils literal"><span class="pre">autosign_timeout</span></code><a class="headerlink" href="#autosign-timeout" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">120</span></code></p>
<p>Time in minutes that a incoming public key with a matching name found in
pki_dir/minion_autosign/keyid is automatically accepted. Expired autosign keys
are removed when the master checks the minion_autosign directory. This method
to auto accept minions can be safer than an autosign_file because the
keyid record can expire and is limited to being an exact name match.
This should still be considered a less than secure option, due to the fact
that trust is based on just the requesting minion id.</p>
</div>
<div class="section" id="autosign-file">
<span id="std:conf_master-autosign_file"></span><h3><code class="docutils literal"><span class="pre">autosign_file</span></code><a class="headerlink" href="#autosign-file" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">not</span> <span class="pre">defined</span></code></p>
<p>If the <code class="docutils literal"><span class="pre">autosign_file</span></code> is specified incoming keys specified in the autosign_file
will be automatically accepted. Matches will be searched for first by string
comparison, then by globbing, then by full-string regex matching.
This should still be considered a less than secure option, due to the fact
that trust is based on just the requesting minion id.</p>
</div>
<div class="section" id="autoreject-file">
<span id="std:conf_master-autoreject_file"></span><h3><code class="docutils literal"><span class="pre">autoreject_file</span></code><a class="headerlink" href="#autoreject-file" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.1.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">not</span> <span class="pre">defined</span></code></p>
<p>Works like <a class="reference internal" href="#std:conf_master-autosign_file"><code class="xref std std-conf_master docutils literal"><span class="pre">autosign_file</span></code></a>, but instead allows you to specify
minion IDs for which keys will automatically be rejected. Will override both
membership in the <a class="reference internal" href="#std:conf_master-autosign_file"><code class="xref std std-conf_master docutils literal"><span class="pre">autosign_file</span></code></a> and the
<a class="reference internal" href="#std:conf_master-auto_accept"><code class="xref std std-conf_master docutils literal"><span class="pre">auto_accept</span></code></a> setting.</p>
</div>
<div class="section" id="client-acl">
<span id="std:conf_master-client_acl"></span><h3><code class="docutils literal"><span class="pre">client_acl</span></code><a class="headerlink" href="#client-acl" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>Enable user accounts on the master to execute specific modules. These modules
can be expressed as regular expressions.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">client_acl</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">fred</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">test.ping</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pkg.*</span>
</pre></div>
</div>
</div>
<div class="section" id="client-acl-blacklist">
<span id="std:conf_master-client_acl_blacklist"></span><h3><code class="docutils literal"><span class="pre">client_acl_blacklist</span></code><a class="headerlink" href="#client-acl-blacklist" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>Blacklist users or modules</p>
<p>This example would blacklist all non sudo users, including root from
running any commands. It would also blacklist any use of the &quot;cmd&quot;
module.</p>
<p>This is completely disabled by default.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">client_acl_blacklist</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">users</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;^(?!sudo_).*$&#39;</span>   <span class="c1">#  all non sudo users</span>
  <span class="l l-Scalar l-Scalar-Plain">modules</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">cmd</span>
</pre></div>
</div>
</div>
<div class="section" id="external-auth">
<span id="std:conf_master-external_auth"></span><h3><code class="docutils literal"><span class="pre">external_auth</span></code><a class="headerlink" href="#external-auth" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>The external auth system uses the Salt auth modules to authenticate and
validate users to access areas of the Salt system.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">external_auth</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">pam</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">fred</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">test.*</span>
</pre></div>
</div>
</div>
<div class="section" id="token-expire">
<span id="std:conf_master-token_expire"></span><h3><code class="docutils literal"><span class="pre">token_expire</span></code><a class="headerlink" href="#token-expire" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">43200</span></code></p>
<p>Time (in seconds) for a newly generated token to live.</p>
<p>Default: 12 hours</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">token_expire</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">43200</span>
</pre></div>
</div>
</div>
<div class="section" id="file-recv">
<span id="std:conf_master-file_recv"></span><h3><code class="docutils literal"><span class="pre">file_recv</span></code><a class="headerlink" href="#file-recv" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Allow minions to push files to the master. This is disabled by default, for
security purposes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">file_recv</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="file-recv-max-size">
<span id="std:conf_master-file_recv_max_size"></span><h3><code class="docutils literal"><span class="pre">file_recv_max_size</span></code><a class="headerlink" href="#file-recv-max-size" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">100</span></code></p>
<p>Set a hard-limit on the size of the files that can be pushed to the master.
It will be interpreted as megabytes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">file_recv_max_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
</pre></div>
</div>
</div>
<div class="section" id="master-sign-pubkey">
<span id="std:conf_master-master_sign_pubkey"></span><h3><code class="docutils literal"><span class="pre">master_sign_pubkey</span></code><a class="headerlink" href="#master-sign-pubkey" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Sign the master auth-replies with a cryptographic signature of the master's
public key. Please see the tutorial how to use these settings in the
<a class="reference external" href="http://docs.saltstack.com/en/latest/topics/tutorials/multimaster_pki.html">Multimaster-PKI with Failover Tutorial</a></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">master_sign_pubkey</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="master-sign-key-name">
<span id="std:conf_master-master_sign_key_name"></span><h3><code class="docutils literal"><span class="pre">master_sign_key_name</span></code><a class="headerlink" href="#master-sign-key-name" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">master_sign</span></code></p>
<p>The customizable name of the signing-key-pair without suffix.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">master_sign_key_name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;filename_without_suffix&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="master-pubkey-signature">
<span id="std:conf_master-master_pubkey_signature"></span><h3><code class="docutils literal"><span class="pre">master_pubkey_signature</span></code><a class="headerlink" href="#master-pubkey-signature" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">master_pubkey_signature</span></code></p>
<p>The name of the file in the master's pki-directory that holds the pre-calculated
signature of the master's public-key.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">master_pubkey_signature</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;filename&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="master-use-pubkey-signature">
<span id="std:conf_master-master_use_pubkey_signature"></span><h3><code class="docutils literal"><span class="pre">master_use_pubkey_signature</span></code><a class="headerlink" href="#master-use-pubkey-signature" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Instead of computing the signature for each auth-reply, use a pre-calculated
signature. The <a class="reference internal" href="#std:conf_master-master_pubkey_signature"><code class="xref std std-conf_master docutils literal"><span class="pre">master_pubkey_signature</span></code></a> must also be set for this.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">master_use_pubkey_signature</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="rotate-aes-key">
<span id="std:conf_master-rotate_aes_key"></span><h3><code class="docutils literal"><span class="pre">rotate_aes_key</span></code><a class="headerlink" href="#rotate-aes-key" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Rotate the salt-masters AES-key when a minion-public is deleted with salt-key.
This is a very important security-setting. Disabling it will enable deleted
minions to still listen in on the messages published by the salt-master.
Do not disable this unless it is absolutely clear what this does.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">rotate_aes_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="master-module-management">
<h2>Master Module Management<a class="headerlink" href="#master-module-management" title="Permalink to this headline">¶</a></h2>
<div class="section" id="runner-dirs">
<span id="std:conf_master-runner_dirs"></span><h3><code class="docutils literal"><span class="pre">runner_dirs</span></code><a class="headerlink" href="#runner-dirs" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Set additional directories to search for runner modules.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">runner_dirs</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/salt/runners</span>
</pre></div>
</div>
</div>
<div class="section" id="cython-enable">
<span id="std:conf_master-cython_enable"></span><h3><code class="docutils literal"><span class="pre">cython_enable</span></code><a class="headerlink" href="#cython-enable" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Set to true to enable Cython modules (.pyx files) to be compiled on the fly on
the Salt master.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">cython_enable</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="master-state-system-settings">
<h2>Master State System Settings<a class="headerlink" href="#master-state-system-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="state-top">
<span id="std:conf_master-state_top"></span><h3><code class="docutils literal"><span class="pre">state_top</span></code><a class="headerlink" href="#state-top" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">top.sls</span></code></p>
<p>The state system uses a &quot;top&quot; file to tell the minions what environment to
use and what modules to use. The state_top file is defined relative to the
root of the base environment.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">state_top</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">top.sls</span>
</pre></div>
</div>
</div>
<div class="section" id="master-tops">
<span id="std:conf_master-master_tops"></span><h3><code class="docutils literal"><span class="pre">master_tops</span></code><a class="headerlink" href="#master-tops" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>The master_tops option replaces the external_nodes option by creating
a pluggable system for the generation of external top data. The external_nodes
option is deprecated by the master_tops option.
To gain the capabilities of the classic external_nodes system, use the
following configuration:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">master_tops</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ext_nodes</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;Shell command which returns yaml&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="external-nodes">
<span id="std:conf_master-external_nodes"></span><h3><code class="docutils literal"><span class="pre">external_nodes</span></code><a class="headerlink" href="#external-nodes" title="Permalink to this headline">¶</a></h3>
<p>Default: None</p>
<p>The external_nodes option allows Salt to gather data that would normally be
placed in a top file from and external node controller. The external_nodes
option is the executable that will return the ENC data. Remember that Salt
will look for external nodes AND top files and combine the results if both
are enabled and available!</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">external_nodes</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">cobbler-ext-nodes</span>
</pre></div>
</div>
</div>
<div class="section" id="renderer">
<span id="std:conf_master-renderer"></span><h3><code class="docutils literal"><span class="pre">renderer</span></code><a class="headerlink" href="#renderer" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">yaml_jinja</span></code></p>
<p>The renderer to use on the minions to render the state data.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">renderer</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">yaml_jinja</span>
</pre></div>
</div>
</div>
<div class="section" id="jinja-trim-blocks">
<span id="std:conf_master-jinja_trim_blocks"></span><h3><code class="docutils literal"><span class="pre">jinja_trim_blocks</span></code><a class="headerlink" href="#jinja-trim-blocks" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.1.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>If this is set to <code class="docutils literal"><span class="pre">True</span></code>, the first newline after a Jinja block is
removed (block, not variable tag!). Defaults to <code class="docutils literal"><span class="pre">False</span></code> and corresponds
to the Jinja environment init variable <code class="docutils literal"><span class="pre">trim_blocks</span></code>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">jinja_trim_blocks</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="jinja-lstrip-blocks">
<span id="std:conf_master-jinja_lstrip_blocks"></span><h3><code class="docutils literal"><span class="pre">jinja_lstrip_blocks</span></code><a class="headerlink" href="#jinja-lstrip-blocks" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.1.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>If this is set to <code class="docutils literal"><span class="pre">True</span></code>, leading spaces and tabs are stripped from the
start of a line to a block. Defaults to <code class="docutils literal"><span class="pre">False</span></code> and corresponds to the
Jinja environment init variable <code class="docutils literal"><span class="pre">lstrip_blocks</span></code>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">jinja_lstrip_blocks</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="failhard">
<span id="std:conf_master-failhard"></span><h3><code class="docutils literal"><span class="pre">failhard</span></code><a class="headerlink" href="#failhard" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Set the global failhard flag. This informs all states to stop running states
at the moment a single state fails.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">failhard</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="state-verbose">
<span id="std:conf_master-state_verbose"></span><h3><code class="docutils literal"><span class="pre">state_verbose</span></code><a class="headerlink" href="#state-verbose" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Controls the verbosity of state runs. By default, the results of all states are
returned, but setting this value to <code class="docutils literal"><span class="pre">False</span></code> will cause salt to only display
output for states that failed or states that have changes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">state_verbose</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="state-output">
<span id="std:conf_master-state_output"></span><h3><code class="docutils literal"><span class="pre">state_output</span></code><a class="headerlink" href="#state-output" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">full</span></code></p>
<p>The state_output setting changes if the output is the full multi line
output for each changed state if set to 'full', but if set to 'terse'
the output will be shortened to a single line.  If set to 'mixed', the output
will be terse unless a state failed, in which case that output will be full.
If set to 'changes', the output will be full unless the state didn't change.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">state_output</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">full</span>
</pre></div>
</div>
</div>
<div class="section" id="state-aggregate">
<span id="std:conf_master-state_aggregate"></span><h3><code class="docutils literal"><span class="pre">state_aggregate</span></code><a class="headerlink" href="#state-aggregate" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Automatically aggregate all states that have support for mod_aggregate by
setting to <code class="docutils literal"><span class="pre">True</span></code>. Or pass a list of state module names to automatically
aggregate just those types.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">state_aggregate</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pkg</span>
</pre></div>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">state_aggregate</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="state-events">
<span id="std:conf_master-state_events"></span><h3><code class="docutils literal"><span class="pre">state_events</span></code><a class="headerlink" href="#state-events" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Send progress events as each function in a state run completes execution
by setting to <code class="docutils literal"><span class="pre">True</span></code>. Progress events are in the format
<code class="docutils literal"><span class="pre">salt/job/&lt;JID&gt;/prog/&lt;MID&gt;/&lt;RUN</span> <span class="pre">NUM&gt;</span></code>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">state_events</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="yaml-utf8">
<span id="std:conf_master-yaml_utf8"></span><h3><code class="docutils literal"><span class="pre">yaml_utf8</span></code><a class="headerlink" href="#yaml-utf8" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Enable extra routines for YAML renderer used states containing UTF characters.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">yaml_utf8</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="test">
<span id="std:conf_master-test"></span><h3><code class="docutils literal"><span class="pre">test</span></code><a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Set all state calls to only test if they are going to actually make changes
or just post what changes are going to be made.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">test</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="master-file-server-settings">
<h2>Master File Server Settings<a class="headerlink" href="#master-file-server-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fileserver-backend">
<span id="std:conf_master-fileserver_backend"></span><h3><code class="docutils literal"><span class="pre">fileserver_backend</span></code><a class="headerlink" href="#fileserver-backend" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">['roots']</span></code></p>
<p>Salt supports a modular fileserver backend system, this system allows the salt
master to link directly to third party systems to gather and manage the files
available to minions. Multiple backends can be configured and will be searched
for the requested file in the order in which they are defined here. The default
setting only enables the standard backend <code class="docutils literal"><span class="pre">roots</span></code>, which is configured using
the <a class="reference internal" href="#std:conf_master-file_roots"><code class="xref std std-conf_master docutils literal"><span class="pre">file_roots</span></code></a> option.</p>
<p>Example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">fileserver_backend</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">roots</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For masterless Salt, this parameter must be specified in the minion config
file.</p>
</div>
</div>
<div class="section" id="fileserver-followsymlinks">
<span id="std:conf_master-fileserver_followsymlinks"></span><h3><code class="docutils literal"><span class="pre">fileserver_followsymlinks</span></code><a class="headerlink" href="#fileserver-followsymlinks" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.1.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>By default, the file_server follows symlinks when walking the filesystem tree.
Currently this only applies to the default roots fileserver_backend.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">fileserver_followsymlinks</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="fileserver-ignoresymlinks">
<span id="std:conf_master-fileserver_ignoresymlinks"></span><h3><code class="docutils literal"><span class="pre">fileserver_ignoresymlinks</span></code><a class="headerlink" href="#fileserver-ignoresymlinks" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.1.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>If you do not want symlinks to be treated as the files they are pointing to,
set <code class="docutils literal"><span class="pre">fileserver_ignoresymlinks</span></code> to <code class="docutils literal"><span class="pre">True</span></code>. By default this is set to
False. When set to <code class="docutils literal"><span class="pre">True</span></code>, any detected symlink while listing files on the
Master will not be returned to the Minion.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">fileserver_ignoresymlinks</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="fileserver-limit-traversal">
<span id="std:conf_master-fileserver_limit_traversal"></span><h3><code class="docutils literal"><span class="pre">fileserver_limit_traversal</span></code><a class="headerlink" href="#fileserver-limit-traversal" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.1.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>By default, the Salt fileserver recurses fully into all defined environments
to attempt to find files. To limit this behavior so that the fileserver only
traverses directories with SLS files and special Salt directories like _modules,
set <code class="docutils literal"><span class="pre">fileserver_limit_traversal</span></code> to <code class="docutils literal"><span class="pre">True</span></code>. This might be useful for
installations where a file root has a very large number of files and performance
is impacted.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">fileserver_limit_traversal</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="hash-type">
<span id="std:conf_master-hash_type"></span><h3><code class="docutils literal"><span class="pre">hash_type</span></code><a class="headerlink" href="#hash-type" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">md5</span></code></p>
<p>The hash_type is the hash to use when discovering the hash of a file on
the master server. The default is md5, but sha1, sha224, sha256, sha384, and
sha512 are also supported.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hash_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">md5</span>
</pre></div>
</div>
</div>
<div class="section" id="file-buffer-size">
<span id="std:conf_master-file_buffer_size"></span><h3><code class="docutils literal"><span class="pre">file_buffer_size</span></code><a class="headerlink" href="#file-buffer-size" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">1048576</span></code></p>
<p>The buffer size in the file server in bytes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">file_buffer_size</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1048576</span>
</pre></div>
</div>
</div>
<div class="section" id="file-ignore-regex">
<span id="std:conf_master-file_ignore_regex"></span><h3><code class="docutils literal"><span class="pre">file_ignore_regex</span></code><a class="headerlink" href="#file-ignore-regex" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>A regular expression (or a list of expressions) that will be matched
against the file path before syncing the modules and states to the minions.
This includes files affected by the file.recurse state.
For example, if you manage your custom modules and states in subversion
and don't want all the '.svn' folders and content synced to your minions,
you could set this to '/.svn($|/)'. By default nothing is ignored.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">file_ignore_regex</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;/\.svn($|/)&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;/\.git($|/)&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="file-ignore-glob">
<span id="std:conf_master-file_ignore_glob"></span><h3><code class="docutils literal"><span class="pre">file_ignore_glob</span></code><a class="headerlink" href="#file-ignore-glob" title="Permalink to this headline">¶</a></h3>
<p>Default <code class="docutils literal"><span class="pre">''</span></code></p>
<p>A file glob (or list of file globs) that will be matched against the file
path before syncing the modules and states to the minions. This is similar
to file_ignore_regex above, but works on globs instead of regex. By default
nothing is ignored.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">file_ignore_glob</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;\*.pyc&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;\*/somefolder/\*.bak&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;\*.swp&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Vim's .swp files are a common cause of Unicode errors in
<a class="reference internal" href="../states/all/salt.states.file.html#salt.states.file.recurse" title="salt.states.file.recurse"><code class="xref py py-func docutils literal"><span class="pre">file.recurse</span></code></a> states which use
templating. Unless there is a good reason to distribute them via the
fileserver, it is good practice to include <code class="docutils literal"><span class="pre">'\*.swp'</span></code> in the
<a class="reference internal" href="#std:conf_master-file_ignore_glob"><code class="xref std std-conf_master docutils literal"><span class="pre">file_ignore_glob</span></code></a>.</p>
</div>
</div>
<div class="section" id="roots-master-s-local-file-server">
<h3>roots: Master's Local File Server<a class="headerlink" href="#roots-master-s-local-file-server" title="Permalink to this headline">¶</a></h3>
<div class="section" id="file-roots">
<span id="std:conf_master-file_roots"></span><h4><code class="docutils literal"><span class="pre">file_roots</span></code><a class="headerlink" href="#file-roots" title="Permalink to this headline">¶</a></h4>
<p>Default:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">base</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/salt</span>
</pre></div>
</div>
<p>Salt runs a lightweight file server written in ZeroMQ to deliver files to
minions. This file server is built into the master daemon and does not
require a dedicated port.</p>
<p>The file server works on environments passed to the master. Each environment
can have multiple root directories. The subdirectories in the multiple file
roots cannot match, otherwise the downloaded files will not be able to be
reliably ensured. A base environment is required to house the top file.</p>
<p>Example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">file_roots</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">base</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/salt</span>
  <span class="l l-Scalar l-Scalar-Plain">dev</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/salt/dev/services</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/salt/dev/states</span>
  <span class="l l-Scalar l-Scalar-Plain">prod</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/salt/prod/services</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/salt/prod/states</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For masterless Salt, this parameter must be specified in the minion config
file.</p>
</div>
</div>
</div>
<div class="section" id="git-git-remote-file-server-backend">
<h3>git: Git Remote File Server Backend<a class="headerlink" href="#git-git-remote-file-server-backend" title="Permalink to this headline">¶</a></h3>
<div class="section" id="gitfs-remotes">
<span id="std:conf_master-gitfs_remotes"></span><h4><code class="docutils literal"><span class="pre">gitfs_remotes</span></code><a class="headerlink" href="#gitfs-remotes" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>When using the <code class="docutils literal"><span class="pre">git</span></code> fileserver backend at least one git remote needs to be
defined. The user running the salt master will need read access to the repo.</p>
<p>The repos will be searched in order to find the file requested by a client and
the first repo to have the file will return it. Branches and tags are
translated into salt environments.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_remotes</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git://github.com/saltstack/salt-states.git</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">file:///var/git/saltmaster</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">file://</span></code> repos will be treated as a remote and copied into the master's
gitfs cache, so only the <em>local</em> refs for those repos will be exposed as
fileserver environments.</p>
</div>
<p>As of 2014.7.0, it is possible to have per-repo versions of several of the
gitfs configuration parameters. For more information, see the <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-per-remote-config"><span class="std std-ref">GitFS
Walkthrough</span></a>.</p>
</div>
<div class="section" id="gitfs-provider">
<span id="std:conf_master-gitfs_provider"></span><h4><code class="docutils literal"><span class="pre">gitfs_provider</span></code><a class="headerlink" href="#gitfs-provider" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Optional parameter used to specify the provider to be used for gitfs. More
information can be found in the <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-dependencies"><span class="std std-ref">GitFS Walkthrough</span></a>.</p>
<p>Must be one of the following: <code class="docutils literal"><span class="pre">pygit2</span></code>, <code class="docutils literal"><span class="pre">gitpython</span></code>, or <code class="docutils literal"><span class="pre">dulwich</span></code>. If
unset, then each will be tried in that same order, and the first one with a
compatible version installed will be the provider that is used.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_provider</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dulwich</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-ssl-verify">
<span id="std:conf_master-gitfs_ssl_verify"></span><h4><code class="docutils literal"><span class="pre">gitfs_ssl_verify</span></code><a class="headerlink" href="#gitfs-ssl-verify" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Specifies whether or not to ignore SSL certificate errors when contacting the
remote repository. The <code class="docutils literal"><span class="pre">False</span></code> setting is useful if you're using a
git repo that uses a self-signed certificate. However, keep in mind that
setting this to anything other <code class="docutils literal"><span class="pre">True</span></code> is a considered insecure, and using an
SSH-based transport (if available) may be a better option.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_ssl_verify</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-mountpoint">
<span id="std:conf_master-gitfs_mountpoint"></span><h4><code class="docutils literal"><span class="pre">gitfs_mountpoint</span></code><a class="headerlink" href="#gitfs-mountpoint" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Specifies a path on the salt fileserver which will be prepended to all files
served by gitfs. This option can be used in conjunction with
<a class="reference internal" href="#std:conf_master-gitfs_root"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_root</span></code></a>. It can also be configured on a per-remote basis, see
<a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-per-remote-config"><span class="std std-ref">here</span></a> for more info.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_mountpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt://foo/bar</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">salt://</span></code> protocol designation can be left off (in other words,
<code class="docutils literal"><span class="pre">foo/bar</span></code> and <code class="docutils literal"><span class="pre">salt://foo/bar</span></code> are equivalent). Assuming a file
<code class="docutils literal"><span class="pre">baz.sh</span></code> in the root of a gitfs remote, and the above example mountpoint,
this file would be served up via <code class="docutils literal"><span class="pre">salt://foo/bar/baz.sh</span></code>.</p>
</div>
</div>
<div class="section" id="gitfs-root">
<span id="std:conf_master-gitfs_root"></span><h4><code class="docutils literal"><span class="pre">gitfs_root</span></code><a class="headerlink" href="#gitfs-root" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Relative path to a subdirectory within the repository from which Salt should
begin to serve files. This is useful when there are files in the repository
that should not be available to the Salt fileserver. Can be used in conjunction
with <a class="reference internal" href="#std:conf_master-gitfs_mountpoint"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_mountpoint</span></code></a>. If used, then from Salt's perspective the
directories above the one specified will be ignored and the relative path will
(for the purposes of gitfs) be considered as the root of the repo.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">somefolder/otherfolder</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2014.7.0: </span>Ability to specify gitfs roots on a per-remote basis was added. See
<a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-per-remote-config"><span class="std std-ref">here</span></a> for more info.</p>
</div>
</div>
<div class="section" id="gitfs-base">
<span id="std:conf_master-gitfs_base"></span><h4><code class="docutils literal"><span class="pre">gitfs_base</span></code><a class="headerlink" href="#gitfs-base" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">master</span></code></p>
<p>Defines which branch/tag should be used as the <code class="docutils literal"><span class="pre">base</span></code> environment.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_base</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2014.7.0: </span>Ability to specify the base on a per-remote basis was added. See <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-per-remote-config"><span class="std std-ref">here</span></a> for more info.</p>
</div>
</div>
<div class="section" id="gitfs-env-whitelist">
<span id="std:conf_master-gitfs_env_whitelist"></span><h4><code class="docutils literal"><span class="pre">gitfs_env_whitelist</span></code><a class="headerlink" href="#gitfs-env-whitelist" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Used to restrict which environments are made available. Can speed up state runs
if the repos in <a class="reference internal" href="#std:conf_master-gitfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_remotes</span></code></a> contain many branches/tags.  More
information can be found in the <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-whitelist-blacklist"><span class="std std-ref">GitFS Walkthrough</span></a>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_env_whitelist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">v1.*</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;mybranch\d+&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-env-blacklist">
<span id="std:conf_master-gitfs_env_blacklist"></span><h4><code class="docutils literal"><span class="pre">gitfs_env_blacklist</span></code><a class="headerlink" href="#gitfs-env-blacklist" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Used to restrict which environments are made available. Can speed up state runs
if the repos in <a class="reference internal" href="#std:conf_master-gitfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_remotes</span></code></a> contain many branches/tags. More
information can be found in the <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-whitelist-blacklist"><span class="std std-ref">GitFS Walkthrough</span></a>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_env_blacklist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">v1.*</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;mybranch\d+&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-global-lock">
<span id="std:conf_master-gitfs_global_lock"></span><h4><code class="docutils literal"><span class="pre">gitfs_global_lock</span></code><a class="headerlink" href="#gitfs-global-lock" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.9.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>When set to <code class="docutils literal"><span class="pre">False</span></code>, if there is an update lock for a gitfs remote and the
pid written to it is not running on the master, the lock file will be
automatically cleared and a new lock will be obtained. When set to <code class="docutils literal"><span class="pre">True</span></code>,
Salt will simply log a warning when there is an update lock present.</p>
<p>On single-master deployments, disabling this option can help automatically deal
with instances where the master was shutdown/restarted during the middle of a
gitfs update, leaving a update lock in place.</p>
<p>However, on multi-master deployments with the gitfs cachedir shared via
<a class="reference external" href="http://www.gluster.org/">GlusterFS</a>, nfs, or another network filesystem, it is strongly recommended
not to disable this option as doing so will cause lock files to be removed if
they were created by a different master.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1"># Disable global lock</span>
<span class="l l-Scalar l-Scalar-Plain">gitfs_global_lock</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-authentication-options">
<h4>GitFS Authentication Options<a class="headerlink" href="#gitfs-authentication-options" title="Permalink to this headline">¶</a></h4>
<p>These parameters only currently apply to the pygit2 gitfs provider. Examples of
how to use these can be found in the <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-authentication"><span class="std std-ref">GitFS Walkthrough</span></a>.</p>
<div class="section" id="gitfs-user">
<span id="std:conf_master-gitfs_user"></span><h5><code class="docutils literal"><span class="pre">gitfs_user</span></code><a class="headerlink" href="#gitfs-user" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-gitfs_password"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_password</span></code></a>, is used to authenticate to HTTPS
remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_user</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-password">
<span id="std:conf_master-gitfs_password"></span><h5><code class="docutils literal"><span class="pre">gitfs_password</span></code><a class="headerlink" href="#gitfs-password" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-gitfs_user"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_user</span></code></a>, is used to authenticate to HTTPS remotes.
This parameter is not required if the repository does not use authentication.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mypassword</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-insecure-auth">
<span id="std:conf_master-gitfs_insecure_auth"></span><h5><code class="docutils literal"><span class="pre">gitfs_insecure_auth</span></code><a class="headerlink" href="#gitfs-insecure-auth" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>By default, Salt will not authenticate to an HTTP (non-HTTPS) remote. This
parameter enables authentication over HTTP. <strong>Enable this at your own risk.</strong></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_insecure_auth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-pubkey">
<span id="std:conf_master-gitfs_pubkey"></span><h5><code class="docutils literal"><span class="pre">gitfs_pubkey</span></code><a class="headerlink" href="#gitfs-pubkey" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-gitfs_privkey"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_privkey</span></code></a> (and optionally
<a class="reference internal" href="#std:conf_master-gitfs_passphrase"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_passphrase</span></code></a>), is used to authenticate to SSH remotes. This
parameter (or its <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-per-remote-config"><span class="std std-ref">per-remote counterpart</span></a>) is
required for SSH remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_pubkey</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/key.pub</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-privkey">
<span id="std:conf_master-gitfs_privkey"></span><h5><code class="docutils literal"><span class="pre">gitfs_privkey</span></code><a class="headerlink" href="#gitfs-privkey" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-gitfs_pubkey"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_pubkey</span></code></a> (and optionally
<a class="reference internal" href="#std:conf_master-gitfs_passphrase"><code class="xref std std-conf_master docutils literal"><span class="pre">gitfs_passphrase</span></code></a>), is used to authenticate to SSH remotes. This
parameter (or its <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-per-remote-config"><span class="std std-ref">per-remote counterpart</span></a>) is
required for SSH remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_privkey</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/key</span>
</pre></div>
</div>
</div>
<div class="section" id="gitfs-passphrase">
<span id="std:conf_master-gitfs_passphrase"></span><h5><code class="docutils literal"><span class="pre">gitfs_passphrase</span></code><a class="headerlink" href="#gitfs-passphrase" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>This parameter is optional, required only when the SSH key being used to
authenticate is protected by a passphrase.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">gitfs_passphrase</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mypassphrase</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="hg-mercurial-remote-file-server-backend">
<h3>hg: Mercurial Remote File Server Backend<a class="headerlink" href="#hg-mercurial-remote-file-server-backend" title="Permalink to this headline">¶</a></h3>
<div class="section" id="hgfs-remotes">
<span id="std:conf_master-hgfs_remotes"></span><h4><code class="docutils literal"><span class="pre">hgfs_remotes</span></code><a class="headerlink" href="#hgfs-remotes" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>When using the <code class="docutils literal"><span class="pre">hg</span></code> fileserver backend at least one mercurial remote needs to
be defined. The user running the salt master will need read access to the repo.</p>
<p>The repos will be searched in order to find the file requested by a client and
the first repo to have the file will return it. Branches and/or bookmarks are
translated into salt environments, as defined by the
<a class="reference internal" href="#std:conf_master-hgfs_branch_method"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_branch_method</span></code></a> parameter.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hgfs_remotes</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://username@bitbucket.org/username/reponame</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>As of 2014.7.0, it is possible to have per-repo versions of the
<a class="reference internal" href="#std:conf_master-hgfs_root"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_root</span></code></a>, <a class="reference internal" href="#std:conf_master-hgfs_mountpoint"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_mountpoint</span></code></a>,
<a class="reference internal" href="#std:conf_master-hgfs_base"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_base</span></code></a>, and <a class="reference internal" href="#std:conf_master-hgfs_branch_method"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_branch_method</span></code></a> parameters.
For example:</p>
<div class="last highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hgfs_remotes</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://username@bitbucket.org/username/repo1</span>
    <span class="l l-Scalar l-Scalar-Plain">- base</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">saltstates</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://username@bitbucket.org/username/repo2</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">mountpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt://foo/bar/baz</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://username@bitbucket.org/username/repo3</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt/states</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">branch_method</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mixed</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hgfs-branch-method">
<span id="std:conf_master-hgfs_branch_method"></span><h4><code class="docutils literal"><span class="pre">hgfs_branch_method</span></code><a class="headerlink" href="#hgfs-branch-method" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">branches</span></code></p>
<p>Defines the objects that will be used as fileserver environments.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">branches</span></code> - Only branches and tags will be used</li>
<li><code class="docutils literal"><span class="pre">bookmarks</span></code> - Only bookmarks and tags will be used</li>
<li><code class="docutils literal"><span class="pre">mixed</span></code> - Branches, bookmarks, and tags will be used</li>
</ul>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hgfs_branch_method</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mixed</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Starting in version 2014.1.0, the value of the <a class="reference internal" href="#std:conf_master-hgfs_base"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_base</span></code></a>
parameter defines which branch is used as the <code class="docutils literal"><span class="pre">base</span></code> environment,
allowing for a <code class="docutils literal"><span class="pre">base</span></code> environment to be used with an
<a class="reference internal" href="#std:conf_master-hgfs_branch_method"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_branch_method</span></code></a> of <code class="docutils literal"><span class="pre">bookmarks</span></code>.</p>
<p class="last">Prior to this release, the <code class="docutils literal"><span class="pre">default</span></code> branch will be used as the <code class="docutils literal"><span class="pre">base</span></code>
environment.</p>
</div>
</div>
<div class="section" id="hgfs-mountpoint">
<span id="std:conf_master-hgfs_mountpoint"></span><h4><code class="docutils literal"><span class="pre">hgfs_mountpoint</span></code><a class="headerlink" href="#hgfs-mountpoint" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Specifies a path on the salt fileserver which will be prepended to all files
served by hgfs. This option can be used in conjunction with
<a class="reference internal" href="#std:conf_master-hgfs_root"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_root</span></code></a>. It can also be configured on a per-remote basis, see
<a class="reference internal" href="#std:conf_master-hgfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">here</span></code></a> for more info.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hgfs_mountpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt://foo/bar</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">salt://</span></code> protocol designation can be left off (in other words,
<code class="docutils literal"><span class="pre">foo/bar</span></code> and <code class="docutils literal"><span class="pre">salt://foo/bar</span></code> are equivalent). Assuming a file
<code class="docutils literal"><span class="pre">baz.sh</span></code> in the root of an hgfs remote, this file would be served up via
<code class="docutils literal"><span class="pre">salt://foo/bar/baz.sh</span></code>.</p>
</div>
</div>
<div class="section" id="hgfs-root">
<span id="std:conf_master-hgfs_root"></span><h4><code class="docutils literal"><span class="pre">hgfs_root</span></code><a class="headerlink" href="#hgfs-root" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Relative path to a subdirectory within the repository from which Salt should
begin to serve files. This is useful when there are files in the repository
that should not be available to the Salt fileserver. Can be used in conjunction
with <a class="reference internal" href="#std:conf_master-hgfs_mountpoint"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_mountpoint</span></code></a>. If used, then from Salt's perspective the
directories above the one specified will be ignored and the relative path will
(for the purposes of hgfs) be considered as the root of the repo.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hgfs_root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">somefolder/otherfolder</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2014.7.0: </span>Ability to specify hgfs roots on a per-remote basis was added. See
<a class="reference internal" href="#std:conf_master-hgfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">here</span></code></a> for more info.</p>
</div>
</div>
<div class="section" id="hgfs-base">
<span id="std:conf_master-hgfs_base"></span><h4><code class="docutils literal"><span class="pre">hgfs_base</span></code><a class="headerlink" href="#hgfs-base" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.1.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">default</span></code></p>
<p>Defines which branch should be used as the <code class="docutils literal"><span class="pre">base</span></code> environment. Change this if
<a class="reference internal" href="#std:conf_master-hgfs_branch_method"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_branch_method</span></code></a> is set to <code class="docutils literal"><span class="pre">bookmarks</span></code> to specify which
bookmark should be used as the <code class="docutils literal"><span class="pre">base</span></code> environment.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hgfs_base</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt</span>
</pre></div>
</div>
</div>
<div class="section" id="hgfs-env-whitelist">
<span id="std:conf_master-hgfs_env_whitelist"></span><h4><code class="docutils literal"><span class="pre">hgfs_env_whitelist</span></code><a class="headerlink" href="#hgfs-env-whitelist" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Used to restrict which environments are made available. Can speed up state runs
if your hgfs remotes contain many branches/bookmarks/tags. Full names, globs,
and regular expressions are supported. If using a regular expression, the
expression must match the entire minion ID.</p>
<p>If used, only branches/bookmarks/tags which match one of the specified
expressions will be exposed as fileserver environments.</p>
<p>If used in conjunction with <a class="reference internal" href="#std:conf_master-hgfs_env_blacklist"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_env_blacklist</span></code></a>, then the subset
of branches/bookmarks/tags which match the whitelist but do <em>not</em> match the
blacklist will be exposed as fileserver environments.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hgfs_env_whitelist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">v1.*</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;mybranch\d+&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="hgfs-env-blacklist">
<span id="std:conf_master-hgfs_env_blacklist"></span><h4><code class="docutils literal"><span class="pre">hgfs_env_blacklist</span></code><a class="headerlink" href="#hgfs-env-blacklist" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Used to restrict which environments are made available. Can speed up state runs
if your hgfs remotes contain many branches/bookmarks/tags. Full names, globs,
and regular expressions are supported. If using a regular expression, the
expression must match the entire minion ID.</p>
<p>If used, branches/bookmarks/tags which match one of the specified expressions
will <em>not</em> be exposed as fileserver environments.</p>
<p>If used in conjunction with <a class="reference internal" href="#std:conf_master-hgfs_env_whitelist"><code class="xref std std-conf_master docutils literal"><span class="pre">hgfs_env_whitelist</span></code></a>, then the subset
of branches/bookmarks/tags which match the whitelist but do <em>not</em> match the
blacklist will be exposed as fileserver environments.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">hgfs_env_blacklist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">v1.*</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;mybranch\d+&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="svn-subversion-remote-file-server-backend">
<h3>svn: Subversion Remote File Server Backend<a class="headerlink" href="#svn-subversion-remote-file-server-backend" title="Permalink to this headline">¶</a></h3>
<div class="section" id="svnfs-remotes">
<span id="std:conf_master-svnfs_remotes"></span><h4><code class="docutils literal"><span class="pre">svnfs_remotes</span></code><a class="headerlink" href="#svnfs-remotes" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>When using the <code class="docutils literal"><span class="pre">svn</span></code> fileserver backend at least one subversion remote needs
to be defined. The user running the salt master will need read access to the
repo.</p>
<p>The repos will be searched in order to find the file requested by a client and
the first repo to have the file will return it. The trunk, branches, and tags
become environments, with the trunk being the <code class="docutils literal"><span class="pre">base</span></code> environment.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_remotes</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">svn://foo.com/svn/myproject</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>As of 2014.7.0, it is possible to have per-repo versions of the following
configuration parameters:</p>
<ul class="simple">
<li><a class="reference internal" href="#std:conf_master-svnfs_root"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_root</span></code></a></li>
<li><a class="reference internal" href="#std:conf_master-svnfs_mountpoint"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_mountpoint</span></code></a></li>
<li><a class="reference internal" href="#std:conf_master-svnfs_trunk"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_trunk</span></code></a></li>
<li><a class="reference internal" href="#std:conf_master-svnfs_branches"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_branches</span></code></a></li>
<li><a class="reference internal" href="#std:conf_master-svnfs_tags"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_tags</span></code></a></li>
</ul>
<p>For example:</p>
<div class="last highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_remotes</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">svn://foo.com/svn/project1</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">svn://foo.com/svn/project2</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">mountpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt://foo/bar/baz</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">svn//foo.com/svn/project3</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt/states</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">branches</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">branch</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tag</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="svnfs-mountpoint">
<span id="std:conf_master-svnfs_mountpoint"></span><h4><code class="docutils literal"><span class="pre">svnfs_mountpoint</span></code><a class="headerlink" href="#svnfs-mountpoint" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Specifies a path on the salt fileserver which will be prepended to all files
served by hgfs. This option can be used in conjunction with
<a class="reference internal" href="#std:conf_master-svnfs_root"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_root</span></code></a>. It can also be configured on a per-remote basis, see
<a class="reference internal" href="#std:conf_master-svnfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">here</span></code></a> for more info.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_mountpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt://foo/bar</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">salt://</span></code> protocol designation can be left off (in other words,
<code class="docutils literal"><span class="pre">foo/bar</span></code> and <code class="docutils literal"><span class="pre">salt://foo/bar</span></code> are equivalent). Assuming a file
<code class="docutils literal"><span class="pre">baz.sh</span></code> in the root of an svnfs remote, this file would be served up via
<code class="docutils literal"><span class="pre">salt://foo/bar/baz.sh</span></code>.</p>
</div>
</div>
<div class="section" id="svnfs-root">
<span id="std:conf_master-svnfs_root"></span><h4><code class="docutils literal"><span class="pre">svnfs_root</span></code><a class="headerlink" href="#svnfs-root" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Relative path to a subdirectory within the repository from which Salt should
begin to serve files. This is useful when there are files in the repository
that should not be available to the Salt fileserver. Can be used in conjunction
with <a class="reference internal" href="#std:conf_master-svnfs_mountpoint"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_mountpoint</span></code></a>. If used, then from Salt's perspective the
directories above the one specified will be ignored and the relative path will
(for the purposes of svnfs) be considered as the root of the repo.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">somefolder/otherfolder</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2014.7.0: </span>Ability to specify svnfs roots on a per-remote basis was added. See
<a class="reference internal" href="#std:conf_master-svnfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">here</span></code></a> for more info.</p>
</div>
</div>
<div class="section" id="svnfs-trunk">
<span id="std:conf_master-svnfs_trunk"></span><h4><code class="docutils literal"><span class="pre">svnfs_trunk</span></code><a class="headerlink" href="#svnfs-trunk" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">trunk</span></code></p>
<p>Path relative to the root of the repository where the trunk is located. Can
also be configured on a per-remote basis, see <a class="reference internal" href="#std:conf_master-svnfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">here</span></code></a> for more info.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_trunk</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">trunk</span>
</pre></div>
</div>
</div>
<div class="section" id="svnfs-branches">
<span id="std:conf_master-svnfs_branches"></span><h4><code class="docutils literal"><span class="pre">svnfs_branches</span></code><a class="headerlink" href="#svnfs-branches" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">branches</span></code></p>
<p>Path relative to the root of the repository where the branches are located. Can
also be configured on a per-remote basis, see <a class="reference internal" href="#std:conf_master-svnfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">here</span></code></a> for more info.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_branches</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">branches</span>
</pre></div>
</div>
</div>
<div class="section" id="svnfs-tags">
<span id="std:conf_master-svnfs_tags"></span><h4><code class="docutils literal"><span class="pre">svnfs_tags</span></code><a class="headerlink" href="#svnfs-tags" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">tags</span></code></p>
<p>Path relative to the root of the repository where the tags are located. Can
also be configured on a per-remote basis, see <a class="reference internal" href="#std:conf_master-svnfs_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">here</span></code></a> for more info.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_tags</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tags</span>
</pre></div>
</div>
</div>
<div class="section" id="svnfs-env-whitelist">
<span id="std:conf_master-svnfs_env_whitelist"></span><h4><code class="docutils literal"><span class="pre">svnfs_env_whitelist</span></code><a class="headerlink" href="#svnfs-env-whitelist" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Used to restrict which environments are made available. Can speed up state runs
if your svnfs remotes contain many branches/tags. Full names, globs, and
regular expressions are supported. If using a regular expression, the expression
must match the entire minion ID.</p>
<p>If used, only branches/tags which match one of the specified expressions will
be exposed as fileserver environments.</p>
<p>If used in conjunction with <a class="reference internal" href="#std:conf_master-svnfs_env_blacklist"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_env_blacklist</span></code></a>, then the subset
of branches/tags which match the whitelist but do <em>not</em> match the blacklist
will be exposed as fileserver environments.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_env_whitelist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">v1.*</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;mybranch\d+&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="svnfs-env-blacklist">
<span id="std:conf_master-svnfs_env_blacklist"></span><h4><code class="docutils literal"><span class="pre">svnfs_env_blacklist</span></code><a class="headerlink" href="#svnfs-env-blacklist" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Used to restrict which environments are made available. Can speed up state runs
if your svnfs remotes contain many branches/tags. Full names, globs, and
regular expressions are supported. If using a regular expression, the
expression must match the entire minion ID.</p>
<p>If used, branches/tags which match one of the specified expressions will <em>not</em>
be exposed as fileserver environments.</p>
<p>If used in conjunction with <a class="reference internal" href="#std:conf_master-svnfs_env_whitelist"><code class="xref std std-conf_master docutils literal"><span class="pre">svnfs_env_whitelist</span></code></a>, then the subset
of branches/tags which match the whitelist but do <em>not</em> match the blacklist
will be exposed as fileserver environments.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">svnfs_env_blacklist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">v1.*</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;mybranch\d+&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="minion-minionfs-remote-file-server-backend">
<h3>minion: MinionFS Remote File Server Backend<a class="headerlink" href="#minion-minionfs-remote-file-server-backend" title="Permalink to this headline">¶</a></h3>
<div class="section" id="minionfs-env">
<span id="std:conf_master-minionfs_env"></span><h4><code class="docutils literal"><span class="pre">minionfs_env</span></code><a class="headerlink" href="#minionfs-env" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">base</span></code></p>
<p>Environment from which MinionFS files are made available.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">minionfs_env</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">minionfs</span>
</pre></div>
</div>
</div>
<div class="section" id="minionfs-mountpoint">
<span id="std:conf_master-minionfs_mountpoint"></span><h4><code class="docutils literal"><span class="pre">minionfs_mountpoint</span></code><a class="headerlink" href="#minionfs-mountpoint" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Specifies a path on the salt fileserver from which minionfs files are served.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">minionfs_mountpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt://foo/bar</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">salt://</span></code> protocol designation can be left off (in other words,
<code class="docutils literal"><span class="pre">foo/bar</span></code> and <code class="docutils literal"><span class="pre">salt://foo/bar</span></code> are equivalent).</p>
</div>
</div>
<div class="section" id="minionfs-whitelist">
<span id="std:conf_master-minionfs_whitelist"></span><h4><code class="docutils literal"><span class="pre">minionfs_whitelist</span></code><a class="headerlink" href="#minionfs-whitelist" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Used to restrict which minions' pushed files are exposed via minionfs. If using
a regular expression, the expression must match the entire minion ID.</p>
<p>If used, only the pushed files from minions which match one of the specified
expressions will be exposed.</p>
<p>If used in conjunction with <a class="reference internal" href="#std:conf_master-minionfs_blacklist"><code class="xref std std-conf_master docutils literal"><span class="pre">minionfs_blacklist</span></code></a>, then the subset
of hosts which match the whitelist but do <em>not</em> match the blacklist will be
exposed.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">minionfs_whitelist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">v1.*</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;mybranch\d+&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="minionfs-blacklist">
<span id="std:conf_master-minionfs_blacklist"></span><h4><code class="docutils literal"><span class="pre">minionfs_blacklist</span></code><a class="headerlink" href="#minionfs-blacklist" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Used to restrict which minions' pushed files are exposed via minionfs. If using
a regular expression, the expression must match the entire minion ID.</p>
<p>If used, only the pushed files from minions which match one of the specified
expressions will <em>not</em> be exposed.</p>
<p>If used in conjunction with <a class="reference internal" href="#std:conf_master-minionfs_whitelist"><code class="xref std std-conf_master docutils literal"><span class="pre">minionfs_whitelist</span></code></a>, then the subset
of hosts which match the whitelist but do <em>not</em> match the blacklist will be
exposed.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">minionfs_blacklist</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">v1.*</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;mybranch\d+&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="pillar-configuration">
<span id="id2"></span><h2>Pillar Configuration<a class="headerlink" href="#pillar-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pillar-roots">
<span id="std:conf_master-pillar_roots"></span><h3><code class="docutils literal"><span class="pre">pillar_roots</span></code><a class="headerlink" href="#pillar-roots" title="Permalink to this headline">¶</a></h3>
<p>Default:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">base</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/pillar</span>
</pre></div>
</div>
<p>Set the environments and directories used to hold pillar sls data. This
configuration is the same as <a class="reference internal" href="#std:conf_master-file_roots"><code class="xref std std-conf_master docutils literal"><span class="pre">file_roots</span></code></a>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pillar_roots</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">base</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/pillar</span>
  <span class="l l-Scalar l-Scalar-Plain">dev</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/pillar/dev</span>
  <span class="l l-Scalar l-Scalar-Plain">prod</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/pillar/prod</span>
</pre></div>
</div>
</div>
<div class="section" id="pillar-opts">
<span id="std:conf_master-pillar_opts"></span><h3><code class="docutils literal"><span class="pre">pillar_opts</span></code><a class="headerlink" href="#pillar-opts" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>The <code class="docutils literal"><span class="pre">pillar_opts</span></code> option adds the master configuration file data to a dict in
the pillar called <code class="docutils literal"><span class="pre">master</span></code>. This can be used to set simple configurations in
the master config file that can then be used on minions.</p>
<p>Note that setting this option to <code class="docutils literal"><span class="pre">True</span></code> means the master config file will be
included in all minion's pillars. While this makes global configuration of services
and systems easy, it may not be desired if sensitive data is stored in the master
configuration.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pillar_opts</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
<span class="target" id="master-configuration-ext-pillar"></span></div>
<div class="section" id="ext-pillar">
<span id="std:conf_master-ext_pillar"></span><h3><code class="docutils literal"><span class="pre">ext_pillar</span></code><a class="headerlink" href="#ext-pillar" title="Permalink to this headline">¶</a></h3>
<p>The ext_pillar option allows for any number of external pillar interfaces to be
called when populating pillar data. The configuration is based on ext_pillar
functions. The available ext_pillar functions can be found herein:</p>
<p><a class="reference external" href="https://github.com/saltstack/salt/blob/develop/salt/pillar">https://github.com/saltstack/salt/blob/develop/salt/pillar</a></p>
<p>By default, the ext_pillar interface is not configured to run.</p>
<p>Default: <code class="docutils literal"><span class="pre">[]</span></code></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ext_pillar</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">hiera</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/hiera.yaml</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">cmd_yaml</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">cat /etc/salt/yaml</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">reclass</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">inventory_base_uri</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/reclass</span>
</pre></div>
</div>
<p>There are additional details at <a class="reference internal" href="../pillar/index.html#salt-pillars"><span class="std std-ref">Pillars</span></a></p>
</div>
<div class="section" id="ext-pillar-first">
<span id="std:conf_master-ext_pillar_first"></span><h3><code class="docutils literal"><span class="pre">ext_pillar_first</span></code><a class="headerlink" href="#ext-pillar-first" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.5.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>This option allows for external pillar sources to be evaluated before
<a class="reference internal" href="#std:conf_master-pillar_roots"><code class="xref std std-conf_master docutils literal"><span class="pre">pillar_roots</span></code></a>. This allows for targeting file system pillar from
ext_pillar.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ext_pillar_first</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="git-external-pillar-git-pillar-configuration-options">
<span id="git-pillar-config-opts"></span><h3>Git External Pillar (git_pillar) Configuration Options<a class="headerlink" href="#git-external-pillar-git-pillar-configuration-options" title="Permalink to this headline">¶</a></h3>
<div class="section" id="git-pillar-provider">
<span id="std:conf_master-git_pillar_provider"></span><h4><code class="docutils literal"><span class="pre">git_pillar_provider</span></code><a class="headerlink" href="#git-pillar-provider" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Specify the provider to be used for git_pillar. Must be either <code class="docutils literal"><span class="pre">pygit2</span></code> or
<code class="docutils literal"><span class="pre">gitpython</span></code>. If unset, then both will be tried in that same order, and the
first one with a compatible version installed will be the provider that is
used.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_provider</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gitpython</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-base">
<span id="std:conf_master-git_pillar_base"></span><h4><code class="docutils literal"><span class="pre">git_pillar_base</span></code><a class="headerlink" href="#git-pillar-base" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">master</span></code></p>
<p>If the desired branch matches this value, and the environment is omitted from
the git_pillar configuration, then the environment for that git_pillar remote
will be <code class="docutils literal"><span class="pre">base</span></code>. For example, in the configuration below, the <code class="docutils literal"><span class="pre">foo</span></code>
branch/tag would be assigned to the <code class="docutils literal"><span class="pre">base</span></code> environment, while <code class="docutils literal"><span class="pre">bar</span></code> would
be mapped to the <code class="docutils literal"><span class="pre">bar</span></code> environment.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_base</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>

<span class="l l-Scalar l-Scalar-Plain">ext_pillar</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">foo https://mygitserver/git-pillar.git</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bar https://mygitserver/git-pillar.git</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-branch">
<span id="std:conf_master-git_pillar_branch"></span><h4><code class="docutils literal"><span class="pre">git_pillar_branch</span></code><a class="headerlink" href="#git-pillar-branch" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">master</span></code></p>
<p>If the branch is omitted from a git_pillar remote, then this branch will be
used instead. For example, in the configuration below, the first two remotes
would use the <code class="docutils literal"><span class="pre">pillardata</span></code> branch/tag, while the third would use the <code class="docutils literal"><span class="pre">foo</span></code>
branch/tag.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_branch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pillardata</span>

<span class="l l-Scalar l-Scalar-Plain">ext_pillar</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://mygitserver/pillar1.git</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://mygitserver/pillar2.git</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pillar</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">foo https://mygitserver/pillar3.git</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-env">
<span id="std:conf_master-git_pillar_env"></span><h4><code class="docutils literal"><span class="pre">git_pillar_env</span></code><a class="headerlink" href="#git-pillar-env" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code> (unset)</p>
<p>Environment to use for git_pillar remotes. This is normally derived from the
branch/tag (or from a per-remote <code class="docutils literal"><span class="pre">env</span></code> parameter), but if set this will
override the process of deriving the env from the branch/tag name. For example,
in the configuration below the <code class="docutils literal"><span class="pre">foo</span></code> branch would be assigned to the <code class="docutils literal"><span class="pre">base</span></code>
environment, while the <code class="docutils literal"><span class="pre">bar</span></code> branch would need to explicitly have <code class="docutils literal"><span class="pre">bar</span></code>
configured as it's environment to keep it from also being mapped to the
<code class="docutils literal"><span class="pre">base</span></code> environment.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_env</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">base</span>

<span class="l l-Scalar l-Scalar-Plain">ext_pillar</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">foo https://mygitserver/git-pillar.git</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bar https://mygitserver/git-pillar.git</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">env</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
</pre></div>
</div>
<p>For this reason, this option is recommended to be left unset, unless the use
case calls for all (or almost all) of the git_pillar remotes to use the same
environment irrespective of the branch/tag being used.</p>
</div>
<div class="section" id="git-pillar-root">
<span id="std:conf_master-git_pillar_root"></span><h4><code class="docutils literal"><span class="pre">git_pillar_root</span></code><a class="headerlink" href="#git-pillar-root" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Path relative to the root of the repository where the git_pillar top file and
SLS files are located. In the below configuration, the pillar top file and SLS
files would be looked for in a subdirectory called <code class="docutils literal"><span class="pre">pillar</span></code>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pillar</span>

<span class="l l-Scalar l-Scalar-Plain">ext_pillar</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master https://mygitserver/pillar1.git</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master https://mygitserver/pillar2.git</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This is a global option. If only one or two repos need to have their files
sourced from a subdirectory, then <a class="reference internal" href="#std:conf_master-git_pillar_root"><code class="xref std std-conf_master docutils literal"><span class="pre">git_pillar_root</span></code></a> can be
omitted and the root can be specified on a per-remote basis, like so:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ext_pillar</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master https://mygitserver/pillar1.git</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master https://mygitserver/pillar2.git</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">root</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pillar</span>
</pre></div>
</div>
<p class="last">In this example, for the first remote the top file and SLS files would be
looked for in the root of the repository, while in the second remote the
pillar data would be retrieved from the <code class="docutils literal"><span class="pre">pillar</span></code> subdirectory.</p>
</div>
</div>
<div class="section" id="git-pillar-ssl-verify">
<span id="std:conf_master-git_pillar_ssl_verify"></span><h4><code class="docutils literal"><span class="pre">git_pillar_ssl_verify</span></code><a class="headerlink" href="#git-pillar-ssl-verify" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Specifies whether or not to ignore SSL certificate errors when contacting the
remote repository. The <code class="docutils literal"><span class="pre">False</span></code> setting is useful if you're using a
git repo that uses a self-signed certificate. However, keep in mind that
setting this to anything other <code class="docutils literal"><span class="pre">True</span></code> is a considered insecure, and using an
SSH-based transport (if available) may be a better option.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_ssl_verify</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-global-lock">
<span id="std:conf_master-git_pillar_global_lock"></span><h4><code class="docutils literal"><span class="pre">git_pillar_global_lock</span></code><a class="headerlink" href="#git-pillar-global-lock" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.9.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>When set to <code class="docutils literal"><span class="pre">False</span></code>, if there is an update/checkout lock for a git_pillar
remote and the pid written to it is not running on the master, the lock file
will be automatically cleared and a new lock will be obtained. When set to
<code class="docutils literal"><span class="pre">True</span></code>, Salt will simply log a warning when there is an lock present.</p>
<p>On single-master deployments, disabling this option can help automatically deal
with instances where the master was shutdown/restarted during the middle of a
git_pillar update/checkout, leaving a lock in place.</p>
<p>However, on multi-master deployments with the git_pillar cachedir shared via
<a class="reference external" href="http://www.gluster.org/">GlusterFS</a>, nfs, or another network filesystem, it is strongly recommended
not to disable this option as doing so will cause lock files to be removed if
they were created by a different master.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1"># Disable global lock</span>
<span class="l l-Scalar l-Scalar-Plain">git_pillar_global_lock</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="git-external-pillar-authentication-options">
<span id="git-ext-pillar-auth-opts"></span><h4>Git External Pillar Authentication Options<a class="headerlink" href="#git-external-pillar-authentication-options" title="Permalink to this headline">¶</a></h4>
<p>These parameters only currently apply to the <code class="docutils literal"><span class="pre">pygit2</span></code>
<a class="reference internal" href="#std:conf_master-git_pillar_provider"><code class="xref std std-conf_master docutils literal"><span class="pre">git_pillar_provider</span></code></a>.  Authentication works the same as it does
in gitfs, as outlined in the <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-authentication"><span class="std std-ref">GitFS Walkthrough</span></a>,
though the global configuration options are named differently to reflect that
they are for git_pillar instead of gitfs.</p>
<div class="section" id="git-pillar-user">
<span id="std:conf_master-git_pillar_user"></span><h5><code class="docutils literal"><span class="pre">git_pillar_user</span></code><a class="headerlink" href="#git-pillar-user" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-git_pillar_password"><code class="xref std std-conf_master docutils literal"><span class="pre">git_pillar_password</span></code></a>, is used to authenticate to HTTPS
remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_user</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-password">
<span id="std:conf_master-git_pillar_password"></span><h5><code class="docutils literal"><span class="pre">git_pillar_password</span></code><a class="headerlink" href="#git-pillar-password" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-git_pillar_user"><code class="xref std std-conf_master docutils literal"><span class="pre">git_pillar_user</span></code></a>, is used to authenticate to HTTPS
remotes. This parameter is not required if the repository does not use
authentication.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mypassword</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-insecure-auth">
<span id="std:conf_master-git_pillar_insecure_auth"></span><h5><code class="docutils literal"><span class="pre">git_pillar_insecure_auth</span></code><a class="headerlink" href="#git-pillar-insecure-auth" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>By default, Salt will not authenticate to an HTTP (non-HTTPS) remote. This
parameter enables authentication over HTTP. <strong>Enable this at your own risk.</strong></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_insecure_auth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-pubkey">
<span id="std:conf_master-git_pillar_pubkey"></span><h5><code class="docutils literal"><span class="pre">git_pillar_pubkey</span></code><a class="headerlink" href="#git-pillar-pubkey" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-git_pillar_privkey"><code class="xref std std-conf_master docutils literal"><span class="pre">git_pillar_privkey</span></code></a> (and optionally
<a class="reference internal" href="#std:conf_master-git_pillar_passphrase"><code class="xref std std-conf_master docutils literal"><span class="pre">git_pillar_passphrase</span></code></a>), is used to authenticate to SSH remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_pubkey</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/key.pub</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-privkey">
<span id="std:conf_master-git_pillar_privkey"></span><h5><code class="docutils literal"><span class="pre">git_pillar_privkey</span></code><a class="headerlink" href="#git-pillar-privkey" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-git_pillar_pubkey"><code class="xref std std-conf_master docutils literal"><span class="pre">git_pillar_pubkey</span></code></a> (and optionally
<a class="reference internal" href="#std:conf_master-git_pillar_passphrase"><code class="xref std std-conf_master docutils literal"><span class="pre">git_pillar_passphrase</span></code></a>), is used to authenticate to SSH remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_privkey</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/key</span>
</pre></div>
</div>
</div>
<div class="section" id="git-pillar-passphrase">
<span id="std:conf_master-git_pillar_passphrase"></span><h5><code class="docutils literal"><span class="pre">git_pillar_passphrase</span></code><a class="headerlink" href="#git-pillar-passphrase" title="Permalink to this headline">¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>This parameter is optional, required only when the SSH key being used to
authenticate is protected by a passphrase.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">git_pillar_passphrase</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mypassphrase</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="pillar-merging-options">
<span id="pillar-merging-opts"></span><h3>Pillar Merging Options<a class="headerlink" href="#pillar-merging-options" title="Permalink to this headline">¶</a></h3>
<div class="section" id="pillar-source-merging-strategy">
<span id="std:conf_master-pillar_source_merging_strategy"></span><h4><code class="docutils literal"><span class="pre">pillar_source_merging_strategy</span></code><a class="headerlink" href="#pillar-source-merging-strategy" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2014.7.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">smart</span></code></p>
<p>The pillar_source_merging_strategy option allows you to configure merging
strategy between different sources. It accepts 4 values:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">recurse</span></code>:</p>
<p>it will merge recursively mapping of data. For example, theses 2 sources:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
<span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">element1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">element2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="l l-Scalar l-Scalar-Plain">baz</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">quux</span>
</pre></div>
</div>
<p>will be merged as:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
<span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">element1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
    <span class="l l-Scalar l-Scalar-Plain">element2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="l l-Scalar l-Scalar-Plain">baz</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">quux</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">aggregate</span></code>:</p>
<p>instructs aggregation of elements between sources that use the #!yamlex renderer.</p>
<p>For example, these two documents:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1">#!yamlex</span>
<span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
<span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span> <span class="kt">!aggregate</span> <span class="p p-Indicator">{</span>
  <span class="nv">element1</span><span class="p p-Indicator">:</span> <span class="nv">True</span>
<span class="p p-Indicator">}</span>
<span class="l l-Scalar l-Scalar-Plain">baz</span><span class="p p-Indicator">:</span> <span class="kt">!aggregate</span> <span class="l l-Scalar l-Scalar-Plain">quux</span>
</pre></div>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1">#!yamlex</span>
<span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span> <span class="kt">!aggregate</span> <span class="p p-Indicator">{</span>
  <span class="nv">element2</span><span class="p p-Indicator">:</span> <span class="nv">True</span>
<span class="p p-Indicator">}</span>
<span class="l l-Scalar l-Scalar-Plain">baz</span><span class="p p-Indicator">:</span> <span class="kt">!aggregate</span> <span class="l l-Scalar l-Scalar-Plain">quux2</span>
</pre></div>
</div>
<p>will be merged as:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
<span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">element1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
  <span class="l l-Scalar l-Scalar-Plain">element2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="l l-Scalar l-Scalar-Plain">baz</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">quux</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">quux2</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">overwrite</span></code>:</p>
<p>Will use the behaviour of the 2014.1 branch and earlier.</p>
<p>Overwrites elements according the order in which they are processed.</p>
<p>First pillar processed:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">A</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">first_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blah</span>
  <span class="l l-Scalar l-Scalar-Plain">second_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blah</span>
</pre></div>
</div>
<p>Second pillar processed:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">A</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">third_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blah</span>
  <span class="l l-Scalar l-Scalar-Plain">fourth_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blah</span>
</pre></div>
</div>
<p>will be merged as:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">A</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">third_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blah</span>
  <span class="l l-Scalar l-Scalar-Plain">fourth_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blah</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">smart</span></code> (default):</p>
<p>Guesses the best strategy based on the &quot;renderer&quot; setting.</p>
</li>
</ul>
</div>
<div class="section" id="pillar-merge-lists">
<span id="std:conf_master-pillar_merge_lists"></span><h4><code class="docutils literal"><span class="pre">pillar_merge_lists</span></code><a class="headerlink" href="#pillar-merge-lists" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Recursively merge lists by aggregating them instead of replacing them.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pillar_merge_lists</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pillar-cache-options">
<span id="pillar-cache-opts"></span><h3>Pillar Cache Options<a class="headerlink" href="#pillar-cache-options" title="Permalink to this headline">¶</a></h3>
<div class="section" id="pillar-cache">
<span id="std:conf_master-pillar_cache"></span><h4><code class="docutils literal"><span class="pre">pillar_cache</span></code><a class="headerlink" href="#pillar-cache" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.8.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>A master can cache pillars locally to bypass the expense of having to render them
for each minion on every request. This feature should only be enabled in cases
where pillar rendering time is known to be unsatisfactory and any attendant security
concerns about storing pillars in a master cache have been addressed.</p>
<p>When enabling this feature, be certain to read through the additional <code class="docutils literal"><span class="pre">pillar_cache_*</span></code>
configuration options to fully understand the tunable parameters and their implications.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pillar_cache</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Setting <code class="docutils literal"><span class="pre">pillar_cache:</span> <span class="pre">True</span></code> has no effect on
<a class="reference internal" href="../../topics/targeting/pillar.html#targeting-pillar"><span class="std std-ref">targeting minions with pillar</span></a>.</p>
</div>
</div>
<div class="section" id="pillar-cache-ttl">
<span id="std:conf_master-pillar_cache_ttl"></span><h4><code class="docutils literal"><span class="pre">pillar_cache_ttl</span></code><a class="headerlink" href="#pillar-cache-ttl" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.8.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">3600</span></code></p>
<p>If and only if a master has set <code class="docutils literal"><span class="pre">pillar_cache:</span> <span class="pre">True</span></code>, the cache TTL controls the amount
of time, in seconds, before the cache is considered invalid by a master and a fresh
pillar is recompiled and stored.</p>
</div>
<div class="section" id="pillar-cache-backend">
<span id="std:conf_master-pillar_cache_backend"></span><h4><code class="docutils literal"><span class="pre">pillar_cache_backend</span></code><a class="headerlink" href="#pillar-cache-backend" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.8.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">disk</span></code></p>
<p>If an only if a master has set <code class="docutils literal"><span class="pre">pillar_cache:</span> <span class="pre">True</span></code>, one of several storage providers
can be utilized:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">disk</span></code> (default):</p>
<p>The default storage backend. This caches rendered pillars to the master cache.
Rendered pillars are serialized and deserialized as <code class="docutils literal"><span class="pre">msgpack</span></code> structures for speed.
Note that pillars are stored UNENCRYPTED. Ensure that the master cache has permissions
set appropriately (sane defaults are provided).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">memory</span></code> [EXPERIMENTAL]:</p>
<p>An optional backend for pillar caches which uses a pure-Python
in-memory data structure for maximal performance. There are several caveats,
however. First, because each master worker contains its own in-memory cache,
there is no guarantee of cache consistency between minion requests. This
works best in situations where the pillar rarely if ever changes. Secondly,
and perhaps more importantly, this means that unencrypted pillars will
be accessible to any process which can examine the memory of the <code class="docutils literal"><span class="pre">salt-master</span></code>!
This may represent a substantial security risk.</p>
</li>
</ul>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pillar_cache_backend</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">disk</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="syndic-server-settings">
<h2>Syndic Server Settings<a class="headerlink" href="#syndic-server-settings" title="Permalink to this headline">¶</a></h2>
<p>A Salt syndic is a Salt master used to pass commands from a higher Salt master to
minions below the syndic. Using the syndic is simple. If this is a master that
will have syndic servers(s) below it, set the &quot;order_masters&quot; setting to True.</p>
<p>If this is a master that will be running a syndic daemon for passthrough the
&quot;syndic_master&quot; setting needs to be set to the location of the master server.</p>
<p>Do not not forget that, in other words, it means that it shares with the local minion
its ID and PKI_DIR.</p>
<div class="section" id="order-masters">
<span id="std:conf_master-order_masters"></span><h3><code class="docutils literal"><span class="pre">order_masters</span></code><a class="headerlink" href="#order-masters" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Extra data needs to be sent with publications if the master is controlling a
lower level master via a syndic minion. If this is the case the order_masters
value must be set to True</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">order_masters</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="syndic-master">
<span id="std:conf_master-syndic_master"></span><h3><code class="docutils literal"><span class="pre">syndic_master</span></code><a class="headerlink" href="#syndic-master" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>If this master will be running a salt-syndic to connect to a higher level
master, specify the higher level master with this configuration value.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">syndic_master</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">masterofmasters</span>
</pre></div>
</div>
<p>You can optionally connect a syndic to multiple higher level masters by
setting the 'syndic_master' value to a list:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">syndic_master</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">masterofmasters1</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">masterofmasters2</span>
</pre></div>
</div>
<p>Each higher level master must be set up in a multimaster configuration.</p>
</div>
<div class="section" id="syndic-master-port">
<span id="std:conf_master-syndic_master_port"></span><h3><code class="docutils literal"><span class="pre">syndic_master_port</span></code><a class="headerlink" href="#syndic-master-port" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">4506</span></code></p>
<p>If this master will be running a salt-syndic to connect to a higher level
master, specify the higher level master port with this configuration value.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">syndic_master_port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4506</span>
</pre></div>
</div>
<span class="target" id="std:conf_master-syndic_log_file"></span></div>
<div class="section" id="syndic-pidfile">
<span id="std:conf_master-syndic_master_log_file"></span><h3><code class="docutils literal"><span class="pre">syndic_pidfile</span></code><a class="headerlink" href="#syndic-pidfile" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">salt-syndic.pid</span></code></p>
<p>If this master will be running a salt-syndic to connect to a higher level
master, specify the pidfile of the syndic daemon.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">syndic_pidfile</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">syndic.pid</span>
</pre></div>
</div>
</div>
<div class="section" id="syndic-log-file">
<h3><code class="docutils literal"><span class="pre">syndic_log_file</span></code><a class="headerlink" href="#syndic-log-file" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">syndic.log</span></code></p>
<p>If this master will be running a salt-syndic to connect to a higher level
master, specify the log_file of the syndic daemon.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">syndic_log_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">salt-syndic.log</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="peer-publish-settings">
<h2>Peer Publish Settings<a class="headerlink" href="#peer-publish-settings" title="Permalink to this headline">¶</a></h2>
<p>Salt minions can send commands to other minions, but only if the minion is
allowed to. By default &quot;Peer Publication&quot; is disabled, and when enabled it
is enabled for specific minions and specific commands. This allows secure
compartmentalization of commands based on individual minions.</p>
<div class="section" id="peer">
<span id="std:conf_master-peer"></span><h3><code class="docutils literal"><span class="pre">peer</span></code><a class="headerlink" href="#peer" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>The configuration uses regular expressions to match minions and then a list
of regular expressions to match functions. The following will allow the
minion authenticated as foo.example.com to execute functions from the test
and pkg modules.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">peer</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">foo.example.com</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">test.*</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pkg.*</span>
</pre></div>
</div>
<p>This will allow all minions to execute all commands:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">peer</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">.*</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">.*</span>
</pre></div>
</div>
<p>This is not recommended, since it would allow anyone who gets root on any
single minion to instantly have root on all of the minions!</p>
<p>By adding an additional layer you can limit the target hosts in addition to the
accessible commands:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">peer</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">foo.example.com</span><span class="p p-Indicator">:</span>
    <span class="s">&#39;db*&#39;</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">test.*</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pkg.*</span>
</pre></div>
</div>
</div>
<div class="section" id="peer-run">
<span id="std:conf_master-peer_run"></span><h3><code class="docutils literal"><span class="pre">peer_run</span></code><a class="headerlink" href="#peer-run" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>The peer_run option is used to open up runners on the master to access from the
minions. The peer_run configuration matches the format of the peer
configuration.</p>
<p>The following example would allow foo.example.com to execute the manage.up
runner:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">peer_run</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">foo.example.com</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">manage.up</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="master-logging-settings">
<span id="id4"></span><h2>Master Logging Settings<a class="headerlink" href="#master-logging-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="log-file">
<span id="std:conf_master-log_file"></span><h3><code class="docutils literal"><span class="pre">log_file</span></code><a class="headerlink" href="#log-file" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">/var/log/salt/master</span></code></p>
<p>The master log can be sent to a regular file, local path name, or network
location. See also <a class="reference internal" href="logging/index.html#std:conf_log-log_file"><code class="xref std std-conf_log docutils literal"><span class="pre">log_file</span></code></a>.</p>
<p>Examples:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/log/salt/master</span>
</pre></div>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">file:///dev/log</span>
</pre></div>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">udp://loghost:10514</span>
</pre></div>
</div>
</div>
<div class="section" id="log-level">
<span id="std:conf_master-log_level"></span><h3><code class="docutils literal"><span class="pre">log_level</span></code><a class="headerlink" href="#log-level" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">warning</span></code></p>
<p>The level of messages to send to the console. See also <a class="reference internal" href="logging/index.html#std:conf_log-log_level"><code class="xref std std-conf_log docutils literal"><span class="pre">log_level</span></code></a>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_level</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">warning</span>
</pre></div>
</div>
</div>
<div class="section" id="log-level-logfile">
<span id="std:conf_master-log_level_logfile"></span><h3><code class="docutils literal"><span class="pre">log_level_logfile</span></code><a class="headerlink" href="#log-level-logfile" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">warning</span></code></p>
<p>The level of messages to send to the log file. See also
<a class="reference internal" href="logging/index.html#std:conf_log-log_level_logfile"><code class="xref std std-conf_log docutils literal"><span class="pre">log_level_logfile</span></code></a>. When it is not set explicitly
it will inherit the level set by <a class="reference internal" href="logging/index.html#std:conf_log-log_level"><code class="xref std std-conf_log docutils literal"><span class="pre">log_level</span></code></a> option.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_level_logfile</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">warning</span>
</pre></div>
</div>
</div>
<div class="section" id="log-datefmt">
<span id="std:conf_master-log_datefmt"></span><h3><code class="docutils literal"><span class="pre">log_datefmt</span></code><a class="headerlink" href="#log-datefmt" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">%H:%M:%S</span></code></p>
<p>The date and time format used in console log messages. See also
<a class="reference internal" href="logging/index.html#std:conf_log-log_datefmt"><code class="xref std std-conf_log docutils literal"><span class="pre">log_datefmt</span></code></a>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_datefmt</span><span class="p p-Indicator">:</span> <span class="s">&#39;%H:%M:%S&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="log-datefmt-logfile">
<span id="std:conf_master-log_datefmt_logfile"></span><h3><code class="docutils literal"><span class="pre">log_datefmt_logfile</span></code><a class="headerlink" href="#log-datefmt-logfile" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">%Y-%m-%d</span> <span class="pre">%H:%M:%S</span></code></p>
<p>The date and time format used in log file messages. See also
<a class="reference internal" href="logging/index.html#std:conf_log-log_datefmt_logfile"><code class="xref std std-conf_log docutils literal"><span class="pre">log_datefmt_logfile</span></code></a>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_datefmt_logfile</span><span class="p p-Indicator">:</span> <span class="s">&#39;%Y-%m-%d</span><span class="nv"> </span><span class="s">%H:%M:%S&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="log-fmt-console">
<span id="std:conf_master-log_fmt_console"></span><h3><code class="docutils literal"><span class="pre">log_fmt_console</span></code><a class="headerlink" href="#log-fmt-console" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">[%(levelname)-8s]</span> <span class="pre">%(message)s</span></code></p>
<p>The format of the console logging messages. See also
<a class="reference internal" href="logging/index.html#std:conf_log-log_fmt_console"><code class="xref std std-conf_log docutils literal"><span class="pre">log_fmt_console</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Log colors are enabled in <code class="docutils literal"><span class="pre">log_fmt_console</span></code> rather than the
<a class="reference internal" href="#std:conf_master-color"><code class="xref std std-conf_master docutils literal"><span class="pre">color</span></code></a> config since the logging system is loaded before the
master config.</p>
<p>Console log colors are specified by these additional formatters:</p>
<p>%(colorlevel)s
%(colorname)s
%(colorprocess)s
%(colormsg)s</p>
<p class="last">Since it is desirable to include the surrounding brackets, '[' and ']', in
the coloring of the messages, these color formatters also include padding
as well.  Color LogRecord attributes are only available for console
logging.</p>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_fmt_console</span><span class="p p-Indicator">:</span> <span class="s">&#39;%(colorlevel)s</span><span class="nv"> </span><span class="s">%(colormsg)s&#39;</span>
<span class="l l-Scalar l-Scalar-Plain">log_fmt_console</span><span class="p p-Indicator">:</span> <span class="s">&#39;[%(levelname)-8s]</span><span class="nv"> </span><span class="s">%(message)s&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="log-fmt-logfile">
<span id="std:conf_master-log_fmt_logfile"></span><h3><code class="docutils literal"><span class="pre">log_fmt_logfile</span></code><a class="headerlink" href="#log-fmt-logfile" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">%(asctime)s,%(msecs)03.0f</span> <span class="pre">[%(name)-17s][%(levelname)-8s]</span> <span class="pre">%(message)s</span></code></p>
<p>The format of the log file logging messages. See also
<a class="reference internal" href="logging/index.html#std:conf_log-log_fmt_logfile"><code class="xref std std-conf_log docutils literal"><span class="pre">log_fmt_logfile</span></code></a>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">log_fmt_logfile</span><span class="p p-Indicator">:</span> <span class="s">&#39;%(asctime)s,%(msecs)03.0f</span><span class="nv"> </span><span class="s">[%(name)-17s][%(levelname)-8s]</span><span class="nv"> </span><span class="s">%(message)s&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="log-granular-levels">
<span id="std:conf_master-log_granular_levels"></span><h3><code class="docutils literal"><span class="pre">log_granular_levels</span></code><a class="headerlink" href="#log-granular-levels" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>This can be used to control logging levels more specifically. See also
<a class="reference internal" href="logging/index.html#std:conf_log-log_granular_levels"><code class="xref std std-conf_log docutils literal"><span class="pre">log_granular_levels</span></code></a>.</p>
</div>
</div>
<div class="section" id="node-groups">
<h2>Node Groups<a class="headerlink" href="#node-groups" title="Permalink to this headline">¶</a></h2>
<p id="std:conf_master-nodegroups">Default: <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>Node groups allow for logical groupings of minion nodes.
A group consists of a group name and a compound target.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">nodegroups</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">group1</span><span class="p p-Indicator">:</span> <span class="s">&#39;L@foo.domain.com,bar.domain.com,baz.domain.com</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">bl*.domain.com&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">group2</span><span class="p p-Indicator">:</span> <span class="s">&#39;G@os:Debian</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">foo.domain.com&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">group3</span><span class="p p-Indicator">:</span> <span class="s">&#39;G@os:Debian</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">N@group1&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">group4</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;G@foo:bar&#39;</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;or&#39;</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;G@foo:baz&#39;</span>
</pre></div>
</div>
<p>More information on using nodegroups can be found <a class="reference internal" href="../../topics/targeting/nodegroups.html#targeting-nodegroups"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="range-cluster-settings">
<h2>Range Cluster Settings<a class="headerlink" href="#range-cluster-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="range-server">
<span id="std:conf_master-range_server"></span><h3><code class="docutils literal"><span class="pre">range_server</span></code><a class="headerlink" href="#range-server" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">'range:80'</span></code></p>
<p>The range server (and optional port) that serves your cluster information
<a class="reference external" href="https://github.com/ytoolshed/range/wiki/%22yamlfile%22-module-file-spec">https://github.com/ytoolshed/range/wiki/%22yamlfile%22-module-file-spec</a></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">range_server</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">range:80</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="include-configuration">
<h2>Include Configuration<a class="headerlink" href="#include-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="default-include">
<span id="std:conf_master-default_include"></span><h3><code class="docutils literal"><span class="pre">default_include</span></code><a class="headerlink" href="#default-include" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">master.d/*.conf</span></code></p>
<p>The master can include configuration from other files. Per default the
master will automatically include all config files from <code class="docutils literal"><span class="pre">master.d/*.conf</span></code>
where <code class="docutils literal"><span class="pre">master.d</span></code> is relative to the directory of the master configuration
file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Salt creates files in the <code class="docutils literal"><span class="pre">master.d</span></code> directory for its own use. These
files are prefixed with an underscore. A common example of this is the
<code class="docutils literal"><span class="pre">_schedule.conf</span></code> file.</p>
</div>
</div>
<div class="section" id="include">
<span id="std:conf_master-include"></span><h3><code class="docutils literal"><span class="pre">include</span></code><a class="headerlink" href="#include" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="docutils literal"><span class="pre">not</span> <span class="pre">defined</span></code></p>
<p>The master can include configuration from other files. To enable this,
pass a list of paths to this option. The paths can be either relative or
absolute; if relative, they are considered to be relative to the directory
the main minion configuration file lives in. Paths can make use of
shell-style globbing. If no files are matched by a path passed to this
option then the master will log a warning message.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1"># Include files from a master.d directory in the same</span>
<span class="c1"># directory as the master config file</span>
<span class="l l-Scalar l-Scalar-Plain">include</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">master.d/*</span>

<span class="c1"># Include a single extra file into the configuration</span>
<span class="l l-Scalar l-Scalar-Plain">include</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/roles/webserver</span>

<span class="c1"># Include several files and the master.d directory</span>
<span class="l l-Scalar l-Scalar-Plain">include</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">extra_config</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master.d/*</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/etc/roles/webserver</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="windows-software-repo-settings">
<span id="winrepo-master-config-opts"></span><h2>Windows Software Repo Settings<a class="headerlink" href="#windows-software-repo-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="winrepo-provider">
<span id="std:conf_master-winrepo_provider"></span><h3><code class="docutils literal"><span class="pre">winrepo_provider</span></code><a class="headerlink" href="#winrepo-provider" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Specify the provider to be used for winrepo. Must be either <code class="docutils literal"><span class="pre">pygit2</span></code> or
<code class="docutils literal"><span class="pre">gitpython</span></code>. If unset, then both will be tried in that same order, and the
first one with a compatible version installed will be the provider that is
used.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_provider</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gitpython</span>
</pre></div>
</div>
<span class="target" id="std:conf_master-winrepo_dir"></span></div>
<div class="section" id="winrepo-dir">
<span id="std:conf_master-win_repo"></span><h3><code class="docutils literal"><span class="pre">winrepo_dir</span></code><a class="headerlink" href="#winrepo-dir" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2015.8.0: </span>Renamed from <code class="docutils literal"><span class="pre">win_repo</span></code> to <code class="docutils literal"><span class="pre">winrepo_dir</span></code>.</p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">/srv/salt/win/repo</span></code></p>
<p>Location on the master where the <a class="reference internal" href="#std:conf_master-winrepo_remotes"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_remotes</span></code></a> are checked out
for pre-2015.8.0 minions. 2015.8.0 and later minions use
<a class="reference internal" href="#std:conf_master-winrepo_remotes_ng"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_remotes_ng</span></code></a> instead.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_dir</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/srv/salt/win/repo</span>
</pre></div>
</div>
</div>
<div class="section" id="winrepo-dir-ng">
<span id="std:conf_master-winrepo_dir_ng"></span><h3><code class="docutils literal"><span class="pre">winrepo_dir_ng</span></code><a class="headerlink" href="#winrepo-dir-ng" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0: </span>A new <a class="reference internal" href="../../topics/windows/windows-package-manager.html#windows-package-manager"><span class="std std-ref">ng</span></a> repo was added.</p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">/srv/salt/win/repo-ng</span></code></p>
<p>Location on the master where the <a class="reference internal" href="#std:conf_master-winrepo_remotes_ng"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_remotes_ng</span></code></a> are checked
out for 2015.8.0 and later minions.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_dir_ng</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/srv/salt/win/repo-ng</span>
</pre></div>
</div>
<span class="target" id="std:conf_master-winrepo_cachefile"></span></div>
<div class="section" id="winrepo-cachefile">
<span id="std:conf_master-win_repo_mastercachefile"></span><h3><code class="docutils literal"><span class="pre">winrepo_cachefile</span></code><a class="headerlink" href="#winrepo-cachefile" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2015.8.0: </span>Renamed from <code class="docutils literal"><span class="pre">win_repo_mastercachefile</span></code> to <code class="docutils literal"><span class="pre">winrepo_cachefile</span></code></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">2015.8.0 and later minions do not use this setting since the cachefile
is now located on the minion.</p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">winrepo.p</span></code></p>
<p>Path relative to <a class="reference internal" href="#std:conf_master-winrepo_dir"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_dir</span></code></a> where the winrepo cache should be
created.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_cachefile</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">winrepo.p</span>
</pre></div>
</div>
<span class="target" id="std:conf_master-winrepo_remotes"></span></div>
<div class="section" id="winrepo-remotes">
<span id="std:conf_master-win_gitrepos"></span><h3><code class="docutils literal"><span class="pre">winrepo_remotes</span></code><a class="headerlink" href="#winrepo-remotes" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2015.8.0: </span>Renamed from <code class="docutils literal"><span class="pre">win_gitrepos</span></code> to <code class="docutils literal"><span class="pre">winrepo_remotes</span></code>.</p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">['https://github.com/saltstack/salt-winrepo.git']</span></code></p>
<p>List of git repositories to checkout and include in the winrepo for
pre-2015.8.0 minions. 2015.8.0 and later minions use
<a class="reference internal" href="#std:conf_master-winrepo_remotes_ng"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_remotes_ng</span></code></a> instead.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_remotes</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/saltstack/salt-winrepo.git</span>
</pre></div>
</div>
<p>To specify a specific revision of the repository, prepend a commit ID to the
URL of the repository:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_remotes</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;&lt;commit_id&gt;</span><span class="nv"> </span><span class="s">https://github.com/saltstack/salt-winrepo.git&#39;</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">&lt;commit_id&gt;</span></code> with the SHA1 hash of a commit ID. Specifying a commit
ID is useful in that it allows one to revert back to a previous version in the
event that an error is introduced in the latest revision of the repo.</p>
</div>
<div class="section" id="winrepo-remotes-ng">
<span id="std:conf_master-winrepo_remotes_ng"></span><h3><code class="docutils literal"><span class="pre">winrepo_remotes_ng</span></code><a class="headerlink" href="#winrepo-remotes-ng" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0: </span>A new <a class="reference internal" href="../../topics/windows/windows-package-manager.html#windows-package-manager"><span class="std std-ref">ng</span></a> repo was added.</p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">['https://github.com/saltstack/salt-winrepo-ng.git']</span></code></p>
<p>List of git repositories to checkout and include in the winrepo for
2015.8.0 and later minions.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_remotes_ng</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/saltstack/salt-winrepo-ng.git</span>
</pre></div>
</div>
<p>To specify a specific revision of the repository, prepend a commit ID to the
URL of the repository:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_remotes</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;&lt;commit_id&gt;</span><span class="nv"> </span><span class="s">https://github.com/saltstack/salt-winrepo-ng.git&#39;</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">&lt;commit_id&gt;</span></code> with the SHA1 hash of a commit ID. Specifying a commit
ID is useful in that it allows one to revert back to a previous version in the
event that an error is introduced in the latest revision of the repo.</p>
</div>
<div class="section" id="winrepo-branch">
<span id="std:conf_master-winrepo_branch"></span><h3><code class="docutils literal"><span class="pre">winrepo_branch</span></code><a class="headerlink" href="#winrepo-branch" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">master</span></code></p>
<p>If the branch is omitted from a winrepo remote, then this branch will be
used instead. For example, in the configuration below, the first two remotes
would use the <code class="docutils literal"><span class="pre">winrepo</span></code> branch/tag, while the third would use the <code class="docutils literal"><span class="pre">foo</span></code>
branch/tag.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_branch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">winrepo</span>

<span class="l l-Scalar l-Scalar-Plain">ext_pillar</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://mygitserver/winrepo1.git</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://mygitserver/winrepo2.git</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">foo https://mygitserver/winrepo3.git</span>
</pre></div>
</div>
</div>
<div class="section" id="winrepo-ssl-verify">
<span id="std:conf_master-winrepo_ssl_verify"></span><h3><code class="docutils literal"><span class="pre">winrepo_ssl_verify</span></code><a class="headerlink" href="#winrepo-ssl-verify" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Specifies whether or not to ignore SSL certificate errors when contacting the
remote repository. The  <code class="docutils literal"><span class="pre">False</span></code> setting is useful if you're using a
git repo that uses a self-signed certificate. However, keep in mind that
setting this to anything other <code class="docutils literal"><span class="pre">True</span></code> is a considered insecure, and using an
SSH-based transport (if available) may be a better option.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_ssl_verify</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="winrepo-authentication-options">
<h3>Winrepo Authentication Options<a class="headerlink" href="#winrepo-authentication-options" title="Permalink to this headline">¶</a></h3>
<p>These parameters only currently apply to the <code class="docutils literal"><span class="pre">pygit2</span></code>
<a class="reference internal" href="#std:conf_master-winrepo_provider"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_provider</span></code></a>. Authentication works the same as it does in
gitfs, as outlined in the <a class="reference internal" href="../../topics/tutorials/gitfs.html#gitfs-authentication"><span class="std std-ref">GitFS Walkthrough</span></a>,
though the global configuration options are named differently to reflect that
they are for winrepo instead of gitfs.</p>
<div class="section" id="winrepo-user">
<span id="std:conf_master-winrepo_user"></span><h4><code class="docutils literal"><span class="pre">winrepo_user</span></code><a class="headerlink" href="#winrepo-user" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-winrepo_password"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_password</span></code></a>, is used to authenticate to HTTPS
remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_user</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
</pre></div>
</div>
</div>
<div class="section" id="winrepo-password">
<span id="std:conf_master-winrepo_password"></span><h4><code class="docutils literal"><span class="pre">winrepo_password</span></code><a class="headerlink" href="#winrepo-password" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-winrepo_user"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_user</span></code></a>, is used to authenticate to HTTPS
remotes. This parameter is not required if the repository does not use
authentication.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mypassword</span>
</pre></div>
</div>
</div>
<div class="section" id="winrepo-insecure-auth">
<span id="std:conf_master-winrepo_insecure_auth"></span><h4><code class="docutils literal"><span class="pre">winrepo_insecure_auth</span></code><a class="headerlink" href="#winrepo-insecure-auth" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>By default, Salt will not authenticate to an HTTP (non-HTTPS) remote. This
parameter enables authentication over HTTP. <strong>Enable this at your own risk.</strong></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_insecure_auth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="winrepo-pubkey">
<span id="std:conf_master-winrepo_pubkey"></span><h4><code class="docutils literal"><span class="pre">winrepo_pubkey</span></code><a class="headerlink" href="#winrepo-pubkey" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-winrepo_privkey"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_privkey</span></code></a> (and optionally
<a class="reference internal" href="#std:conf_master-winrepo_passphrase"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_passphrase</span></code></a>), is used to authenticate to SSH remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_pubkey</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/key.pub</span>
</pre></div>
</div>
</div>
<div class="section" id="winrepo-privkey">
<span id="std:conf_master-winrepo_privkey"></span><h4><code class="docutils literal"><span class="pre">winrepo_privkey</span></code><a class="headerlink" href="#winrepo-privkey" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>Along with <a class="reference internal" href="#std:conf_master-winrepo_pubkey"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_pubkey</span></code></a> (and optionally
<a class="reference internal" href="#std:conf_master-winrepo_passphrase"><code class="xref std std-conf_master docutils literal"><span class="pre">winrepo_passphrase</span></code></a>), is used to authenticate to SSH remotes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_privkey</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/key</span>
</pre></div>
</div>
</div>
<div class="section" id="winrepo-passphrase">
<span id="std:conf_master-winrepo_passphrase"></span><h4><code class="docutils literal"><span class="pre">winrepo_passphrase</span></code><a class="headerlink" href="#winrepo-passphrase" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified">New in version 2015.8.0.</span></p>
</div>
<p>Default: <code class="docutils literal"><span class="pre">''</span></code></p>
<p>This parameter is optional, required only when the SSH key being used to
authenticate is protected by a passphrase.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">winrepo_passphrase</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mypassphrase</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


                            </div>
                            <a href="index.html"><button data-container="body" data-toggle="tooltip" data-placement="bottom" title="Configuring Salt" id="prev-button" type="button" class="btn btn-secondary"><span class="glyphicon glyphicon-chevron-left"></span> Previous</button></a>
                            <a href="minion.html"><button data-container="body" data-toggle="tooltip" data-placement="bottom" title="Configuring the Salt Minion" id="next-button" type="button" class="btn btn-primary">
                                Next <span class="glyphicon glyphicon-chevron-right"></span></button></a>
                        </div>
                    </div>
                    <div class="footer">
                        <hr />

                        <div class="row">

                            
                            <div class="col-sm-6">
                            <p><i>Generated on November 28, 2016 at 06:44:15 MST.</i></p>

                                
                                <p>You are viewing docs for the previous stable release, 2015.8.12. Switch to docs for the latest stable release, <a data-container="body" data-toggle="tooltip" data-placement="bottom" title="Docs for the latest stable release" href="/en/latest/">2016.3.4</a>, or to a recent doc build from the <a data-container="body" data-toggle="tooltip" data-placement="bottom" title="Latest docs from the develop branch" href="/en/develop/">develop</a> branch.</p>

                                

                                <br>
                                <p><a href="http://saltstack.com">saltstack.com</a></p>

                            </div>

                            <div class="col-sm-6">

                                 <a href="http://saltstack.com/support" target="_blank"><img class="nolightbox footer-banner center" src="../../_static/images/footer-support.png"/></a>


                            </div>
                            
                        </div>
                    </div> <!--end footer-->

                    </div>
                </div>
            <!--start sidebar-->
            <div id="sidebar-wrapper">
            <div id="sidebar-static">

                <a class="ss-logo" href="http://saltstack.com"><img width="250" height="63" class="nolightbox sidebar-logo" src="../../_static/images/saltstack_logo.svg"></a>

                

                <a href="http://saltstack.com/support" target="_blank"><img class="nolightbox sidebar-banner center" src="../../_static/images/banner-support.png"/></a>

                <div class="releaselinks versions previous">

                <a class="btn btn-secondary active" id="previous" title="View release notes" data-container="body" data-toggle="tooltip" data-placement="bottom" href="/en/2015.8/">2015.8.12 <i class="glyphicon glyphicon-ok"></i></a>

                <a  class="btn btn-secondary" id="latest" title="Switch to docs for the latest stable release" data-container="body" data-toggle="tooltip" data-placement="bottom" href="/en/latest/">2016.3.4</a>

                <a  class="btn btn-secondary" id="develop" title="Switch to docs built recently from the develop branch" data-container="body" data-toggle="tooltip" data-placement="bottom" href="/en/develop/">Develop</a>

                </div>

                

                <div id="search-form" class="inner-addon left-addon">
                    <i class="glyphicon glyphicon-search"></i>
                    <input type="text" class="form-control">
                </div>

            </div> <!--end sidebar-static-->

                <div id="sidebar-nav">
                    
                    
                    
                    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../topics/index.html">Introduction to Salt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/targeting/index.html">Targeting Minions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/pillar/index.html">Storing Static Data in the Pillar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/reactor/index.html">Reactor System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/mine/index.html">The Salt Mine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/eauth/index.html">External Authentication System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/eauth/access_control.html">Access Control System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/jobs/index.html">Job Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/jobs/job_cache.html">Managing the Job Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/jobs/external_cache.html">Storing Job Results in an External System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/sdb/index.html">Storing Data in Other Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/event/index.html">Salt Event System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/beacons/index.html">Beacons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/engines/index.html">Salt Engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/ext_processes/index.html">Running Custom Master Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/highavailability/index.html">High Availability Features in Salt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/topology/syndic.html">Salt Syndic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/proxyminion/index.html">Salt Proxy Minion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/spm/index.html">Salt Package Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/transports/index.html">Salt Transport</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/windows/windows-package-manager.html">Windows Software Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/windows/windows-specific-behavior.html">Windows-specific Behaviour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/cloud/index.html">Salt Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/netapi/index.html"><code class="docutils literal"><span class="pre">netapi</span></code> modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/virt/index.html">Salt Virt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/yaml/index.html">Understanding YAML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/master_tops/index.html">Master Tops System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/ssh/index.html">Salt SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/ssh/roster.html">Salt Rosters</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../auth/all/index.html">Full list of builtin auth modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/index.html">Command Line Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clientacl.html">Client ACL system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clients/index.html">Python client API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clouds/all/index.html">Full list of Salt Cloud modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">Configuration file examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html">Configuring Salt</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuring the Salt Master</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#primary-master-configuration">Primary Master Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#interface"><code class="docutils literal"><span class="pre">interface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ipv6"><code class="docutils literal"><span class="pre">ipv6</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#publish-port"><code class="docutils literal"><span class="pre">publish_port</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#master-id"><code class="docutils literal"><span class="pre">master_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#user"><code class="docutils literal"><span class="pre">user</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-open-files"><code class="docutils literal"><span class="pre">max_open_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#worker-threads"><code class="docutils literal"><span class="pre">worker_threads</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ret-port"><code class="docutils literal"><span class="pre">ret_port</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pidfile"><code class="docutils literal"><span class="pre">pidfile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#root-dir"><code class="docutils literal"><span class="pre">root_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#conf-file"><code class="docutils literal"><span class="pre">conf_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pki-dir"><code class="docutils literal"><span class="pre">pki_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#extension-modules"><code class="docutils literal"><span class="pre">extension_modules</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-dirs"><code class="docutils literal"><span class="pre">module_dirs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cachedir"><code class="docutils literal"><span class="pre">cachedir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#verify-env"><code class="docutils literal"><span class="pre">verify_env</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#keep-jobs"><code class="docutils literal"><span class="pre">keep_jobs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#gather-job-timeout"><code class="docutils literal"><span class="pre">gather_job_timeout</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#timeout"><code class="docutils literal"><span class="pre">timeout</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loop-interval"><code class="docutils literal"><span class="pre">loop_interval</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#output"><code class="docutils literal"><span class="pre">output</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-file"><code class="docutils literal"><span class="pre">output_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#color"><code class="docutils literal"><span class="pre">color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cli-summary"><code class="docutils literal"><span class="pre">cli_summary</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sock-dir"><code class="docutils literal"><span class="pre">sock_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-gpu-grains"><code class="docutils literal"><span class="pre">enable_gpu_grains</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#job-cache"><code class="docutils literal"><span class="pre">job_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#minion-data-cache"><code class="docutils literal"><span class="pre">minion_data_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ext-job-cache"><code class="docutils literal"><span class="pre">ext_job_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-return"><code class="docutils literal"><span class="pre">event_return</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-return-queue"><code class="docutils literal"><span class="pre">event_return_queue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-return-whitelist"><code class="docutils literal"><span class="pre">event_return_whitelist</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#event-return-blacklist"><code class="docutils literal"><span class="pre">event_return_blacklist</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-event-size"><code class="docutils literal"><span class="pre">max_event_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#master-job-cache"><code class="docutils literal"><span class="pre">master_job_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enforce-mine-cache"><code class="docutils literal"><span class="pre">enforce_mine_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-minions"><code class="docutils literal"><span class="pre">max_minions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#con-cache"><code class="docutils literal"><span class="pre">con_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#presence-events"><code class="docutils literal"><span class="pre">presence_events</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#transport"><code class="docutils literal"><span class="pre">transport</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#salt-ssh-configuration">Salt-SSH Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#roster-file"><code class="docutils literal"><span class="pre">roster_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ssh-minion-opts"><code class="docutils literal"><span class="pre">ssh_minion_opts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#thin-extra-mods"><code class="docutils literal"><span class="pre">thin_extra_mods</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#master-security-settings">Master Security Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#open-mode"><code class="docutils literal"><span class="pre">open_mode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#auto-accept"><code class="docutils literal"><span class="pre">auto_accept</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#autosign-timeout"><code class="docutils literal"><span class="pre">autosign_timeout</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#autosign-file"><code class="docutils literal"><span class="pre">autosign_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#autoreject-file"><code class="docutils literal"><span class="pre">autoreject_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#client-acl"><code class="docutils literal"><span class="pre">client_acl</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#client-acl-blacklist"><code class="docutils literal"><span class="pre">client_acl_blacklist</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#external-auth"><code class="docutils literal"><span class="pre">external_auth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#token-expire"><code class="docutils literal"><span class="pre">token_expire</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-recv"><code class="docutils literal"><span class="pre">file_recv</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-recv-max-size"><code class="docutils literal"><span class="pre">file_recv_max_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#master-sign-pubkey"><code class="docutils literal"><span class="pre">master_sign_pubkey</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#master-sign-key-name"><code class="docutils literal"><span class="pre">master_sign_key_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#master-pubkey-signature"><code class="docutils literal"><span class="pre">master_pubkey_signature</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#master-use-pubkey-signature"><code class="docutils literal"><span class="pre">master_use_pubkey_signature</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rotate-aes-key"><code class="docutils literal"><span class="pre">rotate_aes_key</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#master-module-management">Master Module Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#runner-dirs"><code class="docutils literal"><span class="pre">runner_dirs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cython-enable"><code class="docutils literal"><span class="pre">cython_enable</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#master-state-system-settings">Master State System Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#state-top"><code class="docutils literal"><span class="pre">state_top</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#master-tops"><code class="docutils literal"><span class="pre">master_tops</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#external-nodes"><code class="docutils literal"><span class="pre">external_nodes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#renderer"><code class="docutils literal"><span class="pre">renderer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#jinja-trim-blocks"><code class="docutils literal"><span class="pre">jinja_trim_blocks</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#jinja-lstrip-blocks"><code class="docutils literal"><span class="pre">jinja_lstrip_blocks</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#failhard"><code class="docutils literal"><span class="pre">failhard</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#state-verbose"><code class="docutils literal"><span class="pre">state_verbose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#state-output"><code class="docutils literal"><span class="pre">state_output</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#state-aggregate"><code class="docutils literal"><span class="pre">state_aggregate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#state-events"><code class="docutils literal"><span class="pre">state_events</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#yaml-utf8"><code class="docutils literal"><span class="pre">yaml_utf8</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#test"><code class="docutils literal"><span class="pre">test</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#master-file-server-settings">Master File Server Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fileserver-backend"><code class="docutils literal"><span class="pre">fileserver_backend</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fileserver-followsymlinks"><code class="docutils literal"><span class="pre">fileserver_followsymlinks</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fileserver-ignoresymlinks"><code class="docutils literal"><span class="pre">fileserver_ignoresymlinks</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fileserver-limit-traversal"><code class="docutils literal"><span class="pre">fileserver_limit_traversal</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hash-type"><code class="docutils literal"><span class="pre">hash_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-buffer-size"><code class="docutils literal"><span class="pre">file_buffer_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-ignore-regex"><code class="docutils literal"><span class="pre">file_ignore_regex</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-ignore-glob"><code class="docutils literal"><span class="pre">file_ignore_glob</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#roots-master-s-local-file-server">roots: Master's Local File Server</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#file-roots"><code class="docutils literal"><span class="pre">file_roots</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#git-git-remote-file-server-backend">git: Git Remote File Server Backend</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-remotes"><code class="docutils literal"><span class="pre">gitfs_remotes</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-provider"><code class="docutils literal"><span class="pre">gitfs_provider</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-ssl-verify"><code class="docutils literal"><span class="pre">gitfs_ssl_verify</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-mountpoint"><code class="docutils literal"><span class="pre">gitfs_mountpoint</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-root"><code class="docutils literal"><span class="pre">gitfs_root</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-base"><code class="docutils literal"><span class="pre">gitfs_base</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-env-whitelist"><code class="docutils literal"><span class="pre">gitfs_env_whitelist</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-env-blacklist"><code class="docutils literal"><span class="pre">gitfs_env_blacklist</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-global-lock"><code class="docutils literal"><span class="pre">gitfs_global_lock</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#gitfs-authentication-options">GitFS Authentication Options</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#gitfs-user"><code class="docutils literal"><span class="pre">gitfs_user</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#gitfs-password"><code class="docutils literal"><span class="pre">gitfs_password</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#gitfs-insecure-auth"><code class="docutils literal"><span class="pre">gitfs_insecure_auth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#gitfs-pubkey"><code class="docutils literal"><span class="pre">gitfs_pubkey</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#gitfs-privkey"><code class="docutils literal"><span class="pre">gitfs_privkey</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#gitfs-passphrase"><code class="docutils literal"><span class="pre">gitfs_passphrase</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#hg-mercurial-remote-file-server-backend">hg: Mercurial Remote File Server Backend</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#hgfs-remotes"><code class="docutils literal"><span class="pre">hgfs_remotes</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hgfs-branch-method"><code class="docutils literal"><span class="pre">hgfs_branch_method</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hgfs-mountpoint"><code class="docutils literal"><span class="pre">hgfs_mountpoint</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hgfs-root"><code class="docutils literal"><span class="pre">hgfs_root</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hgfs-base"><code class="docutils literal"><span class="pre">hgfs_base</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hgfs-env-whitelist"><code class="docutils literal"><span class="pre">hgfs_env_whitelist</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hgfs-env-blacklist"><code class="docutils literal"><span class="pre">hgfs_env_blacklist</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#svn-subversion-remote-file-server-backend">svn: Subversion Remote File Server Backend</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#svnfs-remotes"><code class="docutils literal"><span class="pre">svnfs_remotes</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#svnfs-mountpoint"><code class="docutils literal"><span class="pre">svnfs_mountpoint</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#svnfs-root"><code class="docutils literal"><span class="pre">svnfs_root</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#svnfs-trunk"><code class="docutils literal"><span class="pre">svnfs_trunk</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#svnfs-branches"><code class="docutils literal"><span class="pre">svnfs_branches</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#svnfs-tags"><code class="docutils literal"><span class="pre">svnfs_tags</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#svnfs-env-whitelist"><code class="docutils literal"><span class="pre">svnfs_env_whitelist</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#svnfs-env-blacklist"><code class="docutils literal"><span class="pre">svnfs_env_blacklist</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#minion-minionfs-remote-file-server-backend">minion: MinionFS Remote File Server Backend</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#minionfs-env"><code class="docutils literal"><span class="pre">minionfs_env</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#minionfs-mountpoint"><code class="docutils literal"><span class="pre">minionfs_mountpoint</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#minionfs-whitelist"><code class="docutils literal"><span class="pre">minionfs_whitelist</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#minionfs-blacklist"><code class="docutils literal"><span class="pre">minionfs_blacklist</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pillar-configuration">Pillar Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pillar-roots"><code class="docutils literal"><span class="pre">pillar_roots</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pillar-opts"><code class="docutils literal"><span class="pre">pillar_opts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ext-pillar"><code class="docutils literal"><span class="pre">ext_pillar</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ext-pillar-first"><code class="docutils literal"><span class="pre">ext_pillar_first</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#git-external-pillar-git-pillar-configuration-options">Git External Pillar (git_pillar) Configuration Options</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#git-pillar-provider"><code class="docutils literal"><span class="pre">git_pillar_provider</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#git-pillar-base"><code class="docutils literal"><span class="pre">git_pillar_base</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#git-pillar-branch"><code class="docutils literal"><span class="pre">git_pillar_branch</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#git-pillar-env"><code class="docutils literal"><span class="pre">git_pillar_env</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#git-pillar-root"><code class="docutils literal"><span class="pre">git_pillar_root</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#git-pillar-ssl-verify"><code class="docutils literal"><span class="pre">git_pillar_ssl_verify</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#git-pillar-global-lock"><code class="docutils literal"><span class="pre">git_pillar_global_lock</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#git-external-pillar-authentication-options">Git External Pillar Authentication Options</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#git-pillar-user"><code class="docutils literal"><span class="pre">git_pillar_user</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#git-pillar-password"><code class="docutils literal"><span class="pre">git_pillar_password</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#git-pillar-insecure-auth"><code class="docutils literal"><span class="pre">git_pillar_insecure_auth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#git-pillar-pubkey"><code class="docutils literal"><span class="pre">git_pillar_pubkey</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#git-pillar-privkey"><code class="docutils literal"><span class="pre">git_pillar_privkey</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#git-pillar-passphrase"><code class="docutils literal"><span class="pre">git_pillar_passphrase</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#pillar-merging-options">Pillar Merging Options</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#pillar-source-merging-strategy"><code class="docutils literal"><span class="pre">pillar_source_merging_strategy</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#pillar-merge-lists"><code class="docutils literal"><span class="pre">pillar_merge_lists</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#pillar-cache-options">Pillar Cache Options</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#pillar-cache"><code class="docutils literal"><span class="pre">pillar_cache</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#pillar-cache-ttl"><code class="docutils literal"><span class="pre">pillar_cache_ttl</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#pillar-cache-backend"><code class="docutils literal"><span class="pre">pillar_cache_backend</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#syndic-server-settings">Syndic Server Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#order-masters"><code class="docutils literal"><span class="pre">order_masters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#syndic-master"><code class="docutils literal"><span class="pre">syndic_master</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#syndic-master-port"><code class="docutils literal"><span class="pre">syndic_master_port</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#syndic-pidfile"><code class="docutils literal"><span class="pre">syndic_pidfile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#syndic-log-file"><code class="docutils literal"><span class="pre">syndic_log_file</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#peer-publish-settings">Peer Publish Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#peer"><code class="docutils literal"><span class="pre">peer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#peer-run"><code class="docutils literal"><span class="pre">peer_run</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#master-logging-settings">Master Logging Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#log-file"><code class="docutils literal"><span class="pre">log_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-level"><code class="docutils literal"><span class="pre">log_level</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-level-logfile"><code class="docutils literal"><span class="pre">log_level_logfile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-datefmt"><code class="docutils literal"><span class="pre">log_datefmt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-datefmt-logfile"><code class="docutils literal"><span class="pre">log_datefmt_logfile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-fmt-console"><code class="docutils literal"><span class="pre">log_fmt_console</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-fmt-logfile"><code class="docutils literal"><span class="pre">log_fmt_logfile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-granular-levels"><code class="docutils literal"><span class="pre">log_granular_levels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#node-groups">Node Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="#range-cluster-settings">Range Cluster Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#range-server"><code class="docutils literal"><span class="pre">range_server</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#include-configuration">Include Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-include"><code class="docutils literal"><span class="pre">default_include</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#include"><code class="docutils literal"><span class="pre">include</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#windows-software-repo-settings">Windows Software Repo Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-provider"><code class="docutils literal"><span class="pre">winrepo_provider</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-dir"><code class="docutils literal"><span class="pre">winrepo_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-dir-ng"><code class="docutils literal"><span class="pre">winrepo_dir_ng</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-cachefile"><code class="docutils literal"><span class="pre">winrepo_cachefile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-remotes"><code class="docutils literal"><span class="pre">winrepo_remotes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-remotes-ng"><code class="docutils literal"><span class="pre">winrepo_remotes_ng</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-branch"><code class="docutils literal"><span class="pre">winrepo_branch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-ssl-verify"><code class="docutils literal"><span class="pre">winrepo_ssl_verify</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#winrepo-authentication-options">Winrepo Authentication Options</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#winrepo-user"><code class="docutils literal"><span class="pre">winrepo_user</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#winrepo-password"><code class="docutils literal"><span class="pre">winrepo_password</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#winrepo-insecure-auth"><code class="docutils literal"><span class="pre">winrepo_insecure_auth</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#winrepo-pubkey"><code class="docutils literal"><span class="pre">winrepo_pubkey</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#winrepo-privkey"><code class="docutils literal"><span class="pre">winrepo_privkey</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#winrepo-passphrase"><code class="docutils literal"><span class="pre">winrepo_passphrase</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="minion.html">Configuring the Salt Minion</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonroot.html">Running the Salt Master/Minion as an Unprivileged User</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging/handlers/index.html">External Logging Handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_server/index.html">Salt File Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_server/all/index.html">Full list of builtin fileserver modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grains/all/index.html">Full list of builtin grains modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Salt code and internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/all/index.html">Full list of builtin execution modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../netapi/all/index.html">Full list of netapi modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../output/all/index.html">Full list of builtin output modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peer.html">Peer Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pillar/index.html">Pillars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pillar/all/index.html">Full list of builtin pillar modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proxy/all/index.html">Full list of builtin proxy modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../renderers/index.html">Renderers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../returners/index.html">Returners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../roster/all/index.html">Full list of builtin roster modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../runners/index.html">Salt Runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../states/index.html">State Enforcement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../states/all/index.html">Full list of builtin state modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/index.html">Execution Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tops/index.html">Master Tops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tops/all/index.html">Full list of builtin master tops modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wheel/all/index.html">Full list of builtin wheel modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../beacons/all/index.html">Full list of builtin beacon modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../engines/all/index.html">Full list of builtin engine modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sdb/all/index.html">Full list of builtin sdb modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serializers/all/index.html">Full list of builtin serializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../queues/all/index.html">Full list of builtin queues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/best_practices.html">Salt Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/hardening.html">Hardening Salt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/development/index.html">Developing Salt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/releases/index.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/projects/index.html">Salt Community Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security disclosure policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

                    
                    
                </div>

                <div id="sidebar-static-bottom">
                <div class="text-nowrap">
                    <!--social icons from http://vervex.deviantart.com/art/somacro-45-300dpi-social-media-icons-267955425-->
                    <ul id="social-links" class="list-inline">
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="watch saltstack videos on youtube" href="https://www.youtube.com/user/saltstack" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/youtube-variation.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="view the latest saltstack tweets" href="http://twitter.com/saltstackinc" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/twitter.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="subscribe to the salt users mailing list" href="https://groups.google.com/forum/#!forum/salt-users" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/email.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="download saltstack code from github" href="https://github.com/saltstack/salt" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/github.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="chat in #salt on freenode irc" href="http://webchat.freenode.net/?channels=salt&uio=mj10cnvljjk9dhj1zsyxmd10cnvl83" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/messenger-generic.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="/r/saltstack" href="http://www.reddit.com/r/saltstack/" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/reddit.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="ask a saltstack question on stackoverflow" href="http://stackoverflow.com/questions/tagged/salt-stack" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/stackoverflow.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="join or start a saltstack meetup" href="http://www.meetup.com/find/?keywords=saltstack" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/meetup.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="follow saltstack on linkedin" href="http://www.linkedin.com/company/salt-stack-inc" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/linkedin.png" ></a></li>
                    </ul>
                </div>
                </div>
            </div>
            <!--end sidebar-->

            </div> <!--end wrapper--> <!--end block content-->
        
    <script>
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '2015.8.12',
            SEARCH_CX:   '004624818632696854117:aw_tegffouy',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  'true'
        };
    </script>

    <script src="../../_static/js/core.min.js"></script>

    <script src="../../_static/js/webhelp.min_v1.4.3.js"></script>

        

        <!--analytics-->
        <script type="text/javascript" language="javascript">llactid=23943</script>
        <script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>

        <script>
        var _gaq = _gaq || [];
        var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
        _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
        _gaq.push(['_setAccount', 'UA-26984928-1']);
        _gaq.push(['_setDomainName', 'saltstack.com']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
        </script>
        
    </body>
</html>