<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#854367 - apng2gif: CVE-2017-6960: Integer overflow resulting in heap buffer overflow - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=854367&quot;&gt;854367&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:854367@bugs.debian.org">#854367</a><br>
apng2gif: CVE-2017-6960: Integer overflow resulting in heap buffer overflow</h1>
<div class="versiongraph"><a href="version.cgi?collapse=1;found=apng2gif%2F1.5-1;found=apng2gif%2F1.7-1;package=apng2gif;info=1;fixed=apng2gif%2F1.8-0.1;absolute=0"><img alt="version graph" src="version.cgi?fixed=apng2gif%2F1.8-0.1;width=2;package=apng2gif;absolute=0;collapse=1;height=2;found=apng2gif%2F1.5-1;found=apng2gif%2F1.7-1"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=apng2gif">apng2gif</a>;
Maintainer for <a href="pkgreport.cgi?package=apng2gif">apng2gif</a> is <a href="pkgreport.cgi?maint=atzlinux%40sina.com">xiao sheng wen &lt;atzlinux@sina.com&gt;</a>; Source for <a href="pkgreport.cgi?package=apng2gif">apng2gif</a> is <a href="pkgreport.cgi?src=apng2gif">src:apng2gif</a> (<a href="https://tracker.debian.org/pkg/apng2gif">PTS</a>, <a href="https://buildd.debian.org/apng2gif">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=apng2gif">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=dileep.chinu%40gmail.com">Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</a></p>
  <p>Date: Mon,  6 Feb 2017 12:21:03 UTC</p>

<p>Severity: <em class="severity">serious</em></p>
<p>Tags: security, upstream</p>

<p>Found in versions apng2gif/1.5-1, apng2gif/1.7-1</p>
<p>Fixed in version apng2gif/1.8-0.1</p>

<p><strong>Done:</strong> Reiner Herrmann &lt;reiner@reiner-h.de&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=854367;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, dileep.chinu@gmail.com, Jari Aalto &lt;jari.aalto@cante.net&gt; -->
<!-- time:1486383665 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, dileep.chinu@gmail.com, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>:<br>
<code>Bug#854367</code>; Package <code>apng2gif</code>.
 (Mon, 06 Feb 2017 12:21:05 GMT) (<a href="bugreport.cgi?bug=854367;msg=2">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt; -->
<!-- time:1486383665 -->
<strong>Acknowledgement sent</strong>
to <code>Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>dileep.chinu@gmail.com, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>.
 (Mon, 06 Feb 2017 12:21:05 GMT) (<a href="bugreport.cgi?bug=854367;msg=4">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=5">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=5">mbox</a>, <a href="mailto:854367@bugs.debian.org?body=On%20Mon%2C%2006%20Feb%202017%2004%3A20%3A49%20-0800%20Dileep%20Kumar%20Jallepalli%20%3Cdileep.chinu%40gmail.com%3E%20wrote%3A%0A%3E%20Package%3A%20apng2gif%0A%3E%20Version%3A%201.7-1%0A%3E%20Severity%3A%20important%0A%3E%20%0A%3E%20Dear%20Maintainer%2C%0A%3E%20%0A%3E%20Q.%29%20What%20led%20up%20to%20the%20situation%3F%0A%3E%20A.%29%20In%20load_apng%20function%2C%20the%20imagesize%20variable%20is%20prone%20to%20integer%20overflow%0A%3E%20vulnerability%20%28It%20is%20basically%20calculated%20from%20w%20and%20h%20variables%20which%20are%20in%0A%3E%20the%20hands%20of%20the%20user%20input%29.%20And%20then%20frameRaw.p%20and%20frameCur.p%20are%20assigned%0A%3E%20an%20lower%20amount%20of%20memory%20because%20of%20this%20vulnerability%20which%20will%20result%20in%0A%3E%20unallocated%20memory%20pointers%20in%20frameRaw.rows%20and%20frameCur.rows%20whose%0A%3E%20dereference%20can%20cause%20heap%20buffer%20overflow%20read%2Fwrite.%0A%3E%20%0A%3E%20Q.%29%20What%20exactly%20did%20you%20do%20%28or%20not%20do%29%20that%20was%20effective%20%28or%20ineffective%29%3F%0A%3E%20A.%29%20Just%20have%20to%20modify%20the%20relavent%20offsets%20in%20the%20png%20file%20so%20that%20the%20h%20and%0A%3E%20w%20variables%20can%20result%20in%20an%20overflow%20of%20the%20imagesize%20variable.%0A%3E%20%0A%3E%20%20%20%20%20Steps%20to%20reproduce%3A%0A%3E%20%20%20%20%20%20%20%20%20Use%20the%20makefile%20in%20the%20attachment%20and%20compile%20the%20program%20to%20get%20the%0A%3E%20program%20in%20asan%20mode.%0A%3E%20%20%20%20%20%20%20%20%20Use%20the%20input.png%20file%20in%20the%20attachment%20as%20input%20to%20the%20program%20and%0A%3E%20run%20it%3A%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20apng2gif%20input.png%0A%3E%20%0A%3E%20Q.%29%20What%20was%20the%20outcome%20of%20this%20action%3F%0A%3E%20A.%29%20Heap%20buffer%20overflow%20read%20at%20memcpy%20in%20the%20if%20condition%20bop%3D%3D0%20in%0A%3E%20compose_frame%20function%20for%20example.%20But%20theoretically%2C%20This%20can%20result%20in%20an%0A%3E%20heap%20overflow%20write%20in%20some%20memcpy%20too%20under%20specific%20conditions.%0A%3E%20%0A%3E%20Sample%20ASAN%20Output%3A%0A%3E%20%0A%3E%20apng2gif%201.7%0A%3E%20%0A%3E%20Reading%20%27.%2Fcrashes_submitted%2Fintegeroverflow%2Finput.png%27...%0A%3E%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%3E%20%3D%3D16318%3D%3D%20ERROR%3A%20AddressSanitizer%3A%20heap-buffer-overflow%20on%20address%200xb57ff8ff%0A%3E%20at%20pc%200x804a7e2%20bp%200xbfe89908%20sp%200xbfe898fc%0A%3E%20READ%20of%20size%201%20at%200xb57ff8ff%20thread%20T0%0A%3E%20%20%20%20%20%230%200x804a7e1%20%28apng2gif%2F1.7%2Fgccasanbuild%2Fapng2gif%2B0x804a7e1%29%0A%3E%20%20%20%20%20%231%200x80582bb%20%28apng2gif%2F1.7%2Fgccasanbuild%2Fapng2gif%2B0x80582bb%29%0A%3E%20%20%20%20%20%232%200x804938b%20%28apng2gif%2F1.7%2Fgccasanbuild%2Fapng2gif%2B0x804938b%29%0A%3E%20%20%20%20%20%233%200xb5e2baf2%20%28%2Flib%2Fi386-linux-gnu%2Flibc-2.19.so%2B0x19af2%29%0A%3E%20%20%20%20%20%234%200x804a0c1%20%28apng2gif%2F1.7%2Fgccasanbuild%2Fapng2gif%2B0x804a0c1%29%0A%3E%200xb57ff8ff%20is%20located%20255%20bytes%20to%20the%20right%20of%2067375104-byte%20region%0A%3E%20%5B0xb17be800%2C0xb57ff800%29%0A%3E%20allocated%20by%20thread%20T0%20here%3A%0A%3E%20%20%20%20%20%230%200xb61006a4%20%28%2Fusr%2Flib%2Fi386-linux-gnu%2Flibasan.so.0.0.0%2B0x116a4%29%0A%3E%20%20%20%20%20%231%200x805626a%20%28apng2gif%2F1.7%2Fgccasanbuild%2Fapng2gif%2B0x805626a%29%0A%3E%20%20%20%20%20%232%200x804938b%20%28apng2gif%2F1.7%2Fgccasanbuild%2Fapng2gif%2B0x804938b%29%0A%3E%20%20%20%20%20%233%200xb5e2baf2%20%28%2Flib%2Fi386-linux-gnu%2Flibc-2.19.so%2B0x19af2%29%0A%3E%20Shadow%20bytes%20around%20the%20buggy%20address%3A%0A%3E%20%20%200x36affec0%3A%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%0A%3E%20%20%200x36affed0%3A%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%0A%3E%20%20%200x36affee0%3A%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%0A%3E%20%20%200x36affef0%3A%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%0A%3E%20%20%200x36afff00%3A%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%0A%3E%20%3D%3E0x36afff10%3A%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%5Bfa%5D%0A%3E%20%20%200x36afff20%3Afa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%0A%3E%20%20%200x36afff30%3A%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%20fa%0A&amp;subject=Re%3A%20apng2gif%3A%20Integer%20overflow%20resulting%20in%20heap%20buffer%20overflow&amp;In-Reply-To=%3C20170206122049.16006.76849.reportbug%40ubuntu%3E&amp;References=%3C20170206122049.16006.76849.reportbug%40ubuntu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=dileep.chinu%40gmail.com" alt="">
<div class="header"><span class="headerfield">From:</span> Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> apng2gif: Integer overflow resulting in heap buffer overflow</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 06 Feb 2017 04:20:49 -0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=854367;msg=5">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Package: apng2gif
Version: 1.7-1
Severity: important

Dear Maintainer,

Q.) What led up to the situation?
A.) In load_apng function, the imagesize variable is prone to integer overflow
vulnerability (It is basically calculated from w and h variables which are in
the hands of the user input). And then frameRaw.p and frameCur.p are assigned
an lower amount of memory because of this vulnerability which will result in
unallocated memory pointers in frameRaw.rows and frameCur.rows whose
dereference can cause heap buffer overflow read/write.

Q.) What exactly did you do (or not do) that was effective (or ineffective)?
A.) Just have to modify the relavent offsets in the png file so that the h and
w variables can result in an overflow of the imagesize variable.

    Steps to reproduce:
        Use the makefile in the attachment and compile the program to get the
program in asan mode.
        Use the input.png file in the attachment as input to the program and
run it:
                apng2gif input.png

Q.) What was the outcome of this action?
A.) Heap buffer overflow read at memcpy in the if condition bop==0 in
compose_frame function for example. But theoretically, This can result in an
heap overflow write in some memcpy too under specific conditions.

Sample ASAN Output:

apng2gif 1.7

Reading &#39;./crashes_submitted/integeroverflow/input.png&#39;...
=================================================================
==16318== ERROR: AddressSanitizer: heap-buffer-overflow on address 0xb57ff8ff
at pc 0x804a7e2 bp 0xbfe89908 sp 0xbfe898fc
READ of size 1 at 0xb57ff8ff thread T0
    #0 0x804a7e1 (apng2gif/1.7/gccasanbuild/apng2gif+0x804a7e1)
    #1 0x80582bb (apng2gif/1.7/gccasanbuild/apng2gif+0x80582bb)
    #2 0x804938b (apng2gif/1.7/gccasanbuild/apng2gif+0x804938b)
    #3 0xb5e2baf2 (/lib/i386-linux-gnu/libc-2.19.so+0x19af2)
    #4 0x804a0c1 (apng2gif/1.7/gccasanbuild/apng2gif+0x804a0c1)
0xb57ff8ff is located 255 bytes to the right of 67375104-byte region
[0xb17be800,0xb57ff800)
allocated by thread T0 here:
    #0 0xb61006a4 (/usr/lib/i386-linux-gnu/libasan.so.0.0.0+0x116a4)
    #1 0x805626a (apng2gif/1.7/gccasanbuild/apng2gif+0x805626a)
    #2 0x804938b (apng2gif/1.7/gccasanbuild/apng2gif+0x804938b)
    #3 0xb5e2baf2 (/lib/i386-linux-gnu/libc-2.19.so+0x19af2)
Shadow bytes around the buggy address:
  0x36affec0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x36affed0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x36affee0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x36affef0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x36afff00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=&gt;0x36afff10: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa[fa]
  0x36afff20:fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x36afff30: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x36afff40: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x36afff50: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x36afff60: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:     fa
  Heap righ redzone:     fb
  Freed Heap region:     fd
  Stack left redzone:    f1
  Stack mid redzone:     f2
  Stack right redzone:   f3
  Stack partial redzone: f4
  Stack after return:    f5
  Stack use after scope: f8
  Global redzone:        f9
  Global init order:     f6
  Poisoned by user:      f7
  ASan internal:         fe
==16318== ABORTING

Q.) What outcome did you expect instead?
A.) Maybe some check to see if each pointer in frameRaw.rows/frameCur.rows is
less than or equal to frameCur.p + imagesize before trying to dereference them.
Or may be something to get rid of interger overflow in the first place

-- System Information:
Debian Release: jessie/sid
  APT prefers trusty-updates
  APT policy: (500, &#39;trusty-updates&#39;), (500, &#39;trusty-security&#39;), (500,
&#39;trusty&#39;), (100, &#39;trusty-backports&#39;)
Architecture: i386 (i686)

Kernel: Linux 3.13.0-32-generic (SMP w/2 CPU cores)
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=854367;filename=input.png;msg=5">input.png</a> (image/png, attachment)]</pre>
<pre class="mime">[<a href="bugreport.cgi?att=2;bug=854367;filename=Makefile;msg=5">Makefile</a> (text/x-makefile, attachment)]</pre>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt; -->
<!-- time:1487143083 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>:<br>
<code>Bug#854367</code>; Package <code>apng2gif</code>.
 (Wed, 15 Feb 2017 07:18:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=7">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="8"></a>
<!-- request_addr: Dileep Kumar &lt;dileep.chinu@gmail.com&gt; -->
<!-- time:1487143083 -->
<strong>Acknowledgement sent</strong>
to <code>Dileep Kumar &lt;dileep.chinu@gmail.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Jari Aalto &lt;jari.aalto@cante.net&gt;</code>.
 (Wed, 15 Feb 2017 07:18:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=9">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="10"></a><a name="msg10"></a><a href="#10">Message #10</a> received at 854367@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=10">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=10">mbox</a>, <a href="mailto:854367@bugs.debian.org?body=On%20Wed%2C%2015%20Feb%202017%2012%3A45%3A05%20%2B0530%20Dileep%20Kumar%20%3Cdileep.chinu%40gmail.com%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20Is%20there%20any%20update%20on%20this%20bug.%20Im%20new%20to%20submitting%20bugs%20in%20debian%0A%3E%20packages%2C%20hence%20not%20sure%20if%20I%20had%20done%20it%20correctly%20and%20if%20it%20had%20been%0A%3E%20assigned%20to%20the%20maintainer%20or%20not.%0A%3E%20%0A%3E%20-Dileep%0A&amp;In-Reply-To=%3CCAPjdKBxU-BGB3415%3DiGAepr3FawNFWDArE9HwJsn7WaxKcH6RA%40mail.gmail.com%3E&amp;subject=Re%3A%20Any%20update%20on%20this%20bug&amp;References=%3CCAPjdKBxU-BGB3415%3DiGAepr3FawNFWDArE9HwJsn7WaxKcH6RA%40mail.gmail.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=dileep.chinu%40gmail.com" alt="">
<div class="header"><span class="headerfield">From:</span> Dileep Kumar &lt;dileep.chinu@gmail.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 854367@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Any update on this bug</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 15 Feb 2017 12:45:05 +0530</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=854367;msg=10">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi,

Is there any update on this bug. Im new to submitting bugs in debian
packages, hence not sure if I had done it correctly and if it had been
assigned to the maintainer or not.

-Dileep
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=854367;msg=10">Message part 2</a> (text/html, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="11"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1489691343 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;security&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;&#39;
            };
-->
<strong>Added tag(s) security.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Thu, 16 Mar 2017 19:09:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=12">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="13"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1489750028 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;apng2gif: CVE-2017-6960: Integer overflow resulting in heap buffer overflow&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;apng2gif: Integer overflow resulting in heap buffer overflow&#39;
            };
-->
<strong>Changed Bug title to &#39;apng2gif: CVE-2017-6960: Integer overflow resulting in heap buffer overflow&#39; from &#39;apng2gif: Integer overflow resulting in heap buffer overflow&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Fri, 17 Mar 2017 11:27:08 GMT) (<a href="bugreport.cgi?bug=854367;msg=14">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="15"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1489750204 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;security upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;security&#39;
            };
-->
<strong>Added tag(s) upstream.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Fri, 17 Mar 2017 11:30:04 GMT) (<a href="bugreport.cgi?bug=854367;msg=16">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="17"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt; -->
<!-- time:1490047923 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>:<br>
<code>Bug#854367</code>; Package <code>apng2gif</code>.
 (Mon, 20 Mar 2017 22:12:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=18">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=18">mbox</a>, <a href="#17">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="19"></a>
<!-- request_addr: Ola Lundqvist &lt;ola@inguza.com&gt; -->
<!-- time:1490047923 -->
<strong>Acknowledgement sent</strong>
to <code>Ola Lundqvist &lt;ola@inguza.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Jari Aalto &lt;jari.aalto@cante.net&gt;</code>.
 (Mon, 20 Mar 2017 22:12:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=20">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=20">mbox</a>, <a href="#19">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="21"></a><a name="msg21"></a><a href="#21">Message #21</a> received at 854367@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=21">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=21">mbox</a>, <a href="mailto:854367@bugs.debian.org?References=%3CCABY6%3D0n8WBd44izoRje8qQexbmSVc-etXqPkmPCwfHnQkQ_%2B1w%40mail.gmail.com%3E&amp;body=On%20Mon%2C%2020%20Mar%202017%2023%3A10%3A01%20%2B0100%20Ola%20Lundqvist%20%3Cola%40inguza.com%3E%20wrote%3A%0A%3E%20Hi%0A%3E%20%0A%3E%20I%20just%20want%20to%20inform%20that%20the%20problem%20was%20easy%20to%20reproduce%20on%20wheezy%2C%0A%3E%20jessie%20and%20sid.%0A%3E%20%0A%3E%20Sid%3A%0A%3E%20%28sid_chroot%29root%40tigereye%3A%2F%23%20apng2gif%20input-854367.png%0A%3E%20apng2gif%201.7%0A%3E%20Reading%20%27input-854367.png%27...%0A%3E%20Segmentation%20fault%0A%3E%20%0A%3E%20Wheezy%20and%20jessie%20looks%20similar%3A%0A%3E%20%28wheezy_chroot%29root%40tigereye%3A%2F%23%20apng2gif%20input-854367.png%0A%3E%20apng2gif%201.5%0A%3E%20Reading%20%27input-854367.png%27...%0A%3E%20Segmentation%20fault%0A%3E%20%0A%3E%20Best%20regards%0A%3E%20%0A%3E%20%2F%2F%20Ola%0A%3E%20%0A%3E%20--%20%0A%3E%20%20---%20Inguza%20Technology%20AB%20---%20MSc%20in%20Information%20Technology%20----%0A%3E%20%2F%20%20ola%40inguza.com%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Folkebogatan%2026%20%20%20%20%20%20%20%20%20%20%20%20%5C%0A%3E%20%7C%20%20opal%40debian.org%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20654%2068%20KARLSTAD%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%3E%20%7C%20%20http%3A%2F%2Finguza.com%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Mobile%3A%20%2B46%20%280%2970-332%201551%20%7C%0A%3E%20%5C%20%20gpg%2Ff.p.%3A%207090%20A92B%2018FE%207994%200C36%204FE4%2018A1%20B1CF%200FE5%203DD9%20%20%2F%0A%3E%20%20---------------------------------------------------------------%0A&amp;subject=Re%3A%20Problem%20easy%20to%20reproduce%20%28CVE-2017-6960%29&amp;In-Reply-To=%3CCABY6%3D0n8WBd44izoRje8qQexbmSVc-etXqPkmPCwfHnQkQ_%2B1w%40mail.gmail.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ola%40inguza.com" alt="">
<div class="header"><span class="headerfield">From:</span> Ola Lundqvist &lt;ola@inguza.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 854367@bugs.debian.org, Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Problem easy to reproduce (CVE-2017-6960)</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 20 Mar 2017 23:10:01 +0100</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=854367;msg=21">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi

I just want to inform that the problem was easy to reproduce on wheezy,
jessie and sid.

Sid:
(sid_chroot)root@tigereye:/# apng2gif input-854367.png
apng2gif 1.7
Reading &#39;input-854367.png&#39;...
Segmentation fault

Wheezy and jessie looks similar:
(wheezy_chroot)root@tigereye:/# apng2gif input-854367.png
apng2gif 1.5
Reading &#39;input-854367.png&#39;...
Segmentation fault

Best regards

// Ola

-- 
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <a href="http://inguza.com/">http://inguza.com/</a>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=854367;msg=21">Message part 2</a> (text/html, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="22"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt; -->
<!-- time:1490125686 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>:<br>
<code>Bug#854367</code>; Package <code>apng2gif</code>.
 (Tue, 21 Mar 2017 19:48:06 GMT) (<a href="bugreport.cgi?bug=854367;msg=23">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=23">mbox</a>, <a href="#22">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="24"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1490125686 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Jari Aalto &lt;jari.aalto@cante.net&gt;</code>.
 (Tue, 21 Mar 2017 19:48:06 GMT) (<a href="bugreport.cgi?bug=854367;msg=25">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=25">mbox</a>, <a href="#24">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="26"></a><a name="msg26"></a><a href="#26">Message #26</a> received at 854367@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=26">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=26">mbox</a>, <a href="mailto:854367@bugs.debian.org?subject=Re%3A%20Bug%23854367%3A%20apng2gif%3A%20Integer%20overflow%20resulting%20in%20heap%20buffer%0A%20overflow&amp;In-Reply-To=%3C20170321194431.ug4m3kwwgr5cmhdu%40eldamar.local%3E&amp;body=On%20Tue%2C%2021%20Mar%202017%2020%3A44%3A31%20%2B0100%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Control%3A%20found%20-1%201.5-1%0A%3E%20%0A%3E%20Hi%20%0A%3E%20%0A%3E%20although%20the%20code%20has%20changed%20a%20lot%20after%201.5%20this%20seem%20in%20similar%0A%3E%20form%20presend%20as%20well%20in%20LoadAPNG%20%28triggerable%20e.g.%20on%20line%20623%29%2C%20as%0A%3E%20%0A%3E%20%3D%3D6087%3D%3DERROR%3A%20AddressSanitizer%3A%20heap-buffer-overflow%20on%20address%200x7fac2f9ff800%20at%20pc%200x7fac3356673c%20bp%200x7ffd048d8520%20sp%200x7ffd048d7cd0%0A%3E%20WRITE%20of%20size%201090585600%20at%200x7fac2f9ff800%20thread%20T0%0A%3E%20%5B...%5D%0A%3E%20so%20even%20as%20heap-buffer-overflow%20WRITE.%0A%3E%20%0A%3E%20Updating%20found%20version%20accordingly.%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A&amp;References=%3C20170206122049.16006.76849.reportbug%40ubuntu%3E%0A%20%3C20170321194431.ug4m3kwwgr5cmhdu%40eldamar.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 854367@bugs.debian.org, 854367-submitter@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#854367: apng2gif: Integer overflow resulting in heap buffer
 overflow</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 21 Mar 2017 20:44:31 +0100</div>
</div>
<pre class="message">Control: found -1 1.5-1

Hi 

although the code has changed a lot after 1.5 this seem in similar
form presend as well in LoadAPNG (triggerable e.g. on line 623), as

==6087==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x7fac2f9ff800 at pc 0x7fac3356673c bp 0x7ffd048d8520 sp 0x7ffd048d7cd0
WRITE of size 1090585600 at 0x7fac2f9ff800 thread T0
[...]
so even as heap-buffer-overflow WRITE.

Updating found version accordingly.

Regards,
Salvatore


</pre>

<div class="msgreceived"><hr><p>
<a name="27"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: 854367-submit@bugs.debian.org -->
<!-- time:1490125686 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;apng2gif/1.5-1&#39;,
                                    &#39;apng2gif/1.7-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;apng2gif/1.7-1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions apng2gif/1.5-1.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>854367-submit@bugs.debian.org</code>.
 (Tue, 21 Mar 2017 19:48:06 GMT) (<a href="bugreport.cgi?bug=854367;msg=28">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=28">mbox</a>, <a href="#27">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="29"></a>
<!-- request_addr: Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt; -->
<!-- time:1490125688 -->
<strong>Message sent on</strong>
to <code>Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</code>:<br>
Bug#854367.
 (Tue, 21 Mar 2017 19:48:08 GMT) (<a href="bugreport.cgi?bug=854367;msg=30">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=30">mbox</a>, <a href="#29">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="32"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt; -->
<!-- time:1490392982 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>:<br>
<code>Bug#854367</code>; Package <code>apng2gif</code>.
 (Fri, 24 Mar 2017 22:03:02 GMT) (<a href="bugreport.cgi?bug=854367;msg=33">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=33">mbox</a>, <a href="#32">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="34"></a>
<!-- request_addr: Chris Lamb &lt;lamby@debian.org&gt; -->
<!-- time:1490392983 -->
<strong>Acknowledgement sent</strong>
to <code>Chris Lamb &lt;lamby@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Jari Aalto &lt;jari.aalto@cante.net&gt;</code>.
 (Fri, 24 Mar 2017 22:03:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=35">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=35">mbox</a>, <a href="#34">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="36"></a><a name="msg36"></a><a href="#36">Message #36</a> received at 854367@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=36">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=36">mbox</a>, <a href="mailto:854367@bugs.debian.org?body=On%20Fri%2C%2024%20Mar%202017%2022%3A00%3A32%20%2B0000%20Chris%20Lamb%20%3Clamby%40debian.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20%3E%20apng2gif%3A%20CVE-2017-6960%3A%20Integer%20overflow%20resulting%20in%20heap%20buffer%0A%3E%20%3E%20overflow%0A%3E%20%0A%3E%20Do%20we%20have%20an%20upstream-blessed%20patch%20for%20this%20yet%2C%20out%20of%20interest%3F%0A%3E%20%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20%0A%3E%20--%20%0A%3E%20%20%20%20%20%20%20%2C%27%27%60.%0A%3E%20%20%20%20%20%20%3A%20%3A%27%20%20%3A%20%20%20%20%20Chris%20Lamb%0A%3E%20%20%20%20%20%20%60.%20%60%27%60%20%20%20%20%20%20lamby%40debian.org%20%2F%20chris-lamb.co.uk%0A%3E%20%20%20%20%20%20%20%20%60-%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20apng2gif%3A%20CVE-2017-6960%3A%20Integer%20overflow%20resulting%20in%20heap%20buffer%0A%20overflow&amp;In-Reply-To=%3C1490392832.786177.922717072.52462CD4%40webmail.messagingengine.com%3E&amp;References=%3C1490392832.786177.922717072.52462CD4%40webmail.messagingengine.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=lamby%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Chris Lamb &lt;lamby@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 854367@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: apng2gif: CVE-2017-6960: Integer overflow resulting in heap buffer
 overflow</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 24 Mar 2017 22:00:32 +0000</div>
</div>
<pre class="message">Hi,

&gt; apng2gif: <a href="https://security-tracker.debian.org/tracker/CVE-2017-6960">CVE-2017-6960</a>: Integer overflow resulting in heap buffer
&gt; overflow

Do we have an upstream-blessed patch for this yet, out of interest?


Regards,

-- 
      ,&#39;&#39;`.
     : :&#39;  :     Chris Lamb
     `. `&#39;`      lamby@debian.org / chris-lamb.co.uk
       `-


</pre>

<div class="msgreceived"><hr><p>
<a name="37"></a>
<!-- request_addr: Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt; -->
<!-- time:1495724583 -->
<strong>Message sent on</strong>
to <code>Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</code>:<br>
Bug#854367.
 (Thu, 25 May 2017 15:03:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=38">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=38">mbox</a>, <a href="#37">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="39"></a><a name="msg39"></a><a href="#39">Message #39</a> received at 854367-submitter@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=39">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=39">mbox</a>, <a href="mailto:854367@bugs.debian.org?subject=Re%3A%20Patch%20proposal%20for%20CVE-2017-6960%20in%20Wheezy%20%28%2FJessie%29&amp;In-Reply-To=%3C20170525150136.ao4xmxebkqp4tado%40hle-laptop.local%3E&amp;body=On%20Thu%2C%2025%20May%202017%2017%3A01%3A36%20%2B0200%20Hugo%20Lefeuvre%20%3Chle%40debian.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20I%20have%20prepared%20a%20patch%20for%20apng2gif%201.5.%0A%3E%20%0A%3E%20Testing%20did%20not%20reveal%20any%20problem%2C%20but%20I%27m%20sure%20it%20can%20still%20be%0A%3E%20improved.%0A%3E%20%0A%3E%20Could%20anybody%20take%20a%20look%20at%20it%20%3F%20%0A%3E%20%0A%3E%20Debdiff%20for%20wheezy%20is%20in%20attachment%20%28a%20test%20package%20for%20wheezy%20is%20also%0A%3E%20available%20here%5B0%5D%29.%0A%3E%20%0A%3E%20This%20patch%20should%20also%20fix%20the%20issue%20in%20Jessie%2C%20but%20I%20did%20not%20test%20it.%0A%3E%20I%20can%20build%20a%20test%20package%20if%20needed.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20%20Hugo%0A%3E%20%0A%3E%20%5B0%5D%20https%3A%2F%2Fpeople.debian.org%2F~hle%2Flts%2Fapng2gif_1.5-1%2Bdeb7u1_amd64.changes%0A%3E%20%0A%3E%20--%20%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20Hugo%20Lefeuvre%20%28hle%29%20%20%20%20%7C%20%20%20%20www.owl.eu.com%0A%3E%204096%2F%20ACB7%20B67F%20197F%209B32%201533%20431C%20AC90%20AC3E%20C524%20065E%0A&amp;References=%3C20170525150136.ao4xmxebkqp4tado%40hle-laptop.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=hle%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Hugo Lefeuvre &lt;hle@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 854367-submitter@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> debian-lts@lists.debian.org, team@security.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Patch proposal for CVE-2017-6960 in Wheezy (/Jessie)</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 25 May 2017 17:01:36 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=854367;msg=39">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi,

I have prepared a patch for apng2gif 1.5.

Testing did not reveal any problem, but I&#39;m sure it can still be
improved.

Could anybody take a look at it ? 

Debdiff for wheezy is in attachment (a test package for wheezy is also
available here[0]).

This patch should also fix the issue in Jessie, but I did not test it.
I can build a test package if needed.

Cheers,
 Hugo

[0] <a href="https://people.debian.org/~hle/lts/apng2gif_1.5-1+deb7u1_amd64.changes">https://people.debian.org/~hle/lts/apng2gif_1.5-1+deb7u1_amd64.changes</a>

-- 
             Hugo Lefeuvre (hle)    |    www.owl.eu.com
4096/ ACB7 B67F 197F 9B32 1533 431C AC90 AC3E C524 065E
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=854367;filename=debdiff;msg=39">debdiff</a> (text/plain, attachment)]</pre>
<pre class="mime">[<a href="bugreport.cgi?att=2;bug=854367;filename=signature.asc;msg=39">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="40"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt; -->
<!-- time:1495726025 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>:<br>
<code>Bug#854367</code>; Package <code>apng2gif</code>.
 (Thu, 25 May 2017 15:27:05 GMT) (<a href="bugreport.cgi?bug=854367;msg=41">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=41">mbox</a>, <a href="#40">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="42"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1495726025 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Jari Aalto &lt;jari.aalto@cante.net&gt;</code>.
 (Thu, 25 May 2017 15:27:05 GMT) (<a href="bugreport.cgi?bug=854367;msg=43">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=43">mbox</a>, <a href="#42">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="44"></a><a name="msg44"></a><a href="#44">Message #44</a> received at 854367@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=44">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=44">mbox</a>, <a href="mailto:854367@bugs.debian.org?body=On%20Thu%2C%2025%20May%202017%2017%3A25%3A09%20%2B0200%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20All%20of%20those%20should%20be%20fixed%20in%20the%20new%20upstream%20version%201.8%20according%0A%3E%20to%20the%20upstream%20author.%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20170525152509.upcem4kq7ickcwsr%40eldamar.local%3E&amp;subject=Re%3A%20Fixed%20upstream%20%28new%20upstream%20version%201.8%29&amp;References=%3C20170525152509.upcem4kq7ickcwsr%40eldamar.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 854367@bugs.debian.org, 854441@bugs.debian.org, 854447@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Fixed upstream (new upstream version 1.8)</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 25 May 2017 17:25:09 +0200</div>
</div>
<pre class="message">All of those should be fixed in the new upstream version 1.8 according
to the upstream author.


</pre>

<div class="msgreceived"><hr><p>
<a name="45"></a>
<!-- request_addr: Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt; -->
<!-- time:1496263864 -->
<strong>Message sent on</strong>
to <code>Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</code>:<br>
Bug#854367.
 (Wed, 31 May 2017 20:51:04 GMT) (<a href="bugreport.cgi?bug=854367;msg=46">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=46">mbox</a>, <a href="#45">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="47"></a><a name="msg47"></a><a href="#47">Message #47</a> received at 854367-submitter@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=47">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=47">mbox</a>, <a href="mailto:854367@bugs.debian.org?body=On%20Wed%2C%2031%20May%202017%2022%3A48%3A04%20%2B0200%20Ola%20Lundqvist%20%3Cola%40inguza.com%3E%20wrote%3A%0A%3E%20Hi%20Hugo%0A%3E%20%0A%3E%20I%20have%20reviewed%20your%20code%20and%20it%20looks%20good%20to%20me.%20I%20do%20not%20know%20this%0A%3E%20library%20very%20well%20however%20so%20may%20have%20overlooked%20something.%20But%20the%0A%3E%20checks%20looks%20ok.%0A%3E%20%0A%3E%20What%20I%27m%20not%20sure%20of%20is%20the%20break%20statement%2C%20but%20I%20guess%20you%20have%0A%3E%20control%20over%20that%20part.%0A%3E%20%0A%3E%20Have%20you%20tested%20that%20the%20solution%20work%20against%20some%20test%20image%20that%0A%3E%20breaked%20it%20in%20earlier%20version%3F%0A%3E%20Have%20you%20done%20any%20form%20of%20regression%20test%3F%0A%3E%20%0A%3E%20Best%20regards%0A%3E%20%0A%3E%20%2F%2F%20Ola%0A%3E%20%0A%3E%20On%2025%20May%202017%20at%2017%3A01%2C%20Hugo%20Lefeuvre%20%3Chle%40debian.org%3E%20wrote%3A%0A%3E%20%3E%20Hi%2C%0A%3E%20%3E%0A%3E%20%3E%20I%20have%20prepared%20a%20patch%20for%20apng2gif%201.5.%0A%3E%20%3E%0A%3E%20%3E%20Testing%20did%20not%20reveal%20any%20problem%2C%20but%20I%27m%20sure%20it%20can%20still%20be%0A%3E%20%3E%20improved.%0A%3E%20%3E%0A%3E%20%3E%20Could%20anybody%20take%20a%20look%20at%20it%20%3F%0A%3E%20%3E%0A%3E%20%3E%20Debdiff%20for%20wheezy%20is%20in%20attachment%20%28a%20test%20package%20for%20wheezy%20is%20also%0A%3E%20%3E%20available%20here%5B0%5D%29.%0A%3E%20%3E%0A%3E%20%3E%20This%20patch%20should%20also%20fix%20the%20issue%20in%20Jessie%2C%20but%20I%20did%20not%20test%20it.%0A%3E%20%3E%20I%20can%20build%20a%20test%20package%20if%20needed.%0A%3E%20%3E%0A%3E%20%3E%20Cheers%2C%0A%3E%20%3E%20%20Hugo%0A%3E%20%3E%0A%3E%20%3E%20%5B0%5D%20https%3A%2F%2Fpeople.debian.org%2F~hle%2Flts%2Fapng2gif_1.5-1%2Bdeb7u1_amd64.changes%0A%3E%20%3E%0A%3E%20%3E%20--%0A%3E%20%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20Hugo%20Lefeuvre%20%28hle%29%20%20%20%20%7C%20%20%20%20www.owl.eu.com%0A%3E%20%3E%204096%2F%20ACB7%20B67F%20197F%209B32%201533%20431C%20AC90%20AC3E%20C524%20065E%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20--%20%0A%3E%20%20---%20Inguza%20Technology%20AB%20---%20MSc%20in%20Information%20Technology%20----%0A%3E%20%2F%20%20ola%40inguza.com%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Folkebogatan%2026%20%20%20%20%20%20%20%20%20%20%20%20%5C%0A%3E%20%7C%20%20opal%40debian.org%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20654%2068%20KARLSTAD%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%3E%20%7C%20%20http%3A%2F%2Finguza.com%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Mobile%3A%20%2B46%20%280%2970-332%201551%20%7C%0A%3E%20%5C%20%20gpg%2Ff.p.%3A%207090%20A92B%2018FE%207994%200C36%204FE4%2018A1%20B1CF%200FE5%203DD9%20%20%2F%0A%3E%20%20---------------------------------------------------------------%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3CCABY6%3D0mde-ZZXwysYdpsgyn_1GR5H3-AF5d1oZZSiDeBJkP%3Dhg%40mail.gmail.com%3E&amp;subject=Re%3A%20Patch%20proposal%20for%20CVE-2017-6960%20in%20Wheezy%20%28%2FJessie%29&amp;References=%3C20170525150136.ao4xmxebkqp4tado%40hle-laptop.local%3E%0A%20%3CCABY6%3D0mde-ZZXwysYdpsgyn_1GR5H3-AF5d1oZZSiDeBJkP%3Dhg%40mail.gmail.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=ola%40inguza.com" alt="">
<div class="header"><span class="headerfield">From:</span> Ola Lundqvist &lt;ola@inguza.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> Hugo Lefeuvre &lt;hle@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 854367-submitter@bugs.debian.org, Debian LTS &lt;debian-lts@lists.debian.org&gt;, 
	Debian Security Team &lt;team@security.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Patch proposal for CVE-2017-6960 in Wheezy (/Jessie)</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 31 May 2017 22:48:04 +0200</div>
</div>
<pre class="message">Hi Hugo

I have reviewed your code and it looks good to me. I do not know this
library very well however so may have overlooked something. But the
checks looks ok.

What I&#39;m not sure of is the break statement, but I guess you have
control over that part.

Have you tested that the solution work against some test image that
breaked it in earlier version?
Have you done any form of regression test?

Best regards

// Ola

On 25 May 2017 at 17:01, Hugo Lefeuvre &lt;hle@debian.org&gt; wrote:
&gt; Hi,
&gt;
&gt; I have prepared a patch for apng2gif 1.5.
&gt;
&gt; Testing did not reveal any problem, but I&#39;m sure it can still be
&gt; improved.
&gt;
&gt; Could anybody take a look at it ?
&gt;
&gt; Debdiff for wheezy is in attachment (a test package for wheezy is also
&gt; available here[0]).
&gt;
&gt; This patch should also fix the issue in Jessie, but I did not test it.
&gt; I can build a test package if needed.
&gt;
&gt; Cheers,
&gt;  Hugo
&gt;
&gt; [0] <a href="https://people.debian.org/~hle/lts/apng2gif_1.5-1+deb7u1_amd64.changes">https://people.debian.org/~hle/lts/apng2gif_1.5-1+deb7u1_amd64.changes</a>
&gt;
&gt; --
&gt;              Hugo Lefeuvre (hle)    |    www.owl.eu.com
&gt; 4096/ ACB7 B67F 197F 9B32 1533 431C AC90 AC3E C524 065E



-- 
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <a href="http://inguza.com/">http://inguza.com/</a>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------


</pre>

<div class="msgreceived"><hr><p>
<a name="48"></a>
<!-- request_addr: Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt; -->
<!-- time:1496388793 -->
<strong>Message sent on</strong>
to <code>Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</code>:<br>
Bug#854367.
 (Fri, 02 Jun 2017 07:33:13 GMT) (<a href="bugreport.cgi?bug=854367;msg=49">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=49">mbox</a>, <a href="#48">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="50"></a><a name="msg50"></a><a href="#50">Message #50</a> received at 854367-submitter@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=50">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=50">mbox</a>, <a href="mailto:854367@bugs.debian.org?References=%3C20170525150136.ao4xmxebkqp4tado%40hle-laptop.local%3E%0A%20%3CCABY6%3D0mde-ZZXwysYdpsgyn_1GR5H3-AF5d1oZZSiDeBJkP%3Dhg%40mail.gmail.com%3E%0A%20%3C20170602072914.aol42qoqmtpnlram%40hle-laptop.local%3E&amp;body=On%20Fri%2C%202%20Jun%202017%2009%3A29%3A14%20%2B0200%20Hugo%20Lefeuvre%20%3Chle%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Ola%2C%0A%3E%20%0A%3E%20%3E%20I%20have%20reviewed%20your%20code%20and%20it%20looks%20good%20to%20me.%20I%20do%20not%20know%20this%0A%3E%20%3E%20library%20very%20well%20however%20so%20may%20have%20overlooked%20something.%20But%20the%0A%3E%20%3E%20checks%20looks%20ok.%0A%3E%20%3E%20%0A%3E%20%3E%20What%20I%27m%20not%20sure%20of%20is%20the%20break%20statement%2C%20but%20I%20guess%20you%20have%0A%3E%20%3E%20control%20over%20that%20part.%0A%3E%20%0A%3E%20Thanks%20for%20your%20review%20%21%0A%3E%20%0A%3E%20This%20code%20is%20executed%20in%20a%20big%20do-while%20structure%2C%20that%27s%20why%20we%20break%0A%3E%20in%20case%20of%20errors%20%28upstream%20did%20it%20at%20line%20620%20for%20example%29.%20The%20return%0A%3E%20value%20res%20is%20initialized%20with%20value%201%20%28%3Derror%29%20at%20line%20524%20so%20we%20return%0A%3E%20error.%20Error%20handling%20is%20then%20realised%20at%20line%201891.%0A%3E%20%0A%3E%20%3E%20Have%20you%20tested%20that%20the%20solution%20work%20against%20some%20test%20image%20that%0A%3E%20%3E%20breaked%20it%20in%20earlier%20version%3F%0A%3E%20%3E%20Have%20you%20done%20any%20form%20of%20regression%20test%3F%0A%3E%20%0A%3E%20I%20have%20tested%20with%20the%20original%20reproducer%20and%20crafted%20myself%20other%0A%3E%20malicious%20apng%20files%20to%20trigger%20the%20case%20where%20%28h%20%3E%20UINT_MAX%2F%284%2A%28frames%2B1%29%29%29%20or%0A%3E%20%28w%20%3E%20UINT_MAX%2F%284%2A%28frames%2B1%29%29%29%20which%20I%20forgot%20to%20handle%20at%20the%20beginning.%0A%3E%20%0A%3E%20regression%20tests%20with%20two%20%22normal%22%20apng%20files%2C%20everything%20was%20working%0A%3E%20fine.%0A%3E%20%0A%3E%20If%20nobody%20is%20against%20it%2C%20I%27d%20upload%20this%20patch%20now.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20%20Hugo%0A%3E%20%0A%3E%20--%20%0A%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20Hugo%20Lefeuvre%20%28hle%29%20%20%20%20%7C%20%20%20%20www.owl.eu.com%0A%3E%204096%2F%20ACB7%20B67F%20197F%209B32%201533%20431C%20AC90%20AC3E%20C524%20065E%0A&amp;subject=Re%3A%20Patch%20proposal%20for%20CVE-2017-6960%20in%20Wheezy%20%28%2FJessie%29&amp;In-Reply-To=%3C20170602072914.aol42qoqmtpnlram%40hle-laptop.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=hle%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Hugo Lefeuvre &lt;hle@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Ola Lundqvist &lt;ola@inguza.com&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 854367-submitter@bugs.debian.org,
	Debian LTS &lt;debian-lts@lists.debian.org&gt;,
	Debian Security Team &lt;team@security.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Patch proposal for CVE-2017-6960 in Wheezy (/Jessie)</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 2 Jun 2017 09:29:14 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=854367;msg=50">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Ola,

&gt; I have reviewed your code and it looks good to me. I do not know this
&gt; library very well however so may have overlooked something. But the
&gt; checks looks ok.
&gt; 
&gt; What I&#39;m not sure of is the break statement, but I guess you have
&gt; control over that part.

Thanks for your review !

This code is executed in a big do-while structure, that&#39;s why we break
in case of errors (upstream did it at line 620 for example). The return
value res is initialized with value 1 (=error) at line 524 so we return
error. Error handling is then realised at line 1891.

&gt; Have you tested that the solution work against some test image that
&gt; breaked it in earlier version?
&gt; Have you done any form of regression test?

I have tested with the original reproducer and crafted myself other
malicious apng files to trigger the case where (h &gt; UINT_MAX/(4*(frames+1))) or
(w &gt; UINT_MAX/(4*(frames+1))) which I forgot to handle at the beginning.

regression tests with two &quot;normal&quot; apng files, everything was working
fine.

If nobody is against it, I&#39;d upload this patch now.

Cheers,
 Hugo

-- 
             Hugo Lefeuvre (hle)    |    www.owl.eu.com
4096/ ACB7 B67F 197F 9B32 1533 431C AC90 AC3E C524 065E
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=854367;filename=signature.asc;msg=50">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="51"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt; -->
<!-- time:1506851283 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>:<br>
<code>Bug#854367</code>; Package <code>apng2gif</code>.
 (Sun, 01 Oct 2017 09:48:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=52">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=52">mbox</a>, <a href="#51">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="53"></a>
<!-- request_addr: Moritz Mhlenhoff &lt;jmm@inutil.org&gt; -->
<!-- time:1506851283 -->
<strong>Acknowledgement sent</strong>
to <code>Moritz Mhlenhoff &lt;jmm@inutil.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Jari Aalto &lt;jari.aalto@cante.net&gt;</code>.
 (Sun, 01 Oct 2017 09:48:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=54">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=54">mbox</a>, <a href="#53">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="55"></a><a name="msg55"></a><a href="#55">Message #55</a> received at 854367@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=55">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=55">mbox</a>, <a href="mailto:854367@bugs.debian.org?body=On%20Sun%2C%201%20Oct%202017%2011%3A32%3A46%20%2B0200%20%3D%3FUTF-8%3FQ%3FMoritz_M%3DC3%3DBChlenhoff%3F%3D%20%3Cjmm%40inutil.org%3E%20wrote%3A%0A%3E%20On%20Thu%2C%20May%2025%2C%202017%20at%2005%3A25%3A09PM%20%2B0200%2C%20Salvatore%20Bonaccorso%20wrote%3A%0A%3E%20%3E%20All%20of%20those%20should%20be%20fixed%20in%20the%20new%20upstream%20version%201.8%20according%0A%3E%20%3E%20to%20the%20upstream%20author.%0A%3E%20%0A%3E%20What%27s%20the%20status%3F%20This%20is%20unfixed%20for%20quite%20a%20while%20now%3F%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20%20%20%20%20%20%20%20%20Moritz%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20171001093246.7slqrntaiqkjx5hi%40pisco.westfalen.local%3E&amp;subject=Re%3A%20Fixed%20upstream%20%28new%20upstream%20version%201.8%29&amp;References=%3C20170525152509.upcem4kq7ickcwsr%40eldamar.local%3E%0A%20%3C20171001093246.7slqrntaiqkjx5hi%40pisco.westfalen.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jmm%40inutil.org" alt="">
<div class="header"><span class="headerfield">From:</span> Moritz Mhlenhoff &lt;jmm@inutil.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> jari.aalto@cante.net</div>
<div class="header"><span class="headerfield">Cc:</span> 854367@bugs.debian.org, 854441@bugs.debian.org, 854447@bugs.debian.org,
	carnil@debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Fixed upstream (new upstream version 1.8)</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 1 Oct 2017 11:32:46 +0200</div>
</div>
<pre class="message">On Thu, May 25, 2017 at 05:25:09PM +0200, Salvatore Bonaccorso wrote:
&gt; All of those should be fixed in the new upstream version 1.8 according
&gt; to the upstream author.

What&#39;s the status? This is unfixed for quite a while now?

Cheers,
        Moritz


</pre>

<div class="msgreceived"><hr><p>
<a name="56"></a>
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1506851291 -->
<strong>Severity set to &#39;serious&#39; from &#39;important&#39;</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sun, 01 Oct 2017 09:48:11 GMT) (<a href="bugreport.cgi?bug=854367;msg=57">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=57">mbox</a>, <a href="#56">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="58"></a>
<!-- command:tag -->
<!-- requester: Stephen Kitt &lt;skitt@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1512676268 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;upstream security pending&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;security upstream&#39;
            };
-->
<strong>Added tag(s) pending.</strong>
Request was from <code>Stephen Kitt &lt;skitt@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Thu, 07 Dec 2017 19:51:08 GMT) (<a href="bugreport.cgi?bug=854367;msg=59">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=59">mbox</a>, <a href="#58">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="60"></a>
<!-- command:tag -->
<!-- requester: Stephen Kitt &lt;skitt@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1512684543 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;upstream security&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;upstream security pending&#39;
            };
-->
<strong>Removed tag(s) pending.</strong>
Request was from <code>Stephen Kitt &lt;skitt@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Thu, 07 Dec 2017 22:09:03 GMT) (<a href="bugreport.cgi?bug=854367;msg=61">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=61">mbox</a>, <a href="#60">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="62"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt; -->
<!-- time:1540645022 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Jari Aalto &lt;jari.aalto@cante.net&gt;</code>:<br>
<code>Bug#854367</code>; Package <code>apng2gif</code>.
 (Sat, 27 Oct 2018 12:57:02 GMT) (<a href="bugreport.cgi?bug=854367;msg=63">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=63">mbox</a>, <a href="#62">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="64"></a>
<!-- request_addr: reiner@reiner-h.de -->
<!-- time:1540645022 -->
<strong>Acknowledgement sent</strong>
to <code>reiner@reiner-h.de</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Jari Aalto &lt;jari.aalto@cante.net&gt;</code>.
 (Sat, 27 Oct 2018 12:57:02 GMT) (<a href="bugreport.cgi?bug=854367;msg=65">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=65">mbox</a>, <a href="#64">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="66"></a><a name="msg66"></a><a href="#66">Message #66</a> received at 854367@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=66">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=66">mbox</a>, <a href="mailto:854367@bugs.debian.org?References=&amp;subject=Re%3A%20apng2gif%3A%20diff%20for%20NMU%20version%201.8-0.1&amp;body=On%20Sat%2C%2027%20Oct%202018%2014%3A52%3A26%20%2B0200%20reiner%40reiner-h.de%20wrote%3A%0A%3E%20Control%3A%20tags%20854367%20%2B%20pending%0A%3E%20Control%3A%20tags%20854441%20%2B%20pending%0A%3E%20Control%3A%20tags%20854447%20%2B%20pending%0A%3E%20%0A%3E%20%0A%3E%20Dear%20maintainer%2C%0A%3E%20%0A%3E%20I%27ve%20prepared%20an%20NMU%20for%20apng2gif%20%28versioned%20as%201.8-0.1%29%20and%0A%3E%20uploaded%20it%20to%20DELAYED%2F2.%20Please%20feel%20free%20to%20tell%20me%20if%20I%0A%3E%20should%20delay%20it%20longer.%0A%3E%20%0A%3E%20Regards.%0A%3E%20%20%20Reiner%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=reiner%40reiner-h.de" alt="">
<div class="header"><span class="headerfield">From:</span> reiner@reiner-h.de</div>
<div class="header"><span class="headerfield">To:</span> 854367@bugs.debian.org,
  854441@bugs.debian.org,
  854447@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> apng2gif: diff for NMU version 1.8-0.1</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 27 Oct 2018 14:52:26 +0200</div>
</div>
<pre class="message">Control: tags 854367 + pending
Control: tags 854441 + pending
Control: tags 854447 + pending


Dear maintainer,

I&#39;ve prepared an NMU for apng2gif (versioned as 1.8-0.1) and
uploaded it to DELAYED/2. Please feel free to tell me if I
should delay it longer.

Regards.
  Reiner


</pre>

<div class="msgreceived"><hr><p>
<a name="67"></a>
<!-- command:tag -->
<!-- requester: reiner@reiner-h.de -->
<!-- request_addr: 854367-submit@bugs.debian.org -->
<!-- time:1540645022 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;security upstream pending&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;upstream security&#39;
            };
-->
<strong>Added tag(s) pending.</strong>
Request was from <code>reiner@reiner-h.de</code>
to <code>854367-submit@bugs.debian.org</code>.
 (Sat, 27 Oct 2018 12:57:02 GMT) (<a href="bugreport.cgi?bug=854367;msg=68">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=68">mbox</a>, <a href="#67">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="69"></a>
<!-- request_addr: Reiner Herrmann &lt;reiner@reiner-h.de&gt; -->
<!-- time:1540818367 -->
<strong>Reply sent</strong>
to <code>Reiner Herrmann &lt;reiner@reiner-h.de&gt;</code>:<br>
You have taken responsibility.
 (Mon, 29 Oct 2018 13:06:07 GMT) (<a href="bugreport.cgi?bug=854367;msg=70">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=70">mbox</a>, <a href="#69">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="71"></a>
<!-- request_addr: Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt; -->
<!-- time:1540818367 -->
<strong>Notification sent</strong>
to <code>Dileep Kumar Jallepalli &lt;dileep.chinu@gmail.com&gt;</code>:<br>
Bug acknowledged by developer.
 (Mon, 29 Oct 2018 13:06:07 GMT) (<a href="bugreport.cgi?bug=854367;msg=72">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=72">mbox</a>, <a href="#71">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="73"></a><a name="msg73"></a><a href="#73">Message #73</a> received at 854367-close@bugs.debian.org (<a href="bugreport.cgi?bug=854367;msg=73">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=73">mbox</a>, <a href="mailto:854367@bugs.debian.org?body=On%20Mon%2C%2029%20Oct%202018%2013%3A04%3A00%20%2B0000%20Reiner%20Herrmann%20%3Creiner%40reiner-h.de%3E%20wrote%3A%0A%3E%20Source%3A%20apng2gif%0A%3E%20Source-Version%3A%201.8-0.1%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20apng2gif%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20854367%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Reiner%20Herrmann%20%3Creiner%40reiner-h.de%3E%20%28supplier%20of%20updated%20apng2gif%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Sat%2C%2027%20Oct%202018%2014%3A15%3A49%20%2B0200%0A%3E%20Source%3A%20apng2gif%0A%3E%20Binary%3A%20apng2gif%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%201.8-0.1%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Jari%20Aalto%20%3Cjari.aalto%40cante.net%3E%0A%3E%20Changed-By%3A%20Reiner%20Herrmann%20%3Creiner%40reiner-h.de%3E%0A%3E%20Description%3A%0A%3E%20%20apng2gif%20%20%20-%20tool%20for%20converting%20APNG%20images%20to%20animated%20GIF%20format%0A%3E%20Closes%3A%20854367%20854441%20854447%0A%3E%20Changes%3A%0A%3E%20%20apng2gif%20%281.8-0.1%29%20unstable%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20Non-maintainer%20upload.%0A%3E%20%20%20%20%2A%20New%20upstream%20release.%0A%3E%20%20%20%20%20%20-%20Fixes%20CVE-2017-6960%20%28Closes%3A%20%23854367%29.%0A%3E%20%20%20%20%20%20-%20Fixes%20CVE-2017-6961%20%28Closes%3A%20%23854441%29.%0A%3E%20%20%20%20%20%20-%20Fixes%20CVE-2017-6962%20%28Closes%3A%20%23854447%29.%0A%3E%20Checksums-Sha1%3A%0A%3E%20%202d6fdc91c41949e7c1707f4f2a1e70c1d43b059f%201886%20apng2gif_1.8-0.1.dsc%0A%3E%20%20f1f24e5ece9b6880334ba218c5ff7dadf91aedda%20437914%20apng2gif_1.8.orig.tar.gz%0A%3E%20%20d34cc6d4258909a473752a88eb04405f404f5f22%206724%20apng2gif_1.8-0.1.debian.tar.xz%0A%3E%20%2069f724c185a3620421d84967dee31f72c77f5df3%205548%20apng2gif_1.8-0.1_powerpc.buildinfo%0A%3E%20Checksums-Sha256%3A%0A%3E%20%20e43a8f19ddced85f005478ea8c7be96f202622328d23bd3c90554d9e78fb0679%201886%20apng2gif_1.8-0.1.dsc%0A%3E%20%204d47a2c0e6656bbc5afeecccc62b22f885a6b0434944bd52824126a156959649%20437914%20apng2gif_1.8.orig.tar.gz%0A%3E%20%208592fc133ea42694c79cfffa5ad31526cb8ab0c0045f1552e246757fd9a1e0be%206724%20apng2gif_1.8-0.1.debian.tar.xz%0A%3E%20%205e66e72e7073d06871e3793f22c3396df687ce6f63919e4d826ce2e6c6fa43ef%205548%20apng2gif_1.8-0.1_powerpc.buildinfo%0A%3E%20Files%3A%0A%3E%20%20839d4f7f3f0d2a869484e53b0f6de19b%201886%20graphics%20optional%20apng2gif_1.8-0.1.dsc%0A%3E%20%204cf980234840ce2aa856cf328c644e85%20437914%20graphics%20optional%20apng2gif_1.8.orig.tar.gz%0A%3E%20%2050b9332ec64e1541522fe109244f8d61%206724%20graphics%20optional%20apng2gif_1.8-0.1.debian.tar.xz%0A&amp;subject=Re%3A%20Bug%23854367%3A%20fixed%20in%20apng2gif%201.8-0.1&amp;In-Reply-To=%3CE1gH7D6-0001cw-QM%40fasolo.debian.org%3E&amp;References=%3CE1gH7D6-0001cw-QM%40fasolo.debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=reiner%40reiner-h.de" alt="">
<div class="header"><span class="headerfield">From:</span> Reiner Herrmann &lt;reiner@reiner-h.de&gt;</div>
<div class="header"><span class="headerfield">To:</span> 854367-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#854367: fixed in apng2gif 1.8-0.1</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 29 Oct 2018 13:04:00 +0000</div>
</div>
<pre class="message">Source: apng2gif
Source-Version: 1.8-0.1

We believe that the bug you reported is fixed in the latest version of
apng2gif, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 854367@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Reiner Herrmann &lt;reiner@reiner-h.de&gt; (supplier of updated apng2gif package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sat, 27 Oct 2018 14:15:49 +0200
Source: apng2gif
Binary: apng2gif
Architecture: source
Version: 1.8-0.1
Distribution: unstable
Urgency: medium
Maintainer: Jari Aalto &lt;jari.aalto@cante.net&gt;
Changed-By: Reiner Herrmann &lt;reiner@reiner-h.de&gt;
Description:
 apng2gif   - tool for converting APNG images to animated GIF format
Closes: <a href="bugreport.cgi?bug=854367">854367</a> <a href="bugreport.cgi?bug=854441">854441</a> <a href="bugreport.cgi?bug=854447">854447</a>
Changes:
 apng2gif (1.8-0.1) unstable; urgency=medium
 .
   * Non-maintainer upload.
   * New upstream release.
     - Fixes <a href="https://security-tracker.debian.org/tracker/CVE-2017-6960">CVE-2017-6960</a> (Closes: #<a href="bugreport.cgi?bug=854367">854367</a>).
     - Fixes <a href="https://security-tracker.debian.org/tracker/CVE-2017-6961">CVE-2017-6961</a> (Closes: #<a href="bugreport.cgi?bug=854441">854441</a>).
     - Fixes <a href="https://security-tracker.debian.org/tracker/CVE-2017-6962">CVE-2017-6962</a> (Closes: #<a href="bugreport.cgi?bug=854447">854447</a>).
Checksums-Sha1:
 2d6fdc91c41949e7c1707f4f2a1e70c1d43b059f 1886 apng2gif_1.8-0.1.dsc
 f1f24e5ece9b6880334ba218c5ff7dadf91aedda 437914 apng2gif_1.8.orig.tar.gz
 d34cc6d4258909a473752a88eb04405f404f5f22 6724 apng2gif_1.8-0.1.debian.tar.xz
 69f724c185a3620421d84967dee31f72c77f5df3 5548 apng2gif_1.8-0.1_powerpc.buildinfo
Checksums-Sha256:
 e43a8f19ddced85f005478ea8c7be96f202622328d23bd3c90554d9e78fb0679 1886 apng2gif_1.8-0.1.dsc
 4d47a2c0e6656bbc5afeecccc62b22f885a6b0434944bd52824126a156959649 437914 apng2gif_1.8.orig.tar.gz
 8592fc133ea42694c79cfffa5ad31526cb8ab0c0045f1552e246757fd9a1e0be 6724 apng2gif_1.8-0.1.debian.tar.xz
 5e66e72e7073d06871e3793f22c3396df687ce6f63919e4d826ce2e6c6fa43ef 5548 apng2gif_1.8-0.1_powerpc.buildinfo
Files:
 839d4f7f3f0d2a869484e53b0f6de19b 1886 graphics optional apng2gif_1.8-0.1.dsc
 4cf980234840ce2aa856cf328c644e85 437914 graphics optional apng2gif_1.8.orig.tar.gz
 50b9332ec64e1541522fe109244f8d61 6724 graphics optional apng2gif_1.8-0.1.debian.tar.xz
 eaa7b7aac0edb69c1d1fdda722e916a0 5548 graphics optional apng2gif_1.8-0.1_powerpc.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEWXMI+726A12MfJXdxCxY61kUkv0FAlvUXCQACgkQxCxY61kU
kv1JaRAAsFYXg6vhnRAqwdnRYkr1OTBbmm4fsjglS4I/fzixylAXQdpGHNakbrkb
YWjxuOpPwefVzOF15o++MGunIRQMO4C0DBFah6Qf4Ioz+Wtx8Lmo6d/TZKG2R80X
7ekCOSgmE5SDkl+xfY0RrJqTTY8bLkhsplzaQsY/fyyf3isRCbkkhOZRfSWOCewa
Zft8c8U9lUVmKgGyh5AP3keJDVhgZiuU2buDswUq2VTsuQaBTwyXIICGWbIWjE0u
F0ayKvzCQKgWTHg8PSAY4m884/DyDupEofHxfYuzSp5rH4iEk4O24oJuCv6vnKyg
r1M4kiauBW0arqW4H/u4J5yKmywXxrppXRYQ+O3eu9y6sC3Vxee0rZgtNgv7GPTP
EBJik9qHLuB34TmDi5ynAx96QjQkvutMHTZsF6dksSkyasoVZ217UaL/9glAqrVN
4DvE0c6TrLsP4HTySatZJfoEze1NigJPrO9k1m5C6TEV/gKZfKXneba7IRcGxPNE
cApUjza56COd7MG2x82XpnI+vGCZChU8gVde3VnKUTLJAXJxa9tjg/zmdgtMi3GS
V5yYNYTkDY9NKzOF7vpSxRQgna0RXSg6XkMM77b/OEaxL217/Xeg6nwXrlsucCN4
mfIZm1rg9DsIBdMAvuIByMLNg6lD111OnSerGNvMmTMU0PUuabM=
=kXuG
-----END PGP SIGNATURE-----



</pre>

<div class="msgreceived"><hr><p>
<a name="74"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1562485903 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Sun, 07 Jul 2019 07:51:43 GMT) (<a href="bugreport.cgi?bug=854367;msg=75">full text</a>, <a href="bugreport.cgi?bug=854367;mbox=yes;msg=75">mbox</a>, <a href="#74">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=854367">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:33:32 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright  1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
