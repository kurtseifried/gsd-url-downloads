<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#571631 - libapache2-mod-shib2: shib-keygen generates world-readable key file - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=571631&quot;&gt;571631&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:571631@bugs.debian.org">#571631</a><br>
libapache2-mod-shib2: shib-keygen generates world-readable key file</h1>
<div class="versiongraph"><a href="version.cgi?absolute=0;fixed=shibboleth-sp2%2F2.3.1%2Bdfsg-2;info=1;found=shibboleth-sp2%2F2.0.dfsg1-4%2Blenny2;collapse=1;package=libapache2-mod-shib2"><img alt="version graph" src="version.cgi?height=2;package=libapache2-mod-shib2;collapse=1;fixed=shibboleth-sp2%2F2.3.1%2Bdfsg-2;found=shibboleth-sp2%2F2.0.dfsg1-4%2Blenny2;width=2;absolute=0"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=libapache2-mod-shib2">libapache2-mod-shib2</a>;
Maintainer for <a href="pkgreport.cgi?package=libapache2-mod-shib2">libapache2-mod-shib2</a> is <a href="pkgreport.cgi?maint=pkg-shibboleth-devel%40lists.alioth.debian.org">Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=libapache2-mod-shib2">libapache2-mod-shib2</a> is <a href="pkgreport.cgi?src=shibboleth-sp">src:shibboleth-sp</a> (<a href="https://tracker.debian.org/pkg/shibboleth-sp">PTS</a>, <a href="https://buildd.debian.org/shibboleth-sp">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=shibboleth-sp">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=dom%40earth.li">Dominic Hargreaves &lt;dom@earth.li&gt;</a></p>
  <p>Date: Fri, 26 Feb 2010 16:15:01 UTC</p>

<p>Severity: <em class="severity">critical</em></p>
<p>Tags: security</p>

<p>Found in version shibboleth-sp2/2.0.dfsg1-4+lenny2</p>
<p>Fixed in version shibboleth-sp2/2.3.1+dfsg-2</p>

<p><strong>Done:</strong> Russ Allbery &lt;rra@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p><p>Forwarded to <a href="https://bugs.internet2.edu/jira/browse/SSPCPP-106">https://bugs.internet2.edu/jira/browse/SSPCPP-106</a></p>
</div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=571631;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267200904 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Fri, 26 Feb 2010 16:15:04 GMT) (<a href="bugreport.cgi?bug=571631;msg=2">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Dominic Hargreaves &lt;dom@earth.li&gt; -->
<!-- time:1267200904 -->
<strong>Acknowledgement sent</strong>
to <code>Dominic Hargreaves &lt;dom@earth.li&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>team@security.debian.org, secure-testing-team@lists.alioth.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 26 Feb 2010 16:15:04 GMT) (<a href="bugreport.cgi?bug=571631;msg=4">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=5">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=5">mbox</a>, <a href="mailto:571631@bugs.debian.org?subject=Re%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%20world-readable%20key%20file&amp;In-Reply-To=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E&amp;body=On%20Fri%2C%2026%20Feb%202010%2015%3A45%3A13%20%2B0000%20Dominic%20Hargreaves%20%3Cdom%40earth.li%3E%20wrote%3A%0A%3E%20Package%3A%20libapache2-mod-shib2%0A%3E%20Version%3A%202.0.dfsg1-4%2Blenny2%0A%3E%20Severity%3A%20critical%0A%3E%20Tags%3A%20security%0A%3E%20Justification%3A%20root%20security%20hole%0A%3E%20%0A%3E%20When%20setting%20up%20a%20new%20SP%2C%20I%20observe%20the%20following%3A%0A%3E%20%0A%3E%20irregular-apocalypse%3A%2Fetc%2Fshibboleth%23%20ls%20-l%20sp%2A%0A%3E%20ls%3A%20cannot%20access%20sp%2A%3A%20No%20such%20file%20or%20directory%0A%3E%20irregular-apocalypse%3A%2Fetc%2Fshibboleth%23%20shib-keygen%20%0A%3E%20Generating%20a%202048%20bit%20RSA%20private%20key%0A%3E%20.....%2B%2B%2B%0A%3E%20...........................................................%2B%2B%2B%0A%3E%20writing%20new%20private%20key%20to%20%27sp-key.pem%27%0A%3E%20-----%0A%3E%20irregular-apocalypse%3A%2Fetc%2Fshibboleth%23%20ls%20-l%20sp%2A%0A%3E%20-rw-r--r--%201%20root%20root%201164%20Feb%2026%2015%3A39%20sp-cert.pem%0A%3E%20-rw-r--r--%201%20root%20root%201675%20Feb%2026%2015%3A39%20sp-key.pem%0A%3E%20%0A%3E%20I%20believe%20that%20sp-key.pem%20should%20not%20be%20made%20world-readable%2C%20and%0A%3E%20therefore%20suggest%20that%20the%20script%20changes%20its%20umask%20accordingly%2C%20and%0A%3E%20then%20chmods%20the%20non-private%20certificate%20to%20be%20world-readable%20afterwards.%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=dom%40earth.li" alt="">
<div class="header"><span class="headerfield">From:</span> Dominic Hargreaves &lt;dom@earth.li&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> libapache2-mod-shib2: shib-keygen generates world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 26 Feb 2010 15:45:13 +0000</div>
</div>
<pre class="message">Package: libapache2-mod-shib2
Version: 2.0.dfsg1-4+lenny2
Severity: critical
Tags: security
Justification: root security hole

When setting up a new SP, I observe the following:

irregular-apocalypse:/etc/shibboleth# ls -l sp*
ls: cannot access sp*: No such file or directory
irregular-apocalypse:/etc/shibboleth# shib-keygen 
Generating a 2048 bit RSA private key
.....+++
...........................................................+++
writing new private key to &#39;sp-key.pem&#39;
-----
irregular-apocalypse:/etc/shibboleth# ls -l sp*
-rw-r--r-- 1 root root 1164 Feb 26 15:39 sp-cert.pem
-rw-r--r-- 1 root root 1675 Feb 26 15:39 sp-key.pem

I believe that sp-key.pem should not be made world-readable, and
therefore suggest that the script changes its umask accordingly, and
then chmods the non-private certificate to be world-readable afterwards.



</pre>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267452362 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Mon, 01 Mar 2010 14:06:02 GMT) (<a href="bugreport.cgi?bug=571631;msg=7">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="8"></a>
<!-- request_addr: Ferenc Wagner &lt;wferi@niif.hu&gt; -->
<!-- time:1267452362 -->
<strong>Acknowledgement sent</strong>
to <code>Ferenc Wagner &lt;wferi@niif.hu&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Mon, 01 Mar 2010 14:06:02 GMT) (<a href="bugreport.cgi?bug=571631;msg=9">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="10"></a><a name="msg10"></a><a href="#10">Message #10</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=10">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=10">mbox</a>, <a href="mailto:571631@bugs.debian.org?References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%0A%20%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E&amp;subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%20world-readable%20key%20file&amp;In-Reply-To=%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E&amp;body=On%20Mon%2C%2001%20Mar%202010%2015%3A03%3A02%20%2B0100%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%20wrote%3A%0A%3E%20forwarded%20571631%20https%3A%2F%2Fbugs.internet2.edu%2Fjira%2Fbrowse%2FSSPCPP-106%0A%3E%20thanks%0A%3E%20%0A%3E%20Dominic%20Hargreaves%20%3Cdom%40earth.li%3E%20writes%3A%0A%3E%20%0A%3E%20%3E%20%23%20ls%20-l%20sp%2A%0A%3E%20%3E%20ls%3A%20cannot%20access%20sp%2A%3A%20No%20such%20file%20or%20directory%0A%3E%20%3E%20%23%20shib-keygen%20%0A%3E%20%3E%20%5B...%5D%0A%3E%20%3E%20%23%20ls%20-l%20sp%2A%0A%3E%20%3E%20-rw-r--r--%201%20root%20root%201164%20Feb%2026%2015%3A39%20sp-cert.pem%0A%3E%20%3E%20-rw-r--r--%201%20root%20root%201675%20Feb%2026%2015%3A39%20sp-key.pem%0A%3E%20%3E%0A%3E%20%3E%20I%20believe%20that%20sp-key.pem%20should%20not%20be%20made%20world-readable%2C%20and%0A%3E%20%3E%20therefore%20suggest%20that%20the%20script%20changes%20its%20umask%20accordingly%2C%20and%0A%3E%20%3E%20then%20chmods%20the%20non-private%20certificate%20to%20be%20world-readable%20afterwards.%0A%3E%20%0A%3E%20It%27s%20fixed%20in%20the%20current%20version%2C%20but%20in%20a%20weaker%20way%3A%20by%20removing%0A%3E%20permissions%20after%20creation.%20%20I%20added%20a%20note%20to%20SSPCPP-106%20to%20find%20out%0A%3E%20upstream%27s%20opinion%2C%20though%20we%20certainly%20can%20fix%20this%20independently.%0A%3E%20Russ%2C%20what%20do%20you%20think%3F%0A%3E%20--%20%0A%3E%20Thanks%2C%0A%3E%20Feri.%0A%3E%20%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=wferi%40niif.hu" alt="">
<div class="header"><span class="headerfield">From:</span> Ferenc Wagner &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">To:</span> Dominic Hargreaves &lt;dom@earth.li&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 571631@bugs.debian.org,control@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 01 Mar 2010 15:03:02 +0100</div>
</div>
<pre class="message">forwarded 571631 <a href="https://bugs.internet2.edu/jira/browse/SSPCPP-106">https://bugs.internet2.edu/jira/browse/SSPCPP-106</a>
thanks

Dominic Hargreaves &lt;dom@earth.li&gt; writes:

&gt; # ls -l sp*
&gt; ls: cannot access sp*: No such file or directory
&gt; # shib-keygen 
&gt; [...]
&gt; # ls -l sp*
&gt; -rw-r--r-- 1 root root 1164 Feb 26 15:39 sp-cert.pem
&gt; -rw-r--r-- 1 root root 1675 Feb 26 15:39 sp-key.pem
&gt;
&gt; I believe that sp-key.pem should not be made world-readable, and
&gt; therefore suggest that the script changes its umask accordingly, and
&gt; then chmods the non-private certificate to be world-readable afterwards.

It&#39;s fixed in the current version, but in a weaker way: by removing
permissions after creation.  I added a note to SSPCPP-106 to find out
upstream&#39;s opinion, though we certainly can fix this independently.
Russ, what do you think?
-- 
Thanks,
Feri.



</pre>

<div class="msgreceived"><hr><p>
<a name="11"></a>
<!-- command:forwarded -->
<!-- requester: Ferenc Wagner &lt;wferi@niif.hu&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1267452364 -->
<!-- new_data:
$new_data = {
              &#39;forwarded&#39; =&gt; &#39;<a href="https://bugs.internet2.edu/jira/browse/SSPCPP-106">https://bugs.internet2.edu/jira/browse/SSPCPP-106</a>&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;forwarded&#39; =&gt; &#39;&#39;
            };
-->
<strong>Set Bug forwarded-to-address to &#39;<a href="https://bugs.internet2.edu/jira/browse/SSPCPP-106">https://bugs.internet2.edu/jira/browse/SSPCPP-106</a>&#39;.</strong>
Request was from <code>Ferenc Wagner &lt;wferi@niif.hu&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Mon, 01 Mar 2010 14:06:04 GMT) (<a href="bugreport.cgi?bug=571631;msg=12">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="13"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267454538 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Mon, 01 Mar 2010 14:42:18 GMT) (<a href="bugreport.cgi?bug=571631;msg=14">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="15"></a>
<!-- request_addr: Ferenc Wagner &lt;wferi@niif.hu&gt; -->
<!-- time:1267454538 -->
<strong>Acknowledgement sent</strong>
to <code>Ferenc Wagner &lt;wferi@niif.hu&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Mon, 01 Mar 2010 14:42:18 GMT) (<a href="bugreport.cgi?bug=571631;msg=16">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="17"></a><a name="msg17"></a><a href="#17">Message #17</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=17">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=17">mbox</a>, <a href="mailto:571631@bugs.debian.org?subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%20world-readable%20key%20file&amp;In-Reply-To=%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E&amp;body=On%20Mon%2C%2001%20Mar%202010%2015%3A41%3A51%20%2B0100%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%20wrote%3A%0A%3E%20Upstream%20fixed%20this%20%28with%20amazing%20speed%20--%20thanks%2C%20Scott%21%29%20by%20using%0A%3E%20umask%20177.%20%20This%20is%20stricter%20than%20requested%2C%20as%20it%20affects%20the%0A%3E%20certificate%20as%20well%2C%20not%20only%20the%20key.%20%20Dominic%2C%20is%20this%20acceptable%20for%0A%3E%20you%3F%20%20%28Btw.%20I%20recommend%20using%20the%20backported%20packages%2C%20they%20are%20more%0A%3E%20mature%20in%20several%20respects%20besides%20the%20higher%20version%20numbers.%29%0A%3E%20--%20%0A%3E%20Cheers%2C%0A%3E%20Feri.%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%0A%09%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%0A%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=wferi%40niif.hu" alt="">
<div class="header"><span class="headerfield">From:</span> Ferenc Wagner &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">To:</span> 571631@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Dominic Hargreaves &lt;dom@earth.li&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 01 Mar 2010 15:41:51 +0100</div>
</div>
<pre class="message">Upstream fixed this (with amazing speed -- thanks, Scott!) by using
umask 177.  This is stricter than requested, as it affects the
certificate as well, not only the key.  Dominic, is this acceptable for
you?  (Btw. I recommend using the backported packages, they are more
mature in several respects besides the higher version numbers.)
-- 
Cheers,
Feri.



</pre>

<div class="infmessage"><hr><p>
<a name="18"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267455423 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Mon, 01 Mar 2010 14:57:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=19">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=19">mbox</a>, <a href="#18">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="20"></a>
<!-- request_addr: Dominic Hargreaves &lt;dom@earth.li&gt; -->
<!-- time:1267455423 -->
<strong>Acknowledgement sent</strong>
to <code>Dominic Hargreaves &lt;dom@earth.li&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Mon, 01 Mar 2010 14:57:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=21">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=21">mbox</a>, <a href="#20">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="22"></a><a name="msg22"></a><a href="#22">Message #22</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=22">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=22">mbox</a>, <a href="mailto:571631@bugs.debian.org?References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%20%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%0A%20%3C20100301145429.GC5618%40urchin.earth.li%3E&amp;subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%0A%09world-readable%20key%20file&amp;In-Reply-To=%3C20100301145429.GC5618%40urchin.earth.li%3E&amp;body=On%20Mon%2C%201%20Mar%202010%2014%3A54%3A29%20%2B0000%20Dominic%20Hargreaves%20%3Cdom%40earth.li%3E%20wrote%3A%0A%3E%20On%20Mon%2C%20Mar%2001%2C%202010%20at%2003%3A41%3A51PM%20%2B0100%2C%20Ferenc%20Wagner%20wrote%3A%0A%3E%20%3E%20Upstream%20fixed%20this%20%28with%20amazing%20speed%20--%20thanks%2C%20Scott%21%29%20by%20using%0A%3E%20%3E%20umask%20177.%20%20This%20is%20stricter%20than%20requested%2C%20as%20it%20affects%20the%0A%3E%20%3E%20certificate%20as%20well%2C%20not%20only%20the%20key.%20%20Dominic%2C%20is%20this%20acceptable%20for%0A%3E%20%3E%20you%3F%0A%3E%20%0A%3E%20Yes%2C%20that%27s%20fine.%20Personally%20I%20would%20have%20arranged%20for%20the%20certificate%0A%3E%20to%20be%20left%20world-readable%2C%20to%20reflect%20the%20status%20of%20the%20data%20contained%0A%3E%20within%2C%20but%20if%20you%20prefer%20to%20use%20what%20upstream%20has%20done%20then%20I%0A%3E%20appreciate%20that%20will%20be%20more%20convenient.%0A%3E%20%0A%3E%20%3E%20%28Btw.%20I%20recommend%20using%20the%20backported%20packages%2C%20they%20are%20more%0A%3E%20%3E%20mature%20in%20several%20respects%20besides%20the%20higher%20version%20numbers.%29%0A%3E%20%0A%3E%20Thanks%20for%20the%20tip%3B%20I%27ll%20bear%20it%20in%20mind%20if%20we%20encounter%20a%20need%0A%3E%20for%20functionality%20not%20available%20in%20Debian%20stable%2C%20but%20I%20would%20prefer%0A%3E%20to%20stick%20with%20stable%20otherwise.%0A%3E%20%0A%3E%20Dominic.%0A%3E%20%0A%3E%20--%20%0A%3E%20Dominic%20Hargreaves%20%7C%20http%3A%2F%2Fwww.larted.org.uk%2F~dom%2F%0A%3E%20PGP%20key%205178E2A5%20from%20the.earth.li%20%28keyserver%2Cweb%2Cemail%29%0A%3E%20%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=dom%40earth.li" alt="">
<div class="header"><span class="headerfield">From:</span> Dominic Hargreaves &lt;dom@earth.li&gt;</div>
<div class="header"><span class="headerfield">To:</span> Ferenc Wagner &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 571631@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates
	world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 1 Mar 2010 14:54:29 +0000</div>
</div>
<pre class="message">On Mon, Mar 01, 2010 at 03:41:51PM +0100, Ferenc Wagner wrote:
&gt; Upstream fixed this (with amazing speed -- thanks, Scott!) by using
&gt; umask 177.  This is stricter than requested, as it affects the
&gt; certificate as well, not only the key.  Dominic, is this acceptable for
&gt; you?

Yes, that&#39;s fine. Personally I would have arranged for the certificate
to be left world-readable, to reflect the status of the data contained
within, but if you prefer to use what upstream has done then I
appreciate that will be more convenient.

&gt; (Btw. I recommend using the backported packages, they are more
&gt; mature in several respects besides the higher version numbers.)

Thanks for the tip; I&#39;ll bear it in mind if we encounter a need
for functionality not available in Debian stable, but I would prefer
to stick with stable otherwise.

Dominic.

-- 
Dominic Hargreaves | <a href="http://www.larted.org.uk/~dom/">http://www.larted.org.uk/~dom/</a>
PGP key 5178E2A5 from the.earth.li (keyserver,web,email)



</pre>

<div class="infmessage"><hr><p>
<a name="23"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267469646 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Mon, 01 Mar 2010 18:54:06 GMT) (<a href="bugreport.cgi?bug=571631;msg=24">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=24">mbox</a>, <a href="#23">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="25"></a>
<!-- request_addr: Russ Allbery &lt;rra@debian.org&gt; -->
<!-- time:1267469646 -->
<strong>Acknowledgement sent</strong>
to <code>Russ Allbery &lt;rra@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Mon, 01 Mar 2010 18:54:06 GMT) (<a href="bugreport.cgi?bug=571631;msg=26">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=26">mbox</a>, <a href="#25">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="27"></a><a name="msg27"></a><a href="#27">Message #27</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=27">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=27">mbox</a>, <a href="mailto:571631@bugs.debian.org?References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%0A%09%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%0A%09%3C20100301145429.GC5618%40urchin.earth.li%3E%0A%20%3C87635f27u1.fsf%40windlord.stanford.edu%3E&amp;subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%20world-readable%20key%20file&amp;In-Reply-To=%3C87635f27u1.fsf%40windlord.stanford.edu%3E&amp;body=On%20Mon%2C%2001%20Mar%202010%2010%3A52%3A06%20-0800%20Russ%20Allbery%20%3Crra%40debian.org%3E%20wrote%3A%0A%3E%20Dominic%20Hargreaves%20%3Cdom%40earth.li%3E%20writes%3A%0A%3E%20%3E%20On%20Mon%2C%20Mar%2001%2C%202010%20at%2003%3A41%3A51PM%20%2B0100%2C%20Ferenc%20Wagner%20wrote%3A%0A%3E%20%0A%3E%20%3E%3E%20%28Btw.%20I%20recommend%20using%20the%20backported%20packages%2C%20they%20are%20more%0A%3E%20%3E%3E%20mature%20in%20several%20respects%20besides%20the%20higher%20version%20numbers.%29%0A%3E%20%0A%3E%20%3E%20Thanks%20for%20the%20tip%3B%20I%27ll%20bear%20it%20in%20mind%20if%20we%20encounter%20a%20need%0A%3E%20%3E%20for%20functionality%20not%20available%20in%20Debian%20stable%2C%20but%20I%20would%20prefer%0A%3E%20%3E%20to%20stick%20with%20stable%20otherwise.%0A%3E%20%0A%3E%20For%20this%20package%20in%20particular%2C%20I%20echo%20Ferenc%27s%20recommendation.%0A%3E%20Shibboleth%202.x%20development%20was%20moving%20too%20fast%20at%20the%20time%20of%20the%20lenny%0A%3E%20release%20to%20reasonably%20freeze%20on%20a%20version%2C%20so%20lenny%20has%20a%20somewhat%0A%3E%20randomly-chosen%20version%20with%20known%20bugs%20that%20isn%27t%20really%20supported%20by%0A%3E%20upstream.%20%20We%27ll%20hopefully%20be%20in%20a%20somewhat%20better%20position%20for%20squeeze.%0A%3E%20%0A%3E%20--%20%0A%3E%20Russ%20Allbery%20%28rra%40debian.org%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Chttp%3A%2F%2Fwww.eyrie.org%2F~eagle%2F%3E%0A%3E%20%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=rra%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Russ Allbery &lt;rra@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Dominic Hargreaves &lt;dom@earth.li&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 571631@bugs.debian.org,  Ferenc Wagner &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Mon, 01 Mar 2010 10:52:06 -0800</div>
</div>
<pre class="message">Dominic Hargreaves &lt;dom@earth.li&gt; writes:
&gt; On Mon, Mar 01, 2010 at 03:41:51PM +0100, Ferenc Wagner wrote:

&gt;&gt; (Btw. I recommend using the backported packages, they are more
&gt;&gt; mature in several respects besides the higher version numbers.)

&gt; Thanks for the tip; I&#39;ll bear it in mind if we encounter a need
&gt; for functionality not available in Debian stable, but I would prefer
&gt; to stick with stable otherwise.

For this package in particular, I echo Ferenc&#39;s recommendation.
Shibboleth 2.x development was moving too fast at the time of the lenny
release to reasonably freeze on a version, so lenny has a somewhat
randomly-chosen version with known bugs that isn&#39;t really supported by
upstream.  We&#39;ll hopefully be in a somewhat better position for squeeze.

-- 
Russ Allbery (rra@debian.org)               &lt;<a href="http://www.eyrie.org/~eagle/">http://www.eyrie.org/~eagle/</a>&gt;



</pre>

<div class="infmessage"><hr><p>
<a name="28"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267808582 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Fri, 05 Mar 2010 17:03:02 GMT) (<a href="bugreport.cgi?bug=571631;msg=29">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=29">mbox</a>, <a href="#28">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="30"></a>
<!-- request_addr: Ferenc Wagner &lt;wferi@niif.hu&gt; -->
<!-- time:1267808582 -->
<strong>Acknowledgement sent</strong>
to <code>Ferenc Wagner &lt;wferi@niif.hu&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 05 Mar 2010 17:03:02 GMT) (<a href="bugreport.cgi?bug=571631;msg=31">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=31">mbox</a>, <a href="#30">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="32"></a><a name="msg32"></a><a href="#32">Message #32</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=32">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=32">mbox</a>, <a href="mailto:571631@bugs.debian.org?subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%20world-readable%20key%20file&amp;In-Reply-To=%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E&amp;body=On%20Fri%2C%2005%20Mar%202010%2018%3A00%3A34%20%2B0100%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%20wrote%3A%0A%3E%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%20writes%3A%0A%3E%20%0A%3E%20%3E%20Upstream%20fixed%20this%20by%20using%20umask%20177.%0A%3E%20%0A%3E%20Russ%2C%0A%3E%20%0A%3E%20How%20should%20we%20proceed%20with%20this%20bug%3F%20%20I%27m%20not%20sure%20it%20warrants%20a%0A%3E%20security%20update%2C%20so%20I%20didn%27t%20want%20to%20push%20this%20patch.%0A%3E%20%0A%3E%20Thanks%2C%0A%3E%20Feri.%0A%3E%20%0A%3E%20From%208012fbf3cfb48df91ff26dc30cda23fb739386e7%20Mon%20Sep%2017%2000%3A00%3A00%202001%0A%3E%20From%3A%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%0A%3E%20Date%3A%20Fri%2C%205%20Mar%202010%2017%3A52%3A33%20%2B0100%0A%3E%20Subject%3A%20%5BPATCH%5D%20Protect%20the%20generated%20key%20material%20by%20setting%20umask%20in%20keygen.sh%0A%3E%20%0A%3E%20This%20is%20the%20upstream%20fix%20for%20https%3A%2F%2Fbugs.internet2.edu%2Fjira%2Fbrowse%2FSSPCPP-106%3A%0A%3E%20http%3A%2F%2Fsvn.middleware.georgetown.edu%2Fview%2Fcpp-sp%3Fview%3Drev%26revision%3D3231%0A%3E%20---%0A%3E%20%20configs%2Fkeygen.sh%20%7C%20%20%20%201%20%2B%0A%3E%20%20debian%2Fchangelog%20%20%7C%20%20%20%206%20%2B%2B%2B%2B%2B%2B%0A%3E%20%202%20files%20changed%2C%207%20insertions%28%2B%29%2C%200%20deletions%28-%29%0A%3E%20%0A%3E%20diff%20--git%20a%2Fconfigs%2Fkeygen.sh%20b%2Fconfigs%2Fkeygen.sh%0A%3E%20index%20534516c..54f01b9%20100755%0A%3E%20---%20a%2Fconfigs%2Fkeygen.sh%0A%3E%20%2B%2B%2B%20b%2Fconfigs%2Fkeygen.sh%0A%3E%20%40%40%20-66%2C6%20%2B66%2C7%20%40%40%20subjectAltName%3D%24ALTNAME%0A%3E%20%20subjectKeyIdentifier%3Dhash%0A%3E%20%20EOF%0A%3E%20%20%0A%3E%20%2Bumask%20177%0A%3E%20%20if%20%5B%20-z%20%22%24BATCH%22%20%5D%20%3B%20then%0A%3E%20%20%20%20%20%20openssl%20req%20-config%20sp-cert.cnf%20-new%20-x509%20-days%20%24DAYS%20-keyout%20sp-key.pem%20-out%20sp-cert.pem%0A%3E%20%20else%0A%3E%20diff%20--git%20a%2Fdebian%2Fchangelog%20b%2Fdebian%2Fchangelog%0A%3E%20index%20c6a8516..2ca03e3%20100644%0A%3E%20---%20a%2Fdebian%2Fchangelog%0A%3E%20%2B%2B%2B%20b%2Fdebian%2Fchangelog%0A%3E%20%40%40%20-1%2C3%20%2B1%2C9%20%40%40%0A%3E%20%2Bshibboleth-sp2%20%282.0.dfsg1-4%2Blenny3%29%20stable-security%3B%20urgency%3Dhigh%0A%3E%20%2B%0A%3E%20%2B%20%20%2A%20SECURITY%3A%20Fix%20permissions%20of%20generated%20keys.%20%20%28Closes%3A%20%23571631%29%0A%3E%20%2B%0A%3E%20%2B%20--%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%20%20Fri%2C%2005%20Mar%202010%2017%3A53%3A43%20%2B0100%0A%3E%20%2B%0A%3E%20%20shibboleth-sp2%20%282.0.dfsg1-4%2Blenny2%29%20stable-security%3B%20urgency%3Dhigh%0A%3E%20%20%0A%3E%20%20%20%20%2A%20SECURITY%3A%20Partial%20fix%20for%20improper%20handling%20of%20URLs%20that%20could%20be%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%0A%09%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%0A%20%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=wferi%40niif.hu" alt="">
<div class="header"><span class="headerfield">From:</span> Ferenc Wagner &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">To:</span> 571631@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 05 Mar 2010 18:00:34 +0100</div>
</div>
<pre class="message">Ferenc Wagner &lt;wferi@niif.hu&gt; writes:

&gt; Upstream fixed this by using umask 177.

Russ,

How should we proceed with this bug?  I&#39;m not sure it warrants a
security update, so I didn&#39;t want to push this patch.

Thanks,
Feri.

From 8012fbf3cfb48df91ff26dc30cda23fb739386e7 Mon Sep 17 00:00:00 2001
From: Ferenc Wagner &lt;wferi@niif.hu&gt;
Date: Fri, 5 Mar 2010 17:52:33 +0100
Subject: [PATCH] Protect the generated key material by setting umask in keygen.sh

This is the upstream fix for <a href="https://bugs.internet2.edu/jira/browse/SSPCPP-106">https://bugs.internet2.edu/jira/browse/SSPCPP-106</a>:
<a href="http://svn.middleware.georgetown.edu/view/cpp-sp?view=rev&amp;revision=3231">http://svn.middleware.georgetown.edu/view/cpp-sp?view=rev&amp;revision=3231</a>
---
 configs/keygen.sh |    1 +
 debian/changelog  |    6 ++++++
 2 files changed, 7 insertions(+), 0 deletions(-)

diff --git a/configs/keygen.sh b/configs/keygen.sh
index 534516c..54f01b9 100755
--- a/configs/keygen.sh
+++ b/configs/keygen.sh
@@ -66,6 +66,7 @@ subjectAltName=$ALTNAME
 subjectKeyIdentifier=hash
 EOF
 
+umask 177
 if [ -z &quot;$BATCH&quot; ] ; then
     openssl req -config sp-cert.cnf -new -x509 -days $DAYS -keyout sp-key.pem -out sp-cert.pem
 else
diff --git a/debian/changelog b/debian/changelog
index c6a8516..2ca03e3 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,3 +1,9 @@
+shibboleth-sp2 (2.0.dfsg1-4+lenny3) stable-security; urgency=high
+
+  * SECURITY: Fix permissions of generated keys.  (Closes: #<a href="bugreport.cgi?bug=571631">571631</a>)
+
+ -- Ferenc Wagner &lt;wferi@niif.hu&gt;  Fri, 05 Mar 2010 17:53:43 +0100
+
 shibboleth-sp2 (2.0.dfsg1-4+lenny2) stable-security; urgency=high
 
   * SECURITY: Partial fix for improper handling of URLs that could be



</pre>

<div class="infmessage"><hr><p>
<a name="33"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267812182 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Fri, 05 Mar 2010 18:03:02 GMT) (<a href="bugreport.cgi?bug=571631;msg=34">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=34">mbox</a>, <a href="#33">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="35"></a>
<!-- request_addr: Russ Allbery &lt;rra@debian.org&gt; -->
<!-- time:1267812183 -->
<strong>Acknowledgement sent</strong>
to <code>Russ Allbery &lt;rra@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 05 Mar 2010 18:03:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=36">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=36">mbox</a>, <a href="#35">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="37"></a><a name="msg37"></a><a href="#37">Message #37</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=37">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=37">mbox</a>, <a href="mailto:571631@bugs.debian.org?References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%0A%09%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%0A%09%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E%0A%20%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E&amp;In-Reply-To=%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E&amp;body=On%20Fri%2C%2005%20Mar%202010%2010%3A01%3A23%20-0800%20Russ%20Allbery%20%3Crra%40debian.org%3E%20wrote%3A%0A%3E%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%20writes%3A%0A%3E%20%0A%3E%20%3E%20How%20should%20we%20proceed%20with%20this%20bug%3F%20%20I%27m%20not%20sure%20it%20warrants%20a%0A%3E%20%3E%20security%20update%2C%20so%20I%20didn%27t%20want%20to%20push%20this%20patch.%0A%3E%20%0A%3E%20It%20doesn%27t%20really%20warrant%20a%20security%20update%2C%20I%20think.%20%20However%2C%20we%20should%0A%3E%20apply%20it%20to%20the%20unstable%20shibboleth-sp2%20and%20do%20another%20upload.%20%20I%20don%27t%0A%3E%20feel%20a%20strong%20need%20to%20fix%20it%20in%20stable%2C%20apart%20from%20the%20backports.org%0A%3E%20backport.%0A%3E%20%0A%3E%20Note%20that%20we%20can%27t%20just%20use%20umask%20177%20in%20the%20Debian%20version%20of%20this%20script%0A%3E%20since%20Debian%20runs%20shibd%20as%20a%20non-root%20user%20and%20then%20won%27t%20be%20able%20to%20read%0A%3E%20the%20certificate.%20%20For%20Debian%2C%20we%20should%20set%20the%20group%20ownership%20to%20the%0A%3E%20shibd%20user%20we%20create%20and%20make%20the%20file%20group-readable.%0A%3E%20%0A%3E%20--%20%0A%3E%20Russ%20Allbery%20%28rra%40debian.org%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Chttp%3A%2F%2Fwww.eyrie.org%2F~eagle%2F%3E%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%20world-readable%20key%20file">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=rra%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Russ Allbery &lt;rra@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Ferenc Wagner &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 571631@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 05 Mar 2010 10:01:23 -0800</div>
</div>
<pre class="message">Ferenc Wagner &lt;wferi@niif.hu&gt; writes:

&gt; How should we proceed with this bug?  I&#39;m not sure it warrants a
&gt; security update, so I didn&#39;t want to push this patch.

It doesn&#39;t really warrant a security update, I think.  However, we should
apply it to the unstable shibboleth-sp2 and do another upload.  I don&#39;t
feel a strong need to fix it in stable, apart from the backports.org
backport.

Note that we can&#39;t just use umask 177 in the Debian version of this script
since Debian runs shibd as a non-root user and then won&#39;t be able to read
the certificate.  For Debian, we should set the group ownership to the
shibd user we create and make the file group-readable.

-- 
Russ Allbery (rra@debian.org)               &lt;<a href="http://www.eyrie.org/~eagle/">http://www.eyrie.org/~eagle/</a>&gt;



</pre>

<div class="infmessage"><hr><p>
<a name="38"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267813803 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Fri, 05 Mar 2010 18:30:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=39">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=39">mbox</a>, <a href="#38">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="40"></a>
<!-- request_addr: &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt; -->
<!-- time:1267813803 -->
<strong>Acknowledgement sent</strong>
to <code>&quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 05 Mar 2010 18:30:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=41">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=41">mbox</a>, <a href="#40">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="42"></a><a name="msg42"></a><a href="#42">Message #42</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=42">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=42">mbox</a>, <a href="mailto:571631@bugs.debian.org?subject=Re%3A%20RE%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%09world-readable%20key%20file&amp;body=On%20Fri%2C%205%20Mar%202010%2013%3A10%3A27%20-0500%20%22Scott%20Cantor%22%20%3Ccantor.2%40osu.edu%3E%20wrote%3A%0A%3E%20%3E%20Note%20that%20we%20can%27t%20just%20use%20umask%20177%20in%20the%20Debian%20version%20of%20this%20script%0A%3E%20%3E%20since%20Debian%20runs%20shibd%20as%20a%20non-root%20user%20and%20then%20won%27t%20be%20able%20to%20read%0A%3E%20%3E%20the%20certificate.%20%20For%20Debian%2C%20we%20should%20set%20the%20group%20ownership%20to%20the%0A%3E%20%3E%20shibd%20user%20we%20create%20and%20make%20the%20file%20group-readable.%0A%3E%20%0A%3E%20If%20there%27s%20a%20better%20patch%20you%27d%20like%20upstream%20for%20this%20use%20case%2C%20just%20add%20it%0A%3E%20to%20the%20SP%20bug%20report.%20I%27m%20not%20shipping%20it%20any%20time%20soon%2C%20so%20whatever%20is%0A%3E%20easiest.%0A%3E%20%0A%3E%20--%20Scott%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C009601cabc8f%2422779d10%246766d730%24%402%40osu.edu%3E&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%20%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%20%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E%20%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E%0A%20%3C009601cabc8f%2422779d10%246766d730%24%402%40osu.edu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=cantor.2%40osu.edu" alt="">
<div class="header"><span class="headerfield">From:</span> &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</div>
<div class="header"><span class="headerfield">To:</span> &quot;&#39;Russ Allbery&#39;&quot; &lt;rra@debian.org&gt;, &lt;571631@bugs.debian.org&gt;,
        &quot;&#39;Ferenc Wagner&#39;&quot; &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> RE: Bug#571631: libapache2-mod-shib2: shib-keygen generates	world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 5 Mar 2010 13:10:27 -0500</div>
</div>
<pre class="message">&gt; Note that we can&#39;t just use umask 177 in the Debian version of this script
&gt; since Debian runs shibd as a non-root user and then won&#39;t be able to read
&gt; the certificate.  For Debian, we should set the group ownership to the
&gt; shibd user we create and make the file group-readable.

If there&#39;s a better patch you&#39;d like upstream for this use case, just add it
to the SP bug report. I&#39;m not shipping it any time soon, so whatever is
easiest.

-- Scott





</pre>

<div class="infmessage"><hr><p>
<a name="43"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267814522 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Fri, 05 Mar 2010 18:42:02 GMT) (<a href="bugreport.cgi?bug=571631;msg=44">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=44">mbox</a>, <a href="#43">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="45"></a>
<!-- request_addr: Russ Allbery &lt;rra@debian.org&gt; -->
<!-- time:1267814522 -->
<strong>Acknowledgement sent</strong>
to <code>Russ Allbery &lt;rra@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 05 Mar 2010 18:42:02 GMT) (<a href="bugreport.cgi?bug=571631;msg=46">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=46">mbox</a>, <a href="#45">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="47"></a><a name="msg47"></a><a href="#47">Message #47</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=47">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=47">mbox</a>, <a href="mailto:571631@bugs.debian.org?subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%09world-readable%20key%20file&amp;body=On%20Fri%2C%2005%20Mar%202010%2010%3A39%3A50%20-0800%20Russ%20Allbery%20%3Crra%40debian.org%3E%20wrote%3A%0A%3E%20%22Scott%20Cantor%22%20%3Ccantor.2%40osu.edu%3E%20writes%3A%0A%3E%20%0A%3E%20%3E%3E%20Note%20that%20we%20can%27t%20just%20use%20umask%20177%20in%20the%20Debian%20version%20of%20this%20script%0A%3E%20%3E%3E%20since%20Debian%20runs%20shibd%20as%20a%20non-root%20user%20and%20then%20won%27t%20be%20able%20to%20read%0A%3E%20%3E%3E%20the%20certificate.%20%20For%20Debian%2C%20we%20should%20set%20the%20group%20ownership%20to%20the%0A%3E%20%3E%3E%20shibd%20user%20we%20create%20and%20make%20the%20file%20group-readable.%0A%3E%20%0A%3E%20%3E%20If%20there%27s%20a%20better%20patch%20you%27d%20like%20upstream%20for%20this%20use%20case%2C%20just%20add%20it%0A%3E%20%3E%20to%20the%20SP%20bug%20report.%20I%27m%20not%20shipping%20it%20any%20time%20soon%2C%20so%20whatever%20is%0A%3E%20%3E%20easiest.%0A%3E%20%0A%3E%20Thank%20you%20for%20the%20offer%21%20%20I%20think%20it%27s%20going%20to%20be%20a%20bit%20tricky%20for%20you%20to%0A%3E%20do%20something%20upstream%20that%20will%20also%20work%20in%20Debian%20without%20modifications%2C%0A%3E%20since%20you%20won%27t%20be%20able%20to%20rely%20on%20the%20group%20that%20we%27re%20creating%20as%20part%0A%3E%20of%20the%20package%20installation%2C%20so%20I%20suspect%20we%20should%20probably%20carry%20a%20local%0A%3E%20patch%20here%20to%20make%20the%20ownership%20line%20up%20with%20what%20the%20package%20is%20doing.%0A%3E%20Unless%20you%20want%20to%20document%20creation%20of%20a%20particular%20user%20and%20group%20as%0A%3E%20part%20of%20the%20package%20installation%2C%20but%20my%20guess%20is%20that%20probably%20isn%27t%20the%0A%3E%20direction%20you%20want%20to%20go.%0A%3E%20%0A%3E%20--%20%0A%3E%20Russ%20Allbery%20%28rra%40debian.org%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Chttp%3A%2F%2Fwww.eyrie.org%2F~eagle%2F%3E%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C878wa6liix.fsf%40windlord.stanford.edu%3E&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%0A%09%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%0A%09%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E%20%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E%0A%09%3C009601cabc8f%2422779d10%246766d730%24%402%40osu.edu%3E%0A%20%3C878wa6liix.fsf%40windlord.stanford.edu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=rra%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Russ Allbery &lt;rra@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> &lt;571631@bugs.debian.org&gt;,  &quot;&#39;Ferenc Wagner&#39;&quot; &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates	world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 05 Mar 2010 10:39:50 -0800</div>
</div>
<pre class="message">&quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt; writes:

&gt;&gt; Note that we can&#39;t just use umask 177 in the Debian version of this script
&gt;&gt; since Debian runs shibd as a non-root user and then won&#39;t be able to read
&gt;&gt; the certificate.  For Debian, we should set the group ownership to the
&gt;&gt; shibd user we create and make the file group-readable.

&gt; If there&#39;s a better patch you&#39;d like upstream for this use case, just add it
&gt; to the SP bug report. I&#39;m not shipping it any time soon, so whatever is
&gt; easiest.

Thank you for the offer!  I think it&#39;s going to be a bit tricky for you to
do something upstream that will also work in Debian without modifications,
since you won&#39;t be able to rely on the group that we&#39;re creating as part
of the package installation, so I suspect we should probably carry a local
patch here to make the ownership line up with what the package is doing.
Unless you want to document creation of a particular user and group as
part of the package installation, but my guess is that probably isn&#39;t the
direction you want to go.

-- 
Russ Allbery (rra@debian.org)               &lt;<a href="http://www.eyrie.org/~eagle/">http://www.eyrie.org/~eagle/</a>&gt;



</pre>

<div class="infmessage"><hr><p>
<a name="48"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267814887 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Fri, 05 Mar 2010 18:48:07 GMT) (<a href="bugreport.cgi?bug=571631;msg=49">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=49">mbox</a>, <a href="#48">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="50"></a>
<!-- request_addr: &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt; -->
<!-- time:1267814887 -->
<strong>Acknowledgement sent</strong>
to <code>&quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 05 Mar 2010 18:48:07 GMT) (<a href="bugreport.cgi?bug=571631;msg=51">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=51">mbox</a>, <a href="#50">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="52"></a><a name="msg52"></a><a href="#52">Message #52</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=52">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=52">mbox</a>, <a href="mailto:571631@bugs.debian.org?References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%20%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%20%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E%20%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E%20%3C009601cabc8f%2422779d10%246766d730%24%252%40osu.edu%3E%20%3C878wa6liix.fsf%40windlord.stanford.edu%3E%0A%20%3C00ab01cabc94%24292458b0%247b6d0a10%24%402%40osu.edu%3E&amp;subject=Re%3A%20RE%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%09generates%09world-readable%20key%20file&amp;body=On%20Fri%2C%205%20Mar%202010%2013%3A46%3A26%20-0500%20%22Scott%20Cantor%22%20%3Ccantor.2%40osu.edu%3E%20wrote%3A%0A%3E%20%3E%20Thank%20you%20for%20the%20offer%21%20%20I%20think%20it%27s%20going%20to%20be%20a%20bit%20tricky%20for%20you%20to%0A%3E%20%3E%20do%20something%20upstream%20that%20will%20also%20work%20in%20Debian%20without%20modifications%2C%0A%3E%20%3E%20since%20you%20won%27t%20be%20able%20to%20rely%20on%20the%20group%20that%20we%27re%20creating%20as%20part%0A%3E%20%3E%20of%20the%20package%20installation%2C%20so%20I%20suspect%20we%20should%20probably%20carry%20a%20local%0A%3E%20%3E%20patch%20here%20to%20make%20the%20ownership%20line%20up%20with%20what%20the%20package%20is%20doing.%0A%3E%20%3E%20Unless%20you%20want%20to%20document%20creation%20of%20a%20particular%20user%20and%20group%20as%0A%3E%20%3E%20part%20of%20the%20package%20installation%2C%20but%20my%20guess%20is%20that%20probably%20isn%27t%20the%0A%3E%20%3E%20direction%20you%20want%20to%20go.%0A%3E%20%0A%3E%20No%2C%20but%20if%20there%27s%20some%20kind%20of%20command%20line%20option%20that%20can%20be%20used%20to%0A%3E%20automate%20what%20the%20script%20needs%20to%20do%2C%20you%20can%20just%20suggest%20that.%20I%27m%20sure%0A%3E%20there%20are%20conveniences%20that%20would%20help%20people%20running%20it%20as%20non-root%2C%20I%20just%0A%3E%20haven%27t%20explored%20it.%0A%3E%20%20%0A%3E%20--%20Scott%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C00ab01cabc94%24292458b0%247b6d0a10%24%402%40osu.edu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=cantor.2%40osu.edu" alt="">
<div class="header"><span class="headerfield">From:</span> &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</div>
<div class="header"><span class="headerfield">To:</span> &quot;&#39;Russ Allbery&#39;&quot; &lt;rra@debian.org&gt;, &lt;571631@bugs.debian.org&gt;,
        &quot;&#39;Ferenc Wagner&#39;&quot; &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> RE: Bug#571631: libapache2-mod-shib2: shib-keygen	generates	world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 5 Mar 2010 13:46:26 -0500</div>
</div>
<pre class="message">&gt; Thank you for the offer!  I think it&#39;s going to be a bit tricky for you to
&gt; do something upstream that will also work in Debian without modifications,
&gt; since you won&#39;t be able to rely on the group that we&#39;re creating as part
&gt; of the package installation, so I suspect we should probably carry a local
&gt; patch here to make the ownership line up with what the package is doing.
&gt; Unless you want to document creation of a particular user and group as
&gt; part of the package installation, but my guess is that probably isn&#39;t the
&gt; direction you want to go.

No, but if there&#39;s some kind of command line option that can be used to
automate what the script needs to do, you can just suggest that. I&#39;m sure
there are conveniences that would help people running it as non-root, I just
haven&#39;t explored it.
 
-- Scott





</pre>

<div class="infmessage"><hr><p>
<a name="53"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267817583 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Fri, 05 Mar 2010 19:33:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=54">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=54">mbox</a>, <a href="#53">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="55"></a>
<!-- request_addr: &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt; -->
<!-- time:1267817583 -->
<strong>Acknowledgement sent</strong>
to <code>&quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Fri, 05 Mar 2010 19:33:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=56">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=56">mbox</a>, <a href="#55">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="57"></a><a name="msg57"></a><a href="#57">Message #57</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=57">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=57">mbox</a>, <a href="mailto:571631@bugs.debian.org?subject=Re%3A%20RE%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%09generates%09world-readable%20key%20file&amp;body=On%20Fri%2C%205%20Mar%202010%2014%3A31%3A03%20-0500%20%22Scott%20Cantor%22%20%3Ccantor.2%40osu.edu%3E%20wrote%3A%0A%3E%20Actually%2C%20I%20think%20I%20was%20confusing%20your%20original%20umask%20fix%20with%20this%0A%3E%20submitted%20patch%3A%0A%3E%20%0A%3E%20https%3A%2F%2Fbugs.internet2.edu%2Fjira%2Fbrowse%2FSSPCPP-281%0A%3E%20%0A%3E%20That%20has%20a%20-u%20option%20for%20controlling%20the%20user%2C%20and%20I%20suppose%20having%20a%20group%0A%3E%20option%20would%20make%20sense%20also.%0A%3E%20%0A%3E%20It%20would%20help%20if%20folks%20could%20collaborate%20and%20suggest%20the%20patch%20they%20think%20I%0A%3E%20should%20use%20is%20I%20guess%20what%20I%27m%20suggesting.%20%3B-%29%0A%3E%20%0A%3E%20--%20Scott%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C00b601cabc9a%24650089c0%242f019d40%24%402%40osu.edu%3E&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%20%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%20%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E%20%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E%20%3C009601cabc8f%2422779d10%246766d730%24%252%40osu.edu%3E%20%3C878wa6liix.fsf%40windlord.stanford.edu%3E%0A%20%3C00b601cabc9a%24650089c0%242f019d40%24%402%40osu.edu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=cantor.2%40osu.edu" alt="">
<div class="header"><span class="headerfield">From:</span> &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</div>
<div class="header"><span class="headerfield">To:</span> &quot;&#39;Russ Allbery&#39;&quot; &lt;rra@debian.org&gt;, &lt;571631@bugs.debian.org&gt;,
        &quot;&#39;Ferenc Wagner&#39;&quot; &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> RE: Bug#571631: libapache2-mod-shib2: shib-keygen	generates	world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Fri, 5 Mar 2010 14:31:03 -0500</div>
</div>
<pre class="message">Actually, I think I was confusing your original umask fix with this
submitted patch:

<a href="https://bugs.internet2.edu/jira/browse/SSPCPP-281">https://bugs.internet2.edu/jira/browse/SSPCPP-281</a>

That has a -u option for controlling the user, and I suppose having a group
option would make sense also.

It would help if folks could collaborate and suggest the patch they think I
should use is I guess what I&#39;m suggesting. ;-)

-- Scott





</pre>

<div class="infmessage"><hr><p>
<a name="58"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1267993088 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Sun, 07 Mar 2010 20:18:08 GMT) (<a href="bugreport.cgi?bug=571631;msg=59">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=59">mbox</a>, <a href="#58">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="60"></a>
<!-- request_addr: Moritz Muehlenhoff &lt;jmm@inutil.org&gt; -->
<!-- time:1267993088 -->
<strong>Acknowledgement sent</strong>
to <code>Moritz Muehlenhoff &lt;jmm@inutil.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Sun, 07 Mar 2010 20:18:08 GMT) (<a href="bugreport.cgi?bug=571631;msg=61">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=61">mbox</a>, <a href="#60">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="62"></a><a name="msg62"></a><a href="#62">Message #62</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=62">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=62">mbox</a>, <a href="mailto:571631@bugs.debian.org?In-Reply-To=%3C20100307201501.GA3217%40galadriel.inutil.org%3E&amp;body=On%20Sun%2C%207%20Mar%202010%2021%3A15%3A01%20%2B0100%20Moritz%20Muehlenhoff%20%3Cjmm%40inutil.org%3E%20wrote%3A%0A%3E%20On%20Fri%2C%20Mar%2005%2C%202010%20at%2010%3A01%3A23AM%20-0800%2C%20Russ%20Allbery%20wrote%3A%0A%3E%20%3E%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%20writes%3A%0A%3E%20%3E%20%0A%3E%20%3E%20%3E%20How%20should%20we%20proceed%20with%20this%20bug%3F%20%20I%27m%20not%20sure%20it%20warrants%20a%0A%3E%20%3E%20%3E%20security%20update%2C%20so%20I%20didn%27t%20want%20to%20push%20this%20patch.%0A%3E%20%3E%20%0A%3E%20%3E%20It%20doesn%27t%20really%20warrant%20a%20security%20update%2C%20I%20think.%20%20However%2C%20we%20should%0A%3E%20%3E%20apply%20it%20to%20the%20unstable%20shibboleth-sp2%20and%20do%20another%20upload.%20%20I%20don%27t%0A%3E%20%3E%20feel%20a%20strong%20need%20to%20fix%20it%20in%20stable%2C%20apart%20from%20the%20backports.org%0A%3E%20%3E%20backport.%0A%3E%20%0A%3E%20Ack.%20If%20you%20want%20to%20introduce%20a%20fix%20in%20Lenny%2C%20please%20do%20that%20through%0A%3E%20a%20stable%20point%20update%20%28or%20leave%20it%20as-is%20if%20everyone%20should%20be%20using%0A%3E%20the%20backports.org%20version%20anyway%29.%0A%3E%20%0A%3E%20Cheers%2C%0A%3E%20%20%20%20%20%20%20%20%20Moritz%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%0A%20world-readable%20key%20file&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%0A%20%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%0A%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%0A%20%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E%0A%20%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E%0A%20%3C20100307201501.GA3217%40galadriel.inutil.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jmm%40inutil.org" alt="">
<div class="header"><span class="headerfield">From:</span> Moritz Muehlenhoff &lt;jmm@inutil.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Russ Allbery &lt;rra@debian.org&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> Ferenc Wagner &lt;wferi@niif.hu&gt;, 571631@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates
 world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Sun, 7 Mar 2010 21:15:01 +0100</div>
</div>
<pre class="message">On Fri, Mar 05, 2010 at 10:01:23AM -0800, Russ Allbery wrote:
&gt; Ferenc Wagner &lt;wferi@niif.hu&gt; writes:
&gt; 
&gt; &gt; How should we proceed with this bug?  I&#39;m not sure it warrants a
&gt; &gt; security update, so I didn&#39;t want to push this patch.
&gt; 
&gt; It doesn&#39;t really warrant a security update, I think.  However, we should
&gt; apply it to the unstable shibboleth-sp2 and do another upload.  I don&#39;t
&gt; feel a strong need to fix it in stable, apart from the backports.org
&gt; backport.

Ack. If you want to introduce a fix in Lenny, please do that through
a stable point update (or leave it as-is if everyone should be using
the backports.org version anyway).

Cheers,
        Moritz



</pre>

<div class="infmessage"><hr><p>
<a name="63"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1270123385 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Thu, 01 Apr 2010 12:03:05 GMT) (<a href="bugreport.cgi?bug=571631;msg=64">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=64">mbox</a>, <a href="#63">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="65"></a>
<!-- request_addr: Ferenc Wagner &lt;wferi@niif.hu&gt; -->
<!-- time:1270123385 -->
<strong>Acknowledgement sent</strong>
to <code>Ferenc Wagner &lt;wferi@niif.hu&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Thu, 01 Apr 2010 12:03:05 GMT) (<a href="bugreport.cgi?bug=571631;msg=66">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=66">mbox</a>, <a href="#65">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="67"></a><a name="msg67"></a><a href="#67">Message #67</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=67">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=67">mbox</a>, <a href="mailto:571631@bugs.debian.org?body=On%20Thu%2C%2001%20Apr%202010%2013%3A15%3A32%20%2B0200%20Ferenc%20Wagner%20%3Cwferi%40niif.hu%3E%20wrote%3A%0A%3E%20%22Scott%20Cantor%22%20%3Ccantor.2%40osu.edu%3E%20writes%3A%0A%3E%20%0A%3E%20%3E%3E%20Note%20that%20we%20can%27t%20just%20use%20umask%20177%20in%20the%20Debian%20version%20of%20this%20script%0A%3E%20%3E%3E%20since%20Debian%20runs%20shibd%20as%20a%20non-root%20user%20and%20then%20won%27t%20be%20able%20to%20read%0A%3E%20%3E%3E%20the%20certificate.%20%20For%20Debian%2C%20we%20should%20set%20the%20group%20ownership%20to%20the%0A%3E%20%3E%3E%20shibd%20user%20we%20create%20and%20make%20the%20file%20group-readable.%0A%3E%20%3E%0A%3E%20%3E%20If%20there%27s%20a%20better%20patch%20you%27d%20like%20upstream%20for%20this%20use%20case%2C%20just%20add%20it%0A%3E%20%3E%20to%20the%20SP%20bug%20report.%20I%27m%20not%20shipping%20it%20any%20time%20soon%2C%20so%20whatever%20is%0A%3E%20%3E%20easiest.%0A%3E%20%0A%3E%20Don%27t%20you%20think%20it%27s%20kind%20of%20an%20openssl%20bug%20to%20create%20the%20key%20material%0A%3E%20with%20full%20permissions%3F%20%20Shouldn%27t%20it%20creat%28%22keyfile%22%2C%200600%29%3F%0A%3E%20%0A%3E%20This%20aside%2C%20I%27d%20recommend%20working%20around%20the%20issue%20by%20creating%20the%20key%0A%3E%20file%20beforehand%20with%20restricted%20permissions%2C%20and%20not%20touching%20umask%3A%0A%3E%20%0A%3E%20touch%20sp-key.pem%0A%3E%20chmod%20600%20sp-key.pem%0A%3E%20openssl%20req%20-config%20sp-cert.cnf%20-new%20-x509%20-days%20%24DAYS%20-keyout%20sp-key.pem%20-out%20sp-cert.pem%0A%3E%20%0A%3E%20Users%20could%20then%20tune%20ownership%20and%20permissions%20without%20the%20risk%20of%0A%3E%20leaking%20sensitive%20data%20during%20the%20process.%20%20Distributions%20could%20add%20a%0A%3E%20couple%20of%20lines%20to%20the%20end%20of%20the%20script%20to%20read%20up%20configuration%20files%0A%3E%20and%20act%20accordingly.%0A%3E%20%0A%3E%20https%3A%2F%2Fbugs.internet2.edu%2Fjira%2Fbrowse%2FSSPCPP-281%20is%20pretty%20much%0A%3E%20orthogonal%20to%20this%20%28and%20I%27m%20not%20sure%20it%27s%20worth%20adding%20options%20which%0A%3E%20could%20be%20simulated%20by%20a%20cd%20before%20and%20a%20chown%20after.%29%0A%3E%20--%20%0A%3E%20Regards%2C%0A%3E%20Feri.%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C87sk7fv2y3.fsf%40tac.ki.iif.hu%3E&amp;subject=Re%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%09world-readable%20key%20file&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%0A%09%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%0A%09%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E%20%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E%0A%09%3C009601cabc8f%2422779d10%246766d730%24%402%40osu.edu%3E%0A%20%3C87sk7fv2y3.fsf%40tac.ki.iif.hu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=wferi%40niif.hu" alt="">
<div class="header"><span class="headerfield">From:</span> Ferenc Wagner &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">To:</span> &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 571631@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#571631: libapache2-mod-shib2: shib-keygen generates	world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 01 Apr 2010 13:15:32 +0200</div>
</div>
<pre class="message">&quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt; writes:

&gt;&gt; Note that we can&#39;t just use umask 177 in the Debian version of this script
&gt;&gt; since Debian runs shibd as a non-root user and then won&#39;t be able to read
&gt;&gt; the certificate.  For Debian, we should set the group ownership to the
&gt;&gt; shibd user we create and make the file group-readable.
&gt;
&gt; If there&#39;s a better patch you&#39;d like upstream for this use case, just add it
&gt; to the SP bug report. I&#39;m not shipping it any time soon, so whatever is
&gt; easiest.

Don&#39;t you think it&#39;s kind of an openssl bug to create the key material
with full permissions?  Shouldn&#39;t it creat(&quot;keyfile&quot;, 0600)?

This aside, I&#39;d recommend working around the issue by creating the key
file beforehand with restricted permissions, and not touching umask:

touch sp-key.pem
chmod 600 sp-key.pem
openssl req -config sp-cert.cnf -new -x509 -days $DAYS -keyout sp-key.pem -out sp-cert.pem

Users could then tune ownership and permissions without the risk of
leaking sensitive data during the process.  Distributions could add a
couple of lines to the end of the script to read up configuration files
and act accordingly.

<a href="https://bugs.internet2.edu/jira/browse/SSPCPP-281">https://bugs.internet2.edu/jira/browse/SSPCPP-281</a> is pretty much
orthogonal to this (and I&#39;m not sure it&#39;s worth adding options which
could be simulated by a cd before and a chown after.)
-- 
Regards,
Feri.



</pre>

<div class="infmessage"><hr><p>
<a name="68"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt; -->
<!-- time:1270143183 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#571631</code>; Package <code>libapache2-mod-shib2</code>.
 (Thu, 01 Apr 2010 17:33:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=69">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=69">mbox</a>, <a href="#68">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="70"></a>
<!-- request_addr: &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt; -->
<!-- time:1270143183 -->
<strong>Acknowledgement sent</strong>
to <code>&quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;</code>.
 (Thu, 01 Apr 2010 17:33:03 GMT) (<a href="bugreport.cgi?bug=571631;msg=71">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=71">mbox</a>, <a href="#70">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="72"></a><a name="msg72"></a><a href="#72">Message #72</a> received at 571631@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=72">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=72">mbox</a>, <a href="mailto:571631@bugs.debian.org?In-Reply-To=%3C026301cad1bf%241da03dc0%2458e0b940%24%402%40osu.edu%3E&amp;body=On%20Thu%2C%201%20Apr%202010%2013%3A16%3A49%20-0400%20%22Scott%20Cantor%22%20%3Ccantor.2%40osu.edu%3E%20wrote%3A%0A%3E%20%3E%20Don%27t%20you%20think%20it%27s%20kind%20of%20an%20openssl%20bug%20to%20create%20the%20key%20material%0A%3E%20%3E%20with%20full%20permissions%3F%20%20Shouldn%27t%20it%20creat%28%22keyfile%22%2C%200600%29%3F%0A%3E%20%0A%3E%20Would%20be%20nice%20I%20suppose.%0A%3E%20%0A%3E%20%3E%20This%20aside%2C%20I%27d%20recommend%20working%20around%20the%20issue%20by%20creating%20the%20key%0A%3E%20%3E%20file%20beforehand%20with%20restricted%20permissions%2C%20and%20not%20touching%20umask%3A%0A%3E%20%0A%3E%20I%20could%20imagine%20it%20working%20or%20failing%20depending%20on%20what%20the%20openssl%20code%0A%3E%20does%2C%20but%20I%20can%20look%20into%20it.%0A%3E%20%0A%3E%20%3E%20https%3A%2F%2Fbugs.internet2.edu%2Fjira%2Fbrowse%2FSSPCPP-281%20is%20pretty%20much%0A%3E%20%3E%20orthogonal%20to%20this%20%28and%20I%27m%20not%20sure%20it%27s%20worth%20adding%20options%20which%0A%3E%20%3E%20could%20be%20simulated%20by%20a%20cd%20before%20and%20a%20chown%20after.%29%0A%3E%20%0A%3E%20%3Cshrug%3E%0A%3E%20%0A%3E%20--%20Scott%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20RE%3A%20Bug%23571631%3A%20libapache2-mod-shib2%3A%20shib-keygen%20generates%09world-readable%20key%20file&amp;References=%3C20100226154513.6975.6975.reportbug%40gunboat-diplomat.oucs.ox.ac.uk%3E%20%3C87aausb0mh.fsf%40tac.ki.iif.hu%3E%20%3C87y6ic9k9c.fsf%40tac.ki.iif.hu%3E%20%3C87k4tq3dql.fsf%40tac.ki.iif.hu%3E%20%3C87d3zilkb0.fsf%40windlord.stanford.edu%3E%20%3C009601cabc8f%2422779d10%246766d730%24%252%40osu.edu%3E%20%3C87sk7fv2y3.fsf%40tac.ki.iif.hu%3E%0A%20%3C026301cad1bf%241da03dc0%2458e0b940%24%402%40osu.edu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=cantor.2%40osu.edu" alt="">
<div class="header"><span class="headerfield">From:</span> &quot;Scott Cantor&quot; &lt;cantor.2@osu.edu&gt;</div>
<div class="header"><span class="headerfield">To:</span> &quot;&#39;Ferenc Wagner&#39;&quot; &lt;wferi@niif.hu&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> &lt;571631@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> RE: Bug#571631: libapache2-mod-shib2: shib-keygen generates	world-readable key file</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 1 Apr 2010 13:16:49 -0400</div>
</div>
<pre class="message">&gt; Don&#39;t you think it&#39;s kind of an openssl bug to create the key material
&gt; with full permissions?  Shouldn&#39;t it creat(&quot;keyfile&quot;, 0600)?

Would be nice I suppose.

&gt; This aside, I&#39;d recommend working around the issue by creating the key
&gt; file beforehand with restricted permissions, and not touching umask:

I could imagine it working or failing depending on what the openssl code
does, but I can look into it.

&gt; <a href="https://bugs.internet2.edu/jira/browse/SSPCPP-281">https://bugs.internet2.edu/jira/browse/SSPCPP-281</a> is pretty much
&gt; orthogonal to this (and I&#39;m not sure it&#39;s worth adding options which
&gt; could be simulated by a cd before and a chown after.)

&lt;shrug&gt;

-- Scott





</pre>

<div class="msgreceived"><hr><p>
<a name="73"></a>
<!-- request_addr: Russ Allbery &lt;rra@debian.org&gt; -->
<!-- time:1273963866 -->
<strong>Reply sent</strong>
to <code>Russ Allbery &lt;rra@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Sat, 15 May 2010 22:51:06 GMT) (<a href="bugreport.cgi?bug=571631;msg=74">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=74">mbox</a>, <a href="#73">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="75"></a>
<!-- request_addr: Dominic Hargreaves &lt;dom@earth.li&gt; -->
<!-- time:1273963866 -->
<strong>Notification sent</strong>
to <code>Dominic Hargreaves &lt;dom@earth.li&gt;</code>:<br>
Bug acknowledged by developer.
 (Sat, 15 May 2010 22:51:06 GMT) (<a href="bugreport.cgi?bug=571631;msg=76">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=76">mbox</a>, <a href="#75">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="77"></a><a name="msg77"></a><a href="#77">Message #77</a> received at 571631-close@bugs.debian.org (<a href="bugreport.cgi?bug=571631;msg=77">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=77">mbox</a>, <a href="mailto:571631@bugs.debian.org?References=%3CE1ODQ91-0004k8-2J%40ries.debian.org%3E&amp;body=On%20Sat%2C%2015%20May%202010%2022%3A47%3A43%20%2B0000%20Russ%20Allbery%20%3Crra%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20shibboleth-sp2%0A%3E%20Source-Version%3A%202.3.1%2Bdfsg-2%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20shibboleth-sp2%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive%3A%0A%3E%20%0A%3E%20libapache2-mod-shib2_2.3.1%2Bdfsg-2_i386.deb%0A%3E%20%20%20to%20main%2Fs%2Fshibboleth-sp2%2Flibapache2-mod-shib2_2.3.1%2Bdfsg-2_i386.deb%0A%3E%20libshibsp-dev_2.3.1%2Bdfsg-2_i386.deb%0A%3E%20%20%20to%20main%2Fs%2Fshibboleth-sp2%2Flibshibsp-dev_2.3.1%2Bdfsg-2_i386.deb%0A%3E%20libshibsp-doc_2.3.1%2Bdfsg-2_all.deb%0A%3E%20%20%20to%20main%2Fs%2Fshibboleth-sp2%2Flibshibsp-doc_2.3.1%2Bdfsg-2_all.deb%0A%3E%20libshibsp4_2.3.1%2Bdfsg-2_i386.deb%0A%3E%20%20%20to%20main%2Fs%2Fshibboleth-sp2%2Flibshibsp4_2.3.1%2Bdfsg-2_i386.deb%0A%3E%20shibboleth-sp2-schemas_2.3.1%2Bdfsg-2_all.deb%0A%3E%20%20%20to%20main%2Fs%2Fshibboleth-sp2%2Fshibboleth-sp2-schemas_2.3.1%2Bdfsg-2_all.deb%0A%3E%20shibboleth-sp2_2.3.1%2Bdfsg-2.diff.gz%0A%3E%20%20%20to%20main%2Fs%2Fshibboleth-sp2%2Fshibboleth-sp2_2.3.1%2Bdfsg-2.diff.gz%0A%3E%20shibboleth-sp2_2.3.1%2Bdfsg-2.dsc%0A%3E%20%20%20to%20main%2Fs%2Fshibboleth-sp2%2Fshibboleth-sp2_2.3.1%2Bdfsg-2.dsc%0A%3E%20%0A%3E%20%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20571631%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Russ%20Allbery%20%3Crra%40debian.org%3E%20%28supplier%20of%20updated%20shibboleth-sp2%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA1%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Sat%2C%2015%20May%202010%2015%3A25%3A12%20-0700%0A%3E%20Source%3A%20shibboleth-sp2%0A%3E%20Binary%3A%20libapache2-mod-shib2%20libshibsp4%20libshibsp-dev%20libshibsp-doc%20shibboleth-sp2-schemas%0A%3E%20Architecture%3A%20source%20i386%20all%0A%3E%20Version%3A%202.3.1%2Bdfsg-2%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20low%0A%3E%20Maintainer%3A%20Debian%20Shib%20Team%20%3Cpkg-shibboleth-devel%40lists.alioth.debian.org%3E%0A%3E%20Changed-By%3A%20Russ%20Allbery%20%3Crra%40debian.org%3E%0A%3E%20Description%3A%20%0A%3E%20%20libapache2-mod-shib2%20-%20Federated%20web%20single%20sign-on%20system%20%28Apache%20module%29%0A%3E%20%20libshibsp-dev%20-%20Federated%20web%20single%20sign-on%20system%20%28development%29%0A%3E%20%20libshibsp-doc%20-%20Federated%20web%20single%20sign-on%20system%20%28API%20docs%29%0A%3E%20%20libshibsp4%20-%20Federated%20web%20single%20sign-on%20system%20%28runtime%29%0A%3E%20%20shibboleth-sp2-schemas%20-%20Federated%20web%20single%20sign-on%20system%20%28schemas%29%0A%3E%20Closes%3A%20571631%0A%3E%20Changes%3A%20%0A&amp;In-Reply-To=%3CE1ODQ91-0004k8-2J%40ries.debian.org%3E&amp;subject=Re%3A%20Bug%23571631%3A%20fixed%20in%20shibboleth-sp2%202.3.1%2Bdfsg-2">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=rra%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Russ Allbery &lt;rra@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 571631-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#571631: fixed in shibboleth-sp2 2.3.1+dfsg-2</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 15 May 2010 22:47:43 +0000</div>
</div>
<pre class="message">Source: shibboleth-sp2
Source-Version: 2.3.1+dfsg-2

We believe that the bug you reported is fixed in the latest version of
shibboleth-sp2, which is due to be installed in the Debian FTP archive:

libapache2-mod-shib2_2.3.1+dfsg-2_i386.deb
  to main/s/shibboleth-sp2/libapache2-mod-shib2_2.3.1+dfsg-2_i386.deb
libshibsp-dev_2.3.1+dfsg-2_i386.deb
  to main/s/shibboleth-sp2/libshibsp-dev_2.3.1+dfsg-2_i386.deb
libshibsp-doc_2.3.1+dfsg-2_all.deb
  to main/s/shibboleth-sp2/libshibsp-doc_2.3.1+dfsg-2_all.deb
libshibsp4_2.3.1+dfsg-2_i386.deb
  to main/s/shibboleth-sp2/libshibsp4_2.3.1+dfsg-2_i386.deb
shibboleth-sp2-schemas_2.3.1+dfsg-2_all.deb
  to main/s/shibboleth-sp2/shibboleth-sp2-schemas_2.3.1+dfsg-2_all.deb
shibboleth-sp2_2.3.1+dfsg-2.diff.gz
  to main/s/shibboleth-sp2/shibboleth-sp2_2.3.1+dfsg-2.diff.gz
shibboleth-sp2_2.3.1+dfsg-2.dsc
  to main/s/shibboleth-sp2/shibboleth-sp2_2.3.1+dfsg-2.dsc



A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 571631@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Russ Allbery &lt;rra@debian.org&gt; (supplier of updated shibboleth-sp2 package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Sat, 15 May 2010 15:25:12 -0700
Source: shibboleth-sp2
Binary: libapache2-mod-shib2 libshibsp4 libshibsp-dev libshibsp-doc shibboleth-sp2-schemas
Architecture: source i386 all
Version: 2.3.1+dfsg-2
Distribution: unstable
Urgency: low
Maintainer: Debian Shib Team &lt;pkg-shibboleth-devel@lists.alioth.debian.org&gt;
Changed-By: Russ Allbery &lt;rra@debian.org&gt;
Description: 
 libapache2-mod-shib2 - Federated web single sign-on system (Apache module)
 libshibsp-dev - Federated web single sign-on system (development)
 libshibsp-doc - Federated web single sign-on system (API docs)
 libshibsp4 - Federated web single sign-on system (runtime)
 shibboleth-sp2-schemas - Federated web single sign-on system (schemas)
Closes: <a href="bugreport.cgi?bug=571631">571631</a>
Changes: 
 shibboleth-sp2 (2.3.1+dfsg-2) unstable; urgency=low
 .
   * Modify shib-keygen to create the new certificate key group-readable by
     _shibd and not world-readable.  (Closes: #<a href="bugreport.cgi?bug=571631">571631</a>)
   * Force source format 1.0 for now since it makes backporting easier.
   * Update debhelper compatibility level to V7.
     - Use dh_prep instead of dh_clean -k.
   * Update standards version to 3.8.4 (no changes required).
Checksums-Sha1: 
 5b8d484180951359a341341afe5cacec982c7d23 1650 shibboleth-sp2_2.3.1+dfsg-2.dsc
 eae28aef3e497dd394957bdca03cf86c165f213d 18414 shibboleth-sp2_2.3.1+dfsg-2.diff.gz
 37187a4edfa3a10e9d027960d4335e11d8ca4b6a 227514 libapache2-mod-shib2_2.3.1+dfsg-2_i386.deb
 784991847110d38567dfe9b1b24d32b4c08b7cab 958472 libshibsp4_2.3.1+dfsg-2_i386.deb
 851422b6a4fe097a91b146613bb68f7356a77d42 43442 libshibsp-dev_2.3.1+dfsg-2_i386.deb
 c102b26ea1ebe93e348bf044a022eed9b8ff967d 311642 libshibsp-doc_2.3.1+dfsg-2_all.deb
 c30904f0ab5e0aeb9fb69a14f7e8e5ad52e39bb9 18648 shibboleth-sp2-schemas_2.3.1+dfsg-2_all.deb
Checksums-Sha256: 
 dccfdb861d8eba5e420c840c5949b0494ce2ea0dc98d16e858c5e1c8a71a29c6 1650 shibboleth-sp2_2.3.1+dfsg-2.dsc
 55f2140ededddfe8ae7486ac322c131ab6840981a46b85099c6f26888cb45f0a 18414 shibboleth-sp2_2.3.1+dfsg-2.diff.gz
 cd67a51b755c76e6faf4ad1fd8f219ac1b5d0de5896f89995ff1953e23a1b644 227514 libapache2-mod-shib2_2.3.1+dfsg-2_i386.deb
 6aef1212acdd6ac5ab578faac9ecc098f8089729600b1d783869235a997c1e66 958472 libshibsp4_2.3.1+dfsg-2_i386.deb
 26ed703fff84534b4c886c501e7d7a6ddcd9a57b105b03759d5d305b263f5641 43442 libshibsp-dev_2.3.1+dfsg-2_i386.deb
 3507c57241f72ddc37b63f259282b1a17c12e76672fa4f7d438de6c4d2a75c8b 311642 libshibsp-doc_2.3.1+dfsg-2_all.deb
 ae57a1fb65e958d50b2e18e43adf1dfa78e9ae04c27670f8448ee5f409ea6408 18648 shibboleth-sp2-schemas_2.3.1+dfsg-2_all.deb
Files: 
 6829a9120402753f57d77546ad6df6ee 1650 web extra shibboleth-sp2_2.3.1+dfsg-2.dsc
 a4aa44001d057a1e967690ecf700062a 18414 web extra shibboleth-sp2_2.3.1+dfsg-2.diff.gz
 55ef411f24c2e1cce84562ed162d7dfe 227514 httpd extra libapache2-mod-shib2_2.3.1+dfsg-2_i386.deb
 00cb0adbb850cdfc4c49ef3d2506b8d6 958472 libs extra libshibsp4_2.3.1+dfsg-2_i386.deb
 d586e90a23d79c4fbecacb4c376819bb 43442 libdevel extra libshibsp-dev_2.3.1+dfsg-2_i386.deb
 136100276d238d95631aa3c94534b5f1 311642 doc extra libshibsp-doc_2.3.1+dfsg-2_all.deb
 19cdc02f95062a174db32e26f1ac3e93 18648 text extra shibboleth-sp2-schemas_2.3.1+dfsg-2_all.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAkvvI+AACgkQ+YXjQAr8dHZDOQCeMnXycfVEH+MKa8vkrKEttNzE
AdsAoMLW/A/1wm4O3NcjjxUdZbtKcwHu
=/vtN
-----END PGP SIGNATURE-----




</pre>

<div class="msgreceived"><hr><p>
<a name="78"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1297065259 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Mon, 07 Feb 2011 07:54:19 GMT) (<a href="bugreport.cgi?bug=571631;msg=79">full text</a>, <a href="bugreport.cgi?bug=571631;mbox=yes;msg=79">mbox</a>, <a href="#78">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=571631">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:23:42 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->bembo<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright  1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
