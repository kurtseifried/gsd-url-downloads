<!DOCTYPE html>
<html  lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/  dc: http://purl.org/dc/terms/  foaf: http://xmlns.com/foaf/0.1/  og: http://ogp.me/ns#  rdfs: http://www.w3.org/2000/01/rdf-schema#  schema: http://schema.org/  sioc: http://rdfs.org/sioc/ns#  sioct: http://rdfs.org/sioc/types#  skos: http://www.w3.org/2004/02/skos/core#  xsd: http://www.w3.org/2001/XMLSchema# ">
  <head>
    <meta charset="utf-8" />
<meta name="title" content="New stable security releases: 0.3.5.15, 0.4.4.9, 0.4.5.9, 0.4.6.5 | Tor Blog" />
<meta name="description" content="After months of work, we have a new stable release series! If you build Tor from source, you can download the source code for 0.4.6.5 on the download page. Packages should be available within the next several weeks, with a new Tor Browser around the end of the week.
Because this release includes security fixes, we are also releasing updates for our other supported releases. You can find their source at https://dist.torproject.org:

0.3.5.15 (gpg signature) (ChangeLog)
0.4.4.9 (gpg signature) (ChangeLog) [Note that 0.4.4.9 hits end-of-life tomorrow; this is the last supported 0.4.4.9 release.]
0.4.5.9 (gpg signature) (ChangeLog)

Tor 0.4.6.5 is the first stable release in its series. The 0.4.6.x series includes numerous features and bugfixes, including a significant improvement to our circuit timeout algorithm that should improve observed client performance, and a way for relays to report when they are overloaded.
This release also includes security fixes for several security issues, including a denial-of-service attack against onion service clients, and another denial-of-service attack against relays. Everybody should upgrade to one of 0.3.5.15, 0.4.4.9, 0.4.5.9, or 0.4.6.5.
Below are the changes since 0.4.5.8. For a list of changes since 0.4.6.4-rc, see the ChangeLog file.
Changes in version 0.4.6.5 - 2021-06-14

Major bugfixes (security):

Don&#039;t allow relays to spoof RELAY_END or RELAY_RESOLVED cell on half-closed streams. Previously, clients failed to validate which hop sent these cells: this would allow a relay on a circuit to end a stream that wasn&#039;t actually built with it. Fixes bug 40389; bugfix on 0.3.5.1-alpha. This issue is also tracked as TROVE-2021- 003 and CVE-2021-34548.


Major bugfixes (security, defense-in-depth):

Detect more failure conditions from the OpenSSL RNG code. Previously, we would detect errors from a missing RNG implementation, but not failures from the RNG code itself. Fortunately, it appears those failures do not happen in practice when Tor is using OpenSSL&#039;s default RNG implementation. Fixes bug 40390; bugfix on 0.2.8.1-alpha. This issue is also tracked as TROVE-2021-004. Reported by Jann Horn at Google&#039;s Project Zero.



 " />
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>.homepage-textfield { display: none !important; }</style>
<link rel="shortcut icon" href="/sites/default/files/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="canonical" href="https://blog.torproject.org/node/2041" />
<link rel="shortlink" href="https://blog.torproject.org/node/2041" />
<link rel="revision" href="https://blog.torproject.org/node/2041" />


    <link rel="apple-touch-icon" sizes="57x57" href="/themes/tor_bootstrap/favicons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/themes/tor_bootstrap/favicons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/themes/tor_bootstrap/favicons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/themes/tor_bootstrap/favicons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/themes/tor_bootstrap/favicons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/themes/tor_bootstrap/favicons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/themes/tor_bootstrap/favicons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/themes/tor_bootstrap/favicons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/themes/tor_bootstrap/favicons/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/themes/tor_bootstrap/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/themes/tor_bootstrap/favicons/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/themes/tor_bootstrap/favicons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/themes/tor_bootstrap/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/themes/tor_bootstrap/favicons/manifest.json">
    <link rel="mask-icon" href="/themes/tor_bootstrap/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/themes/tor_bootstrap/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/themes/tor_bootstrap/favicons/mstile-144x144.png">
    <meta name="msapplication-config" content="/themes/tor_bootstrap/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">


    <title>New stable security releases: 0.3.5.15, 0.4.4.9, 0.4.5.9, 0.4.6.5 | Tor Blog</title>
    <link rel="stylesheet" media="all" href="/sites/default/files/css/css_irJGfwXmMRbKqZsqGYpZxhpk6CWqKxRJcmIjIKojH2s.css" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_xoIm1bwaHxx3MZmfsyaFWUaTD-4w80UZhEvIYWCJ4gM.css" />

    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->
<script src="/core/assets/vendor/modernizr/modernizr.min.js?v=3.3.1"></script>

  </head>
  <body class="path-node page-node-type-article has-glyphicons">
    <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
              <header class="navbar navbar-default container" id="navbar" role="banner">
      <div class="navbar-header">
          <div class="region region-navigation">
          <a class="logo navbar-btn pull-left" href="/" title="Home" rel="home">
      <img src="/sites/default/files/tor-logo.png" alt="Home" />
    </a>
          <p class="navbar-text">The Tor Project</p>
  
  </div>

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

                    <div class="navbar-collapse collapse">
            <div class="region region-navigation-collapsible">
    <div class="search-block-form block block-search block-search-form-block" data-drupal-selector="search-block-form" id="block-searchform" role="search">
  
    
      <form action="/search/node" method="get" id="search-block-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-search js-form-type-search form-item-keys js-form-item-keys form-no-label form-group">
      <label for="edit-keys" class="control-label sr-only">Search</label>
  
  
  <div class="input-group"><input title="Enter the terms you wish to search for." data-drupal-selector="edit-keys" class="form-search form-control" placeholder="Search" type="search" id="edit-keys" name="keys" value="" size="15" maxlength="128" /><span class="input-group-btn"><button type="submit" value="Search" class="button js-form-submit form-submit btn-primary btn icon-only" name=""><span class="sr-only">Search</span><span class="icon glyphicon glyphicon-search" aria-hidden="true"></span></button></span></div>

  
  
      <div id="edit-keys--description" class="description help-block">
      Enter the terms you wish to search for.
    </div>
  </div>
<div class="form-actions form-group js-form-wrapper form-wrapper" data-drupal-selector="edit-actions" id="edit-actions"></div>

</form>

  </div>
<nav role="navigation" aria-labelledby="block-mainmenu-menu" id="block-mainmenu">
            <h2 class="sr-only" id="block-mainmenu-menu">Main menu</h2>

      
      <ul class="menu menu--main nav navbar-nav">
                      <li class="menu-item-about-tor first">
                                        <a href="https://www.torproject.org/about/history" title="About the Tor Project">About Tor</a>
              </li>
                      <li class="menu-item-donate last">
                                        <a href="https://donate.torproject.org" title="Donate to the Tor Project Today!">Donate</a>
              </li>
        </ul>
  

  </nav>

  </div>

        </div>
          </header>
  
  <div role="main" class="main-container container js-quickedit-main-content">
    <div class="row">

                              <div class="col-xs-12" role="heading">
              <div class="region region-header">
    
  </div>

          </div>
              
      <div class="main-content-container clearfix">
                    
                        <section class="main-no-first-sidebar col-sm-9 main-content main-content-region">
          <div class="main-content-inner inner">
            <div class="inner-inner">
                                                              <div class="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
                              
                            
                            
                            
                                            <a id="main-content"></a>
                  <div class="region region-content">
      
<article role="article" about="/node/2041" typeof="schema:Article" class="node node--type-article node--promoted node--view-mode-full node--type-article-full">
  
    <h1 class="title">
      <span property="schema:name">New stable security releases: 0.3.5.15, 0.4.4.9, 0.4.5.9, 0.4.6.5</span>

    </h1>
    <span property="schema:name" content="New stable security releases: 0.3.5.15, 0.4.4.9, 0.4.5.9, 0.4.6.5" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:9" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/nickm">nickm</a> | <span property="schema:dateCreated" content="2021-06-14T15:35:04+00:00">June 14, 2021</span>
          <span property="schema:dateCreated" content="2021-06-14T15:35:04+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div class="field field--name-field-image field--type-image field--label-hidden field--item">    <picture>
                  <source srcset="/sites/default/files/styles/full_width/public/image/tor-logo-blog_36.png?itok=z3ZeguWz 1x, /sites/default/files/styles/full_width_retina/public/image/tor-logo-blog_36.png?itok=qhZ5IVR6 2x" media="screen and (min-width: 992px)" type="image/png"/>
              <source srcset="/sites/default/files/styles/tablet_full_width/public/image/tor-logo-blog_36.png?itok=Gd9-KKZZ 1x, /sites/default/files/styles/tablet_full_width_retina/public/image/tor-logo-blog_36.png?itok=4HLtyZIu 2x" media="screen and (min-width: 768px)" type="image/png"/>
              <source srcset="/sites/default/files/styles/full_width/public/image/tor-logo-blog_36.png?itok=z3ZeguWz 1x, /sites/default/files/styles/full_width_retina/public/image/tor-logo-blog_36.png?itok=qhZ5IVR6 2x" media="screen and (min-width: 0px)" type="image/png"/>
                  <img property="schema:image" src="/sites/default/files/styles/full_width/public/image/tor-logo-blog_36.png?itok=z3ZeguWz" alt="" typeof="foaf:Image" class="img-responsive" />

  </picture>

</div>
      
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>After months of work, we have a new stable release series! If you build Tor from source, you can download the source code for 0.4.6.5 on the <a href="https://www.torproject.org/download/tor/">download page</a>. Packages should be available within the next several weeks, with a new Tor Browser around the end of the week.</p>
<p>Because this release includes security fixes, we are also releasing updates for our other supported releases. You can find their source at <a href="https://dist.torproject.org/">https://dist.torproject.org</a>:</p>
<ul>
<li><a href="https://dist.torproject.org/tor-0.3.5.15.tar.gz">0.3.5.15</a> <a href="https://dist.torproject.org/tor-0.3.5.15.tar.gz.asc">(gpg signature)</a> <a href="https://gitweb.torproject.org/tor.git/tree/ChangeLog?h=tor-0.3.5.15">(ChangeLog)</a></li>
<li><a href="https://dist.torproject.org/tor-0.4.4.9.tar.gz">0.4.4.9</a> <a href="https://dist.torproject.org/tor-0.4.4.9.tar.gz.asc">(gpg signature)</a> <a href="https://gitweb.torproject.org/tor.git/tree/ChangeLog?h=tor-0.4.4.9">(ChangeLog)</a> [Note that 0.4.4.9 hits end-of-life tomorrow; this is the last supported 0.4.4.9 release.]</li>
<li><a href="https://dist.torproject.org/tor-0.4.5.9.tar.gz">0.4.5.9</a> <a href="https://dist.torproject.org/tor-0.4.5.9.tar.gz.asc">(gpg signature)</a> <a href="https://gitweb.torproject.org/tor.git/tree/ChangeLog?h=tor-0.4.5.9">(ChangeLog)</a></li>
</ul>
<p>Tor 0.4.6.5 is the first stable release in its series. The 0.4.6.x series includes numerous features and bugfixes, including a significant improvement to our circuit timeout algorithm that should improve observed client performance, and a way for relays to report when they are overloaded.</p>
<p>This release also includes security fixes for several security issues, including a denial-of-service attack against onion service clients, and another denial-of-service attack against relays. Everybody should upgrade to one of 0.3.5.15, 0.4.4.9, 0.4.5.9, or 0.4.6.5.</p>
<p>Below are the changes since 0.4.5.8. For a list of changes since 0.4.6.4-rc, see the ChangeLog file.</p>
<h2>Changes in version 0.4.6.5 - 2021-06-14</h2>
<ul>
<li>Major bugfixes (security):
<ul>
<li>Don't allow relays to spoof RELAY_END or RELAY_RESOLVED cell on half-closed streams. Previously, clients failed to validate which hop sent these cells: this would allow a relay on a circuit to end a stream that wasn't actually built with it. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40389">40389</a>; bugfix on 0.3.5.1-alpha. This issue is also tracked as TROVE-2021- 003 and CVE-2021-34548.</li>
</ul>
</li>
<li>Major bugfixes (security, defense-in-depth):
<ul>
<li>Detect more failure conditions from the OpenSSL RNG code. Previously, we would detect errors from a missing RNG implementation, but not failures from the RNG code itself. Fortunately, it appears those failures do not happen in practice when Tor is using OpenSSL's default RNG implementation. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40390">40390</a>; bugfix on 0.2.8.1-alpha. This issue is also tracked as TROVE-2021-004. Reported by Jann Horn at Google's Project Zero.</li>
</ul>
</li>
</ul>
<p> </p>
<!--break--><ul>
<li>Major bugfixes (security, denial of service):
<ul>
<li>Resist a hashtable-based CPU denial-of-service attack against relays. Previously we used a naive unkeyed hash function to look up circuits in a circuitmux object. An attacker could exploit this to construct circuits with chosen circuit IDs, to create collisions and make the hash table inefficient. Now we use a SipHash construction here instead. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40391">40391</a>; bugfix on 0.2.4.4-alpha. This issue is also tracked as TROVE-2021-005 and CVE-2021-34549. Reported by Jann Horn from Google's Project Zero.</li>
<li>Fix an out-of-bounds memory access in v3 onion service descriptor parsing. An attacker could exploit this bug by crafting an onion service descriptor that would crash any client that tried to visit it. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40392">40392</a>; bugfix on 0.3.0.1-alpha. This issue is also tracked as TROVE-2021-006 and CVE-2021-34550. Reported by Sergei Glazunov from Google's Project Zero.</li>
</ul>
</li>
<li>Major features (control port, onion services):
<ul>
<li>Add controller support for creating version 3 onion services with client authorization. Previously, only v2 onion services could be created with client authorization. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40084">40084</a>. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Major features (directory authority):
<ul>
<li>When voting on a relay with a Sybil-like appearance, add the Sybil flag when clearing out the other flags. This lets a relay operator know why their relay hasn't been included in the consensus. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40255">40255</a>. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Major features (metrics):
<ul>
<li>Relays now report how overloaded they are in their extrainfo documents. This information is controlled with the OverloadStatistics torrc option, and it will be used to improve decisions about the network's load balancing. Implements proposal 328; closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40222">40222</a>.</li>
</ul>
</li>
<li>Major features (relay, denial of service):
<ul>
<li>Add a new DoS subsystem feature to control the rate of client connections for relays. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40253">40253</a>.</li>
</ul>
</li>
<li>Major features (statistics):
<ul>
<li>Relays now publish statistics about the number of v3 onion services and volume of v3 onion service traffic, in the same manner they already do for v2 onions. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/23126">23126</a>.</li>
</ul>
</li>
<li>Major bugfixes (circuit build timeout):
<ul>
<li>Improve the accuracy of our circuit build timeout calculation for 60%, 70%, and 80% build rates for various guard choices. We now use a maximum likelihood estimator for Pareto parameters of the circuit build time distribution, instead of a "right-censored estimator". This causes clients to ignore circuits that never finish building in their timeout calculations. Previously, clients were counting such unfinished circuits as having the highest possible build time value, when in reality these circuits most likely just contain relays that are offline. We also now wait a bit longer to let circuits complete for measurement purposes, lower the minimum possible effective timeout from 1.5 seconds to 10ms, and increase the resolution of the circuit build time histogram from 50ms bin widths to 10ms bin widths. Additionally, we alter our estimate Xm by taking the maximum of the top 10 most common build time values of the 10ms histogram, and compute Xm as the average of these. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40168">40168</a>; bugfix on 0.2.2.14-alpha.</li>
<li>Remove max_time calculation and associated warning from circuit build timeout 'alpha' parameter estimation, as this is no longer needed by our new estimator from 40168. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/34088">34088</a>; bugfix on 0.2.2.9-alpha.</li>
</ul>
</li>
<li>Major bugfixes (signing key):
<ul>
<li>In the tor-gencert utility, give an informative error message if the passphrase given in `--create-identity-key` is too short. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40189">40189</a>; bugfix on 0.2.0.1-alpha. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Minor features (bridge):
<ul>
<li>We now announce the URL to Tor's new bridge status at <a href="https://bridges.torproject.org/">https://bridges.torproject.org/</a> when Tor is configured to run as a bridge relay. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/30477">30477</a>.</li>
</ul>
</li>
<li>Minor features (build system):
<ul>
<li>New "make lsp" command to auto generate the compile_commands.json file used by the ccls server. The "bear" program is needed for this. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40227">40227</a>.</li>
</ul>
</li>
<li>Minor features (client):
<ul>
<li>Clients now check whether their streams are attempting to re-enter the Tor network (i.e. to send Tor traffic over Tor), and close them preemptively if they think exit relays will refuse them for this reason. See ticket <a href="https://bugs.torproject.org/tpo/core/tor/2667">2667</a> for details. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40271">40271</a>.</li>
</ul>
</li>
<li>Minor features (command line):
<ul>
<li>Add long format name "--torrc-file" equivalent to the existing command-line option "-f". Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40324">40324</a>. Patch by Daniel Pinto.</li>
</ul>
</li>
<li>Minor features (command-line interface):
<ul>
<li>Add build informations to `tor --version` in order to ease reproducible builds. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/32102">32102</a>.</li>
<li>When parsing command-line flags that take an optional argument, treat the argument as absent if it would start with a '-' character. Arguments in that form are not intelligible for any of our optional-argument flags. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40223">40223</a>.</li>
<li>Allow a relay operator to list the ed25519 keys on the command line by adding the `rsa` and `ed25519` arguments to the --list-fingerprint flag to show the respective RSA and ed25519 relay fingerprint. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/33632">33632</a>. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Minor features (compatibility):
<ul>
<li>Remove an assertion function related to TLS renegotiation. It was used nowhere outside the unit tests, and it was breaking compilation with recent alpha releases of OpenSSL 3.0.0. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40399">40399</a>.</li>
</ul>
</li>
<li>Minor features (control port, stream handling):
<ul>
<li>Add the stream ID to the event line in the ADDRMAP control event. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40249">40249</a>. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Minor features (dormant mode):
<ul>
<li>Add a new 'DormantTimeoutEnabled' option to allow coarse-grained control over whether the client ever becomes dormant from inactivity. Most people won't need this. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40228">40228</a>.</li>
<li>Add a new 'DormantTimeoutEnabled' option for coarse-grained control over whether the client can become dormant from inactivity. Most people won't need this. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40228">40228</a>.</li>
</ul>
</li>
<li>Minor features (geoip data):
<ul>
<li>Update the geoip files to match the IPFire Location Database, as retrieved on 2021/06/10.</li>
</ul>
</li>
<li>Minor features (logging):
<ul>
<li>Edit heartbeat log messages so that more of them begin with the string "Heartbeat: ". Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40322">40322</a>; patch from 'cypherpunks'.</li>
<li>Change the DoS subsystem heartbeat line format to be more clear on what has been detected/rejected, and which option is disabled (if any). Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40308">40308</a>.</li>
<li>In src/core/mainloop/mainloop.c and src/core/mainloop/connection.c, put brackets around IPv6 addresses in log messages. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40232">40232</a>. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Minor features (logging, diagnostic):
<ul>
<li>Log decompression failures at a higher severity level, since they can help provide missing context for other warning messages. We rate-limit these messages, to avoid flooding the logs if they begin to occur frequently. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40175">40175</a>.</li>
</ul>
</li>
<li>Minor features (onion services):
<ul>
<li>Add a warning message when trying to connect to (no longer supported) v2 onion services. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40373">40373</a>.</li>
</ul>
</li>
<li>Minor features (performance, windows):
<ul>
<li>Use SRWLocks to implement locking on Windows. Replaces the "critical section" locking implementation with the faster SRWLocks, available since Windows Vista. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/17927">17927</a>. Patch by Daniel Pinto.</li>
</ul>
</li>
<li>Minor features (protocol, proxy support, defense in depth):
<ul>
<li>Close HAProxy connections if they somehow manage to send us data before we start reading. Closes another case of ticket <a href="https://bugs.torproject.org/tpo/core/tor/40017">40017</a>.</li>
</ul>
</li>
<li>Minor features (tests, portability):
<ul>
<li>Port the hs_build_address.py test script to work with recent versions of python. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40213">40213</a>. Patch from Samanta Navarro.</li>
</ul>
</li>
<li>Minor features (vote document):
<ul>
<li>Add a "stats" line to directory authority votes, to report various statistics that authorities compute about the relays. This will help us diagnose the network better. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40314">40314</a>.</li>
</ul>
</li>
<li>Minor bugfixes (build):
<ul>
<li>The configure script now shows whether or not lzma and zstd have been used, not just if the enable flag was passed in. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40236">40236</a>; bugfix on 0.4.3.1-alpha.</li>
</ul>
</li>
<li>Minor bugfixes (compatibility):
<ul>
<li>Fix a failure in the test cases when running on the "hppa" architecture, along with a related test that might fail on other architectures in the future. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40274">40274</a>; bugfix on 0.2.5.1-alpha.</li>
</ul>
</li>
<li>Minor bugfixes (compilation):
<ul>
<li>Fix a compilation warning about unused functions when building with a libc that lacks the GLOB_ALTDIRFUNC constant. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40354">40354</a>; bugfix on 0.4.5.1-alpha. Patch by Daniel Pinto.</li>
</ul>
</li>
<li>Minor bugfixes (consensus handling):
<ul>
<li>Avoid a set of bugs that could be caused by inconsistently preferring an out-of-date consensus stored in a stale directory cache over a more recent one stored on disk as the latest consensus. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40375">40375</a>; bugfix on 0.3.1.1-alpha.</li>
</ul>
</li>
<li>Minor bugfixes (control, sandbox):
<ul>
<li>Allow the control command SAVECONF to succeed when the seccomp sandbox is enabled, and make SAVECONF keep only one backup file to simplify implementation. Previously SAVECONF allowed a large number of backup files, which made it incompatible with the sandbox. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40317">40317</a>; bugfix on 0.2.5.4-alpha. Patch by Daniel Pinto.</li>
</ul>
</li>
<li>Minor bugfixes (directory authorities, voting):
<ul>
<li>Add a new consensus method (31) to support any future changes that authorities decide to make to the value of bwweightscale or maxunmeasuredbw. Previously, there was a bug that prevented the authorities from parsing these consensus parameters correctly under most circumstances. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/19011">19011</a>; bugfix on 0.2.2.10-alpha.</li>
</ul>
</li>
<li>Minor bugfixes (ipv6):
<ul>
<li>Allow non-SOCKSPorts to disable IPv4, IPv6, and PreferIPv4. Some rare configurations might break, but in this case you can disable NoIPv4Traffic and NoIPv6Traffic as needed. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/33607">33607</a>; bugfix on 0.4.1.1-alpha. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Minor bugfixes (key generation):
<ul>
<li>Do not require a valid torrc when using the `--keygen` argument to generate a signing key. This allows us to generate keys on systems or users which may not run Tor. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40235">40235</a>; bugfix on 0.2.7.2-alpha. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Minor bugfixes (logging, relay):
<ul>
<li>Emit a warning if an Address is found to be internal and tor can't use it. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40290">40290</a>; bugfix on 0.4.5.1-alpha.</li>
</ul>
</li>
<li>Minor bugfixes (metrics port):
<ul>
<li>Fix a bug that made tor try to re-bind() on an already open MetricsPort every 60 seconds. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40370">40370</a>; bugfix on 0.4.5.1-alpha.</li>
</ul>
</li>
<li>Minor bugfixes (onion services, logging):
<ul>
<li>Downgrade the severity of a few rendezvous circuit-related warnings from warning to info. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40207">40207</a>; bugfix on 0.3.2.1-alpha. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Minor bugfixes (relay):
<ul>
<li>Reduce the compression level for data streaming from HIGH to LOW. This should reduce the CPU and memory burden for directory caches. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40301">40301</a>; bugfix on 0.3.5.1-alpha.</li>
</ul>
</li>
<li>Minor bugfixes (testing, BSD):
<ul>
<li>Fix pattern-matching errors when patterns expand to invalid paths on BSD systems. Fixes bug <a href="https://bugs.torproject.org/tpo/core/tor/40318">40318</a>; bugfix on 0.4.5.1-alpha. Patch by Daniel Pinto.</li>
</ul>
</li>
<li>Code simplification and refactoring:
<ul>
<li>Remove the orconn_ext_or_id_map structure and related functions. (Nothing outside of unit tests used them.) Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/33383">33383</a>. Patch by Neel Chauhan.</li>
</ul>
</li>
<li>Removed features:
<ul>
<li>Remove unneeded code for parsing private keys in directory documents. This code was only used for client authentication in v2 onion services, which are now unsupported. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40374">40374</a>.</li>
<li>As of this release, Tor no longer supports the old v2 onion services. They were deprecated last July for security, and support will be removed entirely later this year. We strongly encourage everybody to migrate to v3 onion services. For more information, see <a href="https://blog.torproject.org/v2-deprecation-timeline">https://blog.torproject.org/v2-deprecation-timeline</a> . Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40266">40266</a>. (NOTE: We accidentally released an earlier version of the 0.4.6.1-alpha changelog without this entry. Sorry for the confusion!)</li>
</ul>
</li>
<li>Code simplification and refactoring (metrics, DoS):
<ul>
<li>Move the DoS subsystem into the subsys manager, including its configuration options. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40261">40261</a>.</li>
</ul>
</li>
<li>Documentation (manual):
<ul>
<li>Move the ServerTransport* options to the "SERVER OPTIONS" section. Closes issue <a href="https://bugs.torproject.org/tpo/core/tor/40331">40331</a>.</li>
<li>Indicate that the HiddenServiceStatistics option also applies to bridges. Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40346">40346</a>.</li>
<li>Move the description of BridgeRecordUsageByCountry to the section "STATISTICS OPTIONS". Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40323">40323</a>.</li>
</ul>
</li>
<li>Removed features (relay):
<ul>
<li>Because DirPorts are only used on authorities, relays no longer advertise them. Similarly, self-testing for DirPorts has been disabled, since an unreachable DirPort is no reason for a relay not to advertise itself. (Configuring a DirPort will still work, for now.) Closes ticket <a href="https://bugs.torproject.org/tpo/core/tor/40282">40282</a>.</li>
</ul>
</li>
</ul>
</div>
      
  <div class="field field--name-field-tags field--type-entity-reference field--label-above">
    <div class="field--label">Tags</div>
          <div class="field--items">
              <div class="field--item"><a href="/category/tags/stable-release" property="schema:about" hreflang="en">stable release</a></div>
          <div class="field--item"><a href="/category/tags/security" property="schema:about" hreflang="en">security</a></div>
              </div>
      </div>
<ul class="links inline list-inline"><li class="comment-add"><a href="/node/2041#comment-form" title="Share your thoughts and opinions." hreflang="en">Join the discussion...</a></li></ul>
<div class="field field--name-comment-node-article field--type-comment field--label-above comment-wrapper" id="comments">

  <a id="comment-291963"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-291963" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1623703470"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">MomsSpaghetti (not verified)</span> said:</p>
      <p class="date-time">June 14, 2021</p>
    </div>

        
    <a href="/comment/291963#comment-291963" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/291963#comment-291963" class="permalink" rel="bookmark" hreflang="en">Typo alert -&gt;  &quot;New stable…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Typo alert -&gt;  "New stable security releases: 0.3.5.15, 0.4.4.9, 0.4.5.9, 0.4.6.9<br />
by nickm | June 14, 2021"   </p>

<p>^ there is no 0.4.6.9</p>

<p>Other than that new release 0.4.6.5 builds and runs fine at least with latest Windows/MINGW-W64</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/291963">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-291967"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="3" id="comment-291967" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1623703510"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/3">
  nickm
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/3" lang="" about="/user/3" typeof="schema:Person" property="schema:name" datatype="">nickm</a> said:</p>
      <p class="date-time">June 14, 2021</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/291963#comment-291963" class="permalink" rel="bookmark" hreflang="en">Typo alert -&gt;  &quot;New stable…</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">MomsSpaghetti (not verified)</span></p>
    
    <a href="/comment/291967#comment-291967" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/291967#comment-291967" class="permalink" rel="bookmark" hreflang="en">Thanks! I&#039;ve edited the…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Thanks! I've edited the title.</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/291967">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-291969"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-291969" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1623842032"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">MomsSpaghetti (not verified)</span> said:</p>
      <p class="date-time">June 14, 2021</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/291967#comment-291967" class="permalink" rel="bookmark" hreflang="en">Thanks! I&#039;ve edited the…</a> by <a class="tor" title="View user profile." href="/user/3" lang="" about="/user/3" typeof="schema:Person" property="schema:name" datatype="">nickm</a></p>
    
    <a href="/comment/291969#comment-291969" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/291969#comment-291969" class="permalink" rel="bookmark" hreflang="en">Always a pleasure to read…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Always a pleasure to read your responses, you should have left it like that for a while to make all those ad-infested copy-pasted blogs embarrass themselves. I doubt anyone having IT blogs care about the content of their articles. Nowadays if you don't have a list of original sources to visit you are doomed.</p>

<p>Just a question too generic to pollute gitlab with, do you think we could have an official Go library for Tor soon, anyone working on it? At least with basic functionality would save lots of trouble with cross compiling and IoT devices.</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/291969">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-291985"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="3" id="comment-291985" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1623842304"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/3">
  nickm
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/3" lang="" about="/user/3" typeof="schema:Person" property="schema:name" datatype="">nickm</a> said:</p>
      <p class="date-time">June 16, 2021</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/291969#comment-291969" class="permalink" rel="bookmark" hreflang="en">Always a pleasure to read…</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">MomsSpaghetti (not verified)</span></p>
    
    <a href="/comment/291985#comment-291985" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/291985#comment-291985" class="permalink" rel="bookmark" hreflang="en">Rust is more likely;…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Rust is more likely; probably some time later this year.  If it works out then it shouldn't be too hard for somebody to write Go bindings (I'd hope).</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/291985">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->
</div></div></div><a id="comment-291964"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-291964" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1623703329"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">June 14, 2021</p>
    </div>

        
    <a href="/comment/291964#comment-291964" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/291964#comment-291964" class="permalink" rel="bookmark" hreflang="en">Packages should be available…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><blockquote><p>Packages should be available within the next several weeks</p></blockquote>

<p>May I just ask, how come it needs to take "several weeks" for deb packages to appear for the new tor 0.4.6.9?</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/291964">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->

<div class="indented"><a id="comment-291968"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="3" id="comment-291968" class="comment js-comment by-node-author" id="comment-">
    <mark class="hidden" data-comment-timestamp="1623703615"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/3">
  nickm
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><a class="tor" title="View user profile." href="/user/3" lang="" about="/user/3" typeof="schema:Person" property="schema:name" datatype="">nickm</a> said:</p>
      <p class="date-time">June 14, 2021</p>
    </div>

              <p class="parent visually-hidden">In reply to <a href="/comment/291964#comment-291964" class="permalink" rel="bookmark" hreflang="en">Packages should be available…</a> by <span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span></p>
    
    <a href="/comment/291968#comment-291968" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/291968#comment-291968" class="permalink" rel="bookmark" hreflang="en">It might be sooner. The…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>It might be sooner. The issue is that since most binary packages are built by volunteers who do not work for Tor, we can't make commitments about how quickly they will be out.</p>

<p>(Many platforms have additional checks that they need to do as they do their releases: for example, making sure that they don't get the version numbers wrong in their announcements. [embarrassed face emoji here])</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/291968">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->
</div><a id="comment-291973"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-291973" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1623779865"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">June 15, 2021</p>
    </div>

        
    <a href="/comment/291973#comment-291973" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/291973#comment-291973" class="permalink" rel="bookmark" hreflang="en">&gt; When voting on a relay…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>&gt; When voting on a relay with a Sybil-like appearance, add the Sybil flag when clearing out the other flags. This lets a relay operator know why their relay hasn't been included in the consensus. Closes ticket 40255.</p>

<p>Wouldn't that help operators game the voting criteria?</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/291973">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->
<a id="comment-292037"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-292037" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1624542967"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">June 23, 2021</p>
    </div>

        
    <a href="/comment/292037#comment-292037" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/292037#comment-292037" class="permalink" rel="bookmark" hreflang="en">Re: bug 40389

Why circ-…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Re: bug 40389</p>

<p>Why circ-&gt;cpath-&gt;prev instead of keep&amp;use cpath_layer?<br />
Why to count as valid injected 'connected','sendme','data' cells?</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/292037">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->
<a id="comment-292040"></a>
  


<div class="comment-meta-filler">
<!-- Comment -->

<article data-comment-user-id="0" id="comment-292040" class="comment js-comment by-anonymous" id="comment-">
    <mark class="hidden" data-comment-timestamp="1624542969"></mark>

  <footer class="comment__meta">
    <article typeof="schema:Person" about="/user/0">
  Anonymous
  </article>

    <div class="comment-header">
      <p class="comment__submitted"><span lang="" typeof="schema:Person" property="schema:name" datatype="">Anonymous (not verified)</span> said:</p>
      <p class="date-time">June 23, 2021</p>
    </div>

        
    <a href="/comment/292040#comment-292040" hreflang="en">Permalink</a>
  </footer>

  <div class="content">
          
      <h3><a href="/comment/292040#comment-292040" class="permalink" rel="bookmark" hreflang="en">Was there some issue with v0…</a></h3>
      
        
            <div class="field field--name-comment-body field--type-text-long field--label-hidden field--item"><p>Was there some issue with v0.4.6.5 (other than the initial title here) because it still has not appeared on deb.torproject.org?</p>
</div>
      <ul class="links inline list-inline"><li class="comment-reply"><a href="/comment/reply/node/2041/comment_node_article/292040">Reply</a></li></ul>
  </div>

</article>
<!-- Comment END -->


      <h2 class="title comment-form__title" id="join-the-discussion">Join the discussion...</h2>
    <p>We encourage respectful, on-topic comments. Comments that violate our <a
    href="https://gitweb.torproject.org/community/policies.git/tree/code_of_conduct.txt">Code
    of Conduct</a> will be deleted. Off-topic comments may be deleted at the discretion
    of the post moderator. Please do not comment as a way to receive support or
    report bugs on a post unrelated to a release. If you are looking for support,
     please see our <a href="https://support.torproject.org/">support portal</a> or
     ways to <a href="https://www.torproject.org/contact">get in touch with us</a>.</p>
    <form class="comment-comment-node-article-form comment-form" data-drupal-selector="comment-form" action="/comment/reply/node/2041/comment_node_article" method="post" id="comment-form" accept-charset="UTF-8">
  <div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-name js-form-item-name form-group">
      <label for="edit-name" class="control-label">Your name</label>
  
  
  <input data-drupal-default-value="Anonymous" data-drupal-selector="edit-name" class="form-text form-control" type="text" id="edit-name" name="name" value="" size="30" maxlength="60" />

  
  
  </div>
<div class="field--type-text-long field--name-comment-body field--widget-text-textarea form-group js-form-wrapper form-wrapper" data-drupal-selector="edit-comment-body-wrapper" id="edit-comment-body-wrapper">      <div class="js-text-format-wrapper text-format-wrapper js-form-item form-item">
  <div class="form-item js-form-item form-type-textarea js-form-type-textarea form-item-comment-body-0-value js-form-item-comment-body-0-value">
      <label for="edit-comment-body-0-value" class="control-label js-form-required form-required">Comment</label>
  
  
  <div class="form-textarea-wrapper">
  <textarea class="js-text-full text-full form-textarea required form-control resize-vertical" data-media-embed-host-entity-langcode="en" data-drupal-selector="edit-comment-body-0-value" id="edit-comment-body-0-value" name="comment_body[0][value]" rows="5" cols="60" placeholder="" required="required" aria-required="true"></textarea>
</div>


  
  
  </div>
<div class="js-filter-wrapper filter-wrapper form-inline form-group js-form-wrapper form-wrapper" data-drupal-selector="edit-comment-body-0-format" id="edit-comment-body-0-format"><div class="filter-help form-group js-form-wrapper form-wrapper" data-drupal-selector="edit-comment-body-0-format-help" id="edit-comment-body-0-format-help"><a href="/filter/tips" target="_blank" title="Opens in new window" data-drupal-selector="edit-comment-body-0-format-help-about" class="icon-before" id="edit-comment-body-0-format-help-about"><span class="icon glyphicon glyphicon-question-sign" aria-hidden="true"></span>About text formats</a></div>
<input data-editor-for="edit-comment-body-0-value" type="hidden" name="comment_body[0][format]" value="filtered_html" /></div>

  </div>

  </div>
<input autocomplete="off" data-drupal-selector="form-5gftkadtlfqnfscwwe0ij7c-elcndaf3vnq1-olqt2w" type="hidden" name="form_build_id" value="form-5gfTKAdTlFQNfSCwWe0Ij7c_ElCnDaF3VnQ1-olQt2w" /><input data-drupal-selector="edit-comment-comment-node-article-form" type="hidden" name="form_id" value="comment_comment_node_article_form" /><div class="field--type-language field--name-langcode field--widget-language-select form-group js-form-wrapper form-wrapper" data-drupal-selector="edit-langcode-wrapper" id="edit-langcode-wrapper">      
  </div>
  <div class="captcha js-form-wrapper form-wrapper form-item js-form-item panel panel-default" id="bootstrap-panel" aria-describedby="bootstrap-panel--description">

              <div class="panel-heading">
                          <a aria-controls="bootstrap-panel--content" aria-expanded="true" aria-pressed="true" data-toggle="collapse" role="button" class="panel-title" href="#bootstrap-panel--content">CAPTCHA</a>
              </div>
      
            
    
    <div id="bootstrap-panel--content" class="panel-body panel-collapse collapse fade in">
              <p id="bootstrap-panel--description" class="help-block">This question is for testing whether or not you are a human visitor and to prevent automated spam submissions.</p>
            <input data-drupal-selector="edit-captcha-sid" type="hidden" name="captcha_sid" value="26899611" /><input data-drupal-selector="edit-captcha-token" type="hidden" name="captcha_token" value="363ff04fd6a30079d152e862feff1e4c" /><div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-captcha-response js-form-item-captcha-response form-group">
      <label for="edit-captcha-response" class="control-label js-form-required form-required">Math question</label>
  
  
  2 + 5 =
  
      <input autocomplete="off" data-drupal-selector="edit-captcha-response" aria-describedby="edit-captcha-response--description" class="form-text required form-control" type="text" id="edit-captcha-response" name="captcha_response" value="" size="4" maxlength="2" required="required" aria-required="true" />

  
  
      <div id="edit-captcha-response--description" class="description help-block">
      Solve this simple math problem and enter the result. E.g. for 1+3, enter 4.
    </div>
  </div>

          </div>
  
    
</div>

<div data-drupal-selector="edit-actions" class="form-actions form-group js-form-wrapper form-wrapper" id="edit-actions"><button data-drupal-selector="edit-preview" class="button js-form-submit form-submit btn-default btn icon-before" type="submit" id="edit-preview" name="op" value="Preview"><span class="icon glyphicon glyphicon-eye-open" aria-hidden="true"></span>
Preview</button></div>
<div class="homepage-textfield"><div class="form-item js-form-item form-type-textfield js-form-type-textfield form-item-homepage js-form-item-homepage form-group">
      <label for="edit-homepage--2" class="control-label">Leave this field blank</label>
  
  
  <input autocomplete="off" data-drupal-selector="edit-homepage" class="form-text form-control" type="text" id="edit-homepage--2" name="homepage" value="" size="20" maxlength="128" />

  
  
  </div>
</div>
</form>

  
</div>

  </div>



</article>


  </div>

                          </div>
          </div>
        </section>

                                      <aside class="col-sm-3 sidebar-second main-content-region" role="complementary">
              <div class="inner">
                <div class="inner-inner">
                    <div class="well region-sidebar region region-sidebar-second">
    <section class="views-element-container block block-views block-views-blockevents-block-1 clearfix" id="block-views-block-events-block-1">
  
      <h2 class="block-title">Upcoming Events</h2>
    

      <div class="form-group"><div class="js-view-dom-id-ff08a966e20000eb270df76aef4a8676557b14e03fb1253a859e769d431e839e view">
  
  
  

  
  
  

      <div class="views-row"><div class="views-field views-field-field-event-dates"><div class="field-content"><time datetime="2021-11-17T12:00:00Z">November 17, 2021</time>
</div></div><span class="views-field views-field-title"><span class="field-content"><a href="/node/2088" hreflang="en">State of the Onion 2021</a></span></span><div class="views-field views-field-field-event-description-short"><div class="field-content"></div></div></div>
    <div class="views-row"><div class="views-field views-field-field-event-dates"><div class="field-content"><time datetime="2021-11-19T12:00:00Z">November 19, 2021</time>
</div></div><span class="views-field views-field-title"><span class="field-content"><a href="/node/2077" hreflang="en">Localization Hangout</a></span></span><div class="views-field views-field-field-event-description-short"><div class="field-content"><p>Translators meeting</p>
</div></div></div>

  
  

  
  <div class="more-link form-group"><a href="/events/month">See All Upcoming Events</a></div>


  </div>
</div>

  </section>

<section class="views-element-container block block-views block-views-blockblog-posts-block-1 clearfix" id="block-views-block-blog-posts-block-1">
  
      <h2 class="block-title">Recent Updates</h2>
    

      <div class="form-group"><div class="js-view-dom-id-0000afc5646af6fe1663ff93eccbe058191024d8042c9ff071c7c69b7538f778 view">
  
  
  

  
  
  

      <div class="views-row">
<article role="article" about="/new-release-tor-browser-10510" typeof="schema:Article" class="node node--type-article node--view-mode-listing node--type-article-listing">

  
      <h2 class="title">
      <a href="/new-release-tor-browser-10510" rel="bookmark"><span property="schema:name">New Release: Tor Browser 10.5.10</span>
</a>
    </h2>
      <span property="schema:name" content="New Release: Tor Browser 10.5.10" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:0" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/sysrqb">sysrqb</a> | <span property="schema:dateCreated" content="2021-10-25T17:35:12+00:00">October 25, 2021</span>
          <span property="schema:dateCreated" content="2021-10-25T17:35:12+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>Tor Browser 10.5.10 is now available from the <a href="https://www.torproject.org/download/">Tor Browser download page</a> and also from our <a href="https://www.torproject.org/dist/torbrowser/10.5&lt;/body&gt;&lt;/html&gt;"></a></p></div>
      
  </div>

</article>
</div>
    <div class="views-row">
<article role="article" about="/privacy-is-a-human-right" typeof="schema:Article" class="node node--type-article node--view-mode-listing node--type-article-listing">

  
      <h2 class="title">
      <a href="/privacy-is-a-human-right" rel="bookmark"><span property="schema:name">Privacy is a Human Right</span>
</a>
    </h2>
      <span property="schema:name" content="Privacy is a Human Right" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:20" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/alsmith">alsmith</a> | <span property="schema:dateCreated" content="2021-10-25T16:37:37+00:00">October 25, 2021</span>
          <span property="schema:dateCreated" content="2021-10-25T16:37:37+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>Every year, the 501(c)(3) nonprofit that builds and distributes the technology behind the Tor network and Tor Browser holds a <a href="https://torproject.org/donate/donate-phr-bp1">fundraiser</a> a</p></div>
      
  </div>

</article>
</div>
    <div class="views-row">
<article role="article" about="/first-global-encryption-day" typeof="schema:Article" class="node node--type-article node--view-mode-listing node--type-article-listing">

  
      <h2 class="title">
      <a href="/first-global-encryption-day" rel="bookmark"><span property="schema:name">Global Encryption Day: #MakeTheSwitch</span>
</a>
    </h2>
      <span property="schema:name" content="Global Encryption Day: #MakeTheSwitch" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:0" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/alsmith">alsmith</a> | <span property="schema:dateCreated" content="2021-10-21T16:30:55+00:00">October 21, 2021</span>
          <span property="schema:dateCreated" content="2021-10-21T16:30:55+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>Today, Oct 21, 2021, is the very first <a href="https://ged.globalencryption.org">Global Encryption Day</a>, organized by the <a href="https://www.globalencryption.org/">Global Encryption Coalition</a></p></div>
      
  </div>

</article>
</div>
    <div class="views-row">
<article role="article" about="/new-release-tor-browser-110a9" typeof="schema:Article" class="node node--type-article node--view-mode-listing node--type-article-listing">

  
      <h2 class="title">
      <a href="/new-release-tor-browser-110a9" rel="bookmark"><span property="schema:name">New Release: Tor Browser 11.0a9 (Windows/macOS/Linux)</span>
</a>
    </h2>
      <span property="schema:name" content="New Release: Tor Browser 11.0a9 (Windows/macOS/Linux)" class="hidden"></span>
  <span property="schema:interactionCount" content="UserComments:21" class="hidden"></span>


      <footer class="node__meta">
      
      <div class="node__submitted">
        <span class="author">by <a href="/users/sysrqb">sysrqb</a> | <span property="schema:dateCreated" content="2021-10-16T12:32:30+00:00">October 16, 2021</span>
          <span property="schema:dateCreated" content="2021-10-16T12:32:30+00:00" class="hidden"></span>

      </div>
    </footer>
  
  <div class="node__content">
    
            <div property="schema:text" class="field field--name-body field--type-text-with-summary field--label-hidden field--item"><p>Tor Browser 11.0a9 is now available from the <a href="https://www.torproject.org/download/alpha/">Tor Browser download page</a> and also from our <a href="https://www.torproject.org/dist/torbrowser&lt;/body&gt;&lt;/html&gt;"></a></p></div>
      
  </div>

</article>
</div>

  
  

  
  

  </div>
</div>

  </section>


  </div>

                </div>
              </div>
            </aside>
                        </div>
    </div>
  </div>

      <footer class="footer" role="contentinfo">
      <div class="inner container">
                  <div class="copyright">
            &copy; 2021 The Tor Project
          </div>
                  <div class="region region-footer">
    <nav role="navigation" aria-labelledby="block-tor-bootstrap-footer-menu" id="block-tor-bootstrap-footer">
            
  <h2 class="visually-hidden" id="block-tor-bootstrap-footer-menu">Footer</h2>
  

        
      <ul class="menu menu--footer nav">
                      <li class="menu-item-the-tor-project first">
                                        <a href="https://www.torproject.org/" title="The Tor Project&#039;s Homepage">The Tor Project</a>
              </li>
                      <li class="menu-item-rss">
                                        <a href="/rss.xml" title="Subscribe to The Tor Project&#039;s Blog Feed" data-drupal-link-system-path="rss.xml">RSS</a>
              </li>
                      <li class="menu-item-donate last">
                                        <a href="https://www.torproject.org/donate" title="Donate to the Tor Project">Donate</a>
              </li>
        </ul>
  

  </nav>

  </div>

      </div>
    </footer>
  
  </div>

    
    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/2041","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"bootstrap":{"forms_has_error_value_toggle":1},"ajaxTrustedUrl":{"\/search\/node":true,"\/comment\/reply\/node\/2041\/comment_node_article":true},"editor":{"formats":{"filtered_html":{"format":"filtered_html","editor":"bueditor","editorSettings":{"toolbar":["bold","italic","-","link","-","quote","code","-","ul","ol","-"],"acTags":true,"cname":"bue--basic_html"},"editorSupportsContentFiltering":false,"isXssSafe":true}}},"user":{"uid":0,"permissionsHash":"8a0609ae54f8afd3101fc184a850c7b9014aaeb7b12aeedf89ea513e6903ca99"}}</script>
<script src="/sites/default/files/js/js_uZmy4ajlFgYMbHDQl7VWmi321ZOy72UlYyYi_D8Nz3c.js"></script>
 
    
  </body>
</html>
