<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#584621 - blender: possible symlink attack - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=584621&quot;&gt;584621&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:584621@bugs.debian.org">#584621</a><br>
blender: possible symlink attack</h1>
<div class="versiongraph"><a href="version.cgi?collapse=1;info=1;package=blender;absolute=0;found=blender%2F2.50~alpha~0~svn24834-2;found=blender%2F2.63a-1;found=blender%2F2.71%2Bdfsg0-1"><img alt="version graph" src="version.cgi?found=blender%2F2.50~alpha~0~svn24834-2;found=blender%2F2.63a-1;found=blender%2F2.71%2Bdfsg0-1;width=2;package=blender;absolute=0;height=2;collapse=1"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?package=blender">blender</a>;
Maintainer for <a href="pkgreport.cgi?package=blender">blender</a> is <a href="pkgreport.cgi?maint=debian-multimedia%40lists.debian.org">Debian Multimedia Maintainers &lt;debian-multimedia@lists.debian.org&gt;</a>; Source for <a href="pkgreport.cgi?package=blender">blender</a> is <a href="pkgreport.cgi?src=blender">src:blender</a> (<a href="https://tracker.debian.org/pkg/blender">PTS</a>, <a href="https://buildd.debian.org/blender">buildd</a>, <a href="https://qa.debian.org/popcon.php?package=blender">popcon</a>). </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=pabs%40debian.org">Paul Wise &lt;pabs@debian.org&gt;</a></p>
  <p>Date: Sat,  5 Jun 2010 06:30:02 UTC</p>

<p>Severity: normal</p>
<p>Tags: security</p>

<p>Found in versions blender/2.50~alpha~0~svn24834-2, blender/2.63a-1, blender/2.71+dfsg0-1</p>



<p>Forwarded to <a href="https://projects.blender.org/tracker/index.php?func=detail&amp;aid=22509&amp;group_id=9&amp;atid=498">https://projects.blender.org/tracker/index.php?func=detail&amp;aid=22509&amp;group_id=9&amp;atid=498</a></p>
</div>

<p><a href="mailto:584621@bugs.debian.org">Reply</a> or <a href="mailto:584621-subscribe@bugs.debian.org">subscribe</a> to this bug.</p>
<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=584621;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Cyril Brulebois &lt;kibi@debian.org&gt; -->
<!-- time:1275719405 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Cyril Brulebois &lt;kibi@debian.org&gt;</code>:<br>
<code>Bug#584621</code>; Package <code>blender</code>.
 (Sat, 05 Jun 2010 06:30:05 GMT) (<a href="bugreport.cgi?bug=584621;msg=2">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="3"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1275719405 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>Cyril Brulebois &lt;kibi@debian.org&gt;</code>.
 (Sat, 05 Jun 2010 06:30:05 GMT) (<a href="bugreport.cgi?bug=584621;msg=4">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=5">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=5">mbox</a>, <a href="mailto:584621@bugs.debian.org?References=%3C1275719221.12616.38.camel%40chianamo%3E&amp;subject=Re%3A%20blender%3A%20possible%20symlink%20attack&amp;body=On%20Sat%2C%2005%20Jun%202010%2014%3A27%3A01%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20Package%3A%20blender%0A%3E%20Version%3A%202.50~alpha~0~svn24834-2%0A%3E%20Severity%3A%20normal%0A%3E%20Tags%3A%20security%0A%3E%20Forwarded%3A%20https%3A%2F%2Fprojects.blender.org%2Ftracker%2Findex.php%3Ffunc%3Ddetail%26aid%3D22509%26group_id%3D9%26atid%3D498%0A%3E%20%0A%3E%20Blender%20is%20subject%20to%20symlink%20attack%20when%20the%20user%20closes%20the%20app%0A%3E%20without%20saving%20their%20changes.%20The%20consequences%20are%20that%20an%20attacker%0A%3E%20determined%20file%20owned%20by%20the%20victim%20is%20overwritten%20with%20a%20.blend%20file%2C%0A%3E%20destroying%20whatever%20data%20was%20in%20the%20file%20in%20the%20process.%0A%3E%20%0A%3E%20Version%202.49.2~dfsg-2%20isn%27t%20vulnerable%20to%20this%20attack%20since%20it%20uses%0A%3E%20~%2F.blender%2Fquit.blend%20instead%20of%20%2Ftmp%2Fquit.blend.%20I%20would%20suggest%20this%0A%3E%20behaviour%20be%20restored%20before%20Blender%202.50%20is%20released.%0A%3E%20%0A%3E%20pabs%40chianamo%3A~%24%20sudo%20ln%20-s%20%2Fhome%2Fpabs%2Ffoo%20%2Ftmp%2Fquit.blend%0A%3E%20%5Bsudo%5D%20password%20for%20pabs%3A%20%0A%3E%20pabs%40chianamo%3A~%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20ls%3A%20cannot%20access%20%2Fhome%2Fpabs%2Ffoo%3A%20No%20such%20file%20or%20directory%0A%3E%20lrwxrwxrwx%201%20root%20root%2014%20Jun%20%205%2013%3A51%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20pabs%40chianamo%3A~%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%2Ftmp%2Fquit.blend%3A%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%2Fhome%2Fpabs%2Ffooo%3A%20ERROR%3A%20cannot%20open%20%60%2Fhome%2Fpabs%2Ffoo%27%20%28No%20such%20file%20or%20directory%29%0A%3E%20pabs%40chianamo%3A~%24%20blender%20%0A%3E%20Ob%20%27Camera%27%20-%20Successfully%20removed%200%20keyframes%20%0A%3E%20%2Abpy%20stats%2A%20-%20tot%20exec%3A%205728%2C%20%20tot%20run%3A%200.4375sec%2C%20%20average%20run%3A%200.000076sec%2C%20%20tot%20usage%201.4299%25%0A%3E%20Saved%20session%20recovery%20to%20%2Ftmp%2Fquit.blend%0A%3E%20%0A%3E%20Blender%20quit%0A%3E%20pabs%40chianamo%3A~%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20-rw-r-----%201%20pabs%20pabs%2078K%20Jun%20%205%2013%3A53%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20lrwxrwxrwx%201%20root%20root%20%2014%20Jun%20%205%2013%3A51%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20pabs%40chianamo%3A~%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%2Ftmp%2Fquit.blend%3A%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%2Fhome%2Fpabs%2Ffoo%3A%20%20Blender3D%2C%20saved%20as%2064-bits%20little%20endian%20with%20version%202.50.0007%0A%3E%20pabs%40chianamo%3A~%24%20echo%20foo%20%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20pabs%40chianamo%3A~%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20-rw-r-----%201%20pabs%20pabs%20%204%20Jun%20%205%2014%3A00%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20lrwxrwxrwx%201%20root%20root%2014%20Jun%20%205%2013%3A51%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20pabs%40chianamo%3A~%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%2Ftmp%2Fquit.blend%3A%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%2Fhome%2Fpabs%2Ffoo%3A%20%20ASCII%20text%0A%3E%20pabs%40chianamo%3A~%24%20blender%20%0A%3E%20%2Abpy%20stats%2A%20-%20tot%20exec%3A%20648%2C%20%20tot%20run%3A%200.0677sec%2C%20%20average%20run%3A%200.000104sec%2C%20%20tot%20usage%200.4556%25%0A%3E%20Saved%20session%20recovery%20to%20%2Ftmp%2Fquit.blend%0A%3E%20%0A%3E%20Blender%20quit%0A%3E%20pabs%40chianamo%3A~%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%2Ftmp%2Fquit.blend%3A%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%2Fhome%2Fpabs%2Ffoo%3A%20%20Blender3D%2C%20saved%20as%2064-bits%20little%20endian%20with%20version%202.50.0007%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20http%3A%2F%2Fwiki.debian.org%2FPaulWise%0A&amp;In-Reply-To=%3C1275719221.12616.38.camel%40chianamo%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Debian Bug Tracking System &lt;submit@bugs.debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 05 Jun 2010 14:27:01 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=584621;msg=5">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Package: blender
Version: 2.50~alpha~0~svn24834-2
Severity: normal
Tags: security
Forwarded: <a href="https://projects.blender.org/tracker/index.php?func=detail&amp;aid=22509&amp;group_id=9&amp;atid=498">https://projects.blender.org/tracker/index.php?func=detail&amp;aid=22509&amp;group_id=9&amp;atid=498</a>

Blender is subject to symlink attack when the user closes the app
without saving their changes. The consequences are that an attacker
determined file owned by the victim is overwritten with a .blend file,
destroying whatever data was in the file in the process.

Version 2.49.2~dfsg-2 isn&#39;t vulnerable to this attack since it uses
~/.blender/quit.blend instead of /tmp/quit.blend. I would suggest this
behaviour be restored before Blender 2.50 is released.

pabs@chianamo:~$ sudo ln -s /home/pabs/foo /tmp/quit.blend
[sudo] password for pabs: 
pabs@chianamo:~$ ls -l /tmp/quit.blend /home/pabs/foo
ls: cannot access /home/pabs/foo: No such file or directory
lrwxrwxrwx 1 root root 14 Jun  5 13:51 /tmp/quit.blend -&gt; /home/pabs/foo
pabs@chianamo:~$ file /tmp/quit.blend /home/pabs/foo
/tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
/home/pabs/fooo: ERROR: cannot open `/home/pabs/foo&#39; (No such file or directory)
pabs@chianamo:~$ blender 
Ob &#39;Camera&#39; - Successfully removed 0 keyframes 
*bpy stats* - tot exec: 5728,  tot run: 0.4375sec,  average run: 0.000076sec,  tot usage 1.4299%
Saved session recovery to /tmp/quit.blend

Blender quit
pabs@chianamo:~$ ls -l /tmp/quit.blend /home/pabs/foo
-rw-r----- 1 pabs pabs 78K Jun  5 13:53 /home/pabs/foo
lrwxrwxrwx 1 root root  14 Jun  5 13:51 /tmp/quit.blend -&gt; /home/pabs/foo
pabs@chianamo:~$ file /tmp/quit.blend /home/pabs/foo
/tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
/home/pabs/foo:  Blender3D, saved as 64-bits little endian with version 2.50.0007
pabs@chianamo:~$ echo foo &gt; /home/pabs/foo
pabs@chianamo:~$ ls -l /tmp/quit.blend /home/pabs/foo
-rw-r----- 1 pabs pabs  4 Jun  5 14:00 /home/pabs/foo
lrwxrwxrwx 1 root root 14 Jun  5 13:51 /tmp/quit.blend -&gt; /home/pabs/foo
pabs@chianamo:~$ file /tmp/quit.blend /home/pabs/foo
/tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
/home/pabs/foo:  ASCII text
pabs@chianamo:~$ blender 
*bpy stats* - tot exec: 648,  tot run: 0.0677sec,  average run: 0.000104sec,  tot usage 0.4556%
Saved session recovery to /tmp/quit.blend

Blender quit
pabs@chianamo:~$ file /tmp/quit.blend /home/pabs/foo
/tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
/home/pabs/foo:  Blender3D, saved as 64-bits little endian with version 2.50.0007

-- 
bye,
pabs

<a href="http://wiki.debian.org/PaulWise">http://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=584621;filename=signature.asc;msg=5">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="infmessage"><hr><p>
<a name="6"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org -->
<!-- time:1275731106 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org</code>:<br>
<code>Bug#584621</code>; Package <code>blender</code>.
 (Sat, 05 Jun 2010 09:45:06 GMT) (<a href="bugreport.cgi?bug=584621;msg=7">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="8"></a>
<!-- request_addr: Cyril Brulebois &lt;kibi@debian.org&gt; -->
<!-- time:1275731106 -->
<strong>Acknowledgement sent</strong>
to <code>Cyril Brulebois &lt;kibi@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.
 (Sat, 05 Jun 2010 09:45:06 GMT) (<a href="bugreport.cgi?bug=584621;msg=9">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="10"></a><a name="msg10"></a><a href="#10">Message #10</a> received at 584621@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=10">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=10">mbox</a>, <a href="mailto:584621@bugs.debian.org?References=%3C1275719221.12616.38.camel%40chianamo%3E%0A%20%3C20100605094352.GR3801%40debian.org%3E&amp;body=On%20Sat%2C%205%20Jun%202010%2011%3A43%3A52%20%2B0200%20Cyril%20Brulebois%20%3Ckibi%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Paul.%0A%3E%20%0A%3E%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20%2805%2F06%2F2010%29%3A%0A%3E%20%3E%20Package%3A%20blender%0A%3E%20%3E%20Version%3A%202.50~alpha~0~svn24834-2%0A%3E%20%3E%20Severity%3A%20normal%0A%3E%20%3E%20Tags%3A%20security%0A%3E%20%3E%20Forwarded%3A%20https%3A%2F%2Fprojects.blender.org%2Ftracker%2Findex.php%3Ffunc%3Ddetail%26aid%3D22509%26group_id%3D9%26atid%3D498%0A%3E%20%0A%3E%20Requires%20authentication.%20Yay%20for%20closed%20projects.%0A%3E%20%0A%3E%20%3E%20Blender%20is%20subject%20to%20symlink%20attack%20when%20the%20user%20closes%20the%20app%0A%3E%20%3E%20without%20saving%20their%20changes.%20The%20consequences%20are%20that%20an%20attacker%0A%3E%20%3E%20determined%20file%20owned%20by%20the%20victim%20is%20overwritten%20with%20a%20.blend%0A%3E%20%3E%20file%2C%20destroying%20whatever%20data%20was%20in%20the%20file%20in%20the%20process.%0A%3E%20%3E%20%0A%3E%20%3E%20Version%202.49.2~dfsg-2%20isn%27t%20vulnerable%20to%20this%20attack%20since%20it%20uses%0A%3E%20%3E%20~%2F.blender%2Fquit.blend%20instead%20of%20%2Ftmp%2Fquit.blend.%20I%20would%20suggest%0A%3E%20%3E%20this%20behaviour%20be%20restored%20before%20Blender%202.50%20is%20released.%0A%3E%20%0A%3E%20Known%2C%20see%20NEWS%20file%3A%0A%3E%20%20%20http%3A%2F%2Fgit.debian.org%2F%3Fp%3Dcollab-maint%2Fblender.git%3Ba%3Dblob%3Bf%3Ddebian%2FNEWS%3Bhb%3Dexperimental%0A%3E%20%0A%3E%20Mraw%2C%0A%3E%20KiBi.%0A&amp;subject=Re%3A%20Bug%23584621%3A%20blender%3A%20possible%20symlink%20attack&amp;In-Reply-To=%3C20100605094352.GR3801%40debian.org%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=kibi%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Cyril Brulebois &lt;kibi@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Paul Wise &lt;pabs@debian.org&gt;, 584621@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#584621: blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 5 Jun 2010 11:43:52 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=584621;msg=10">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Paul.

Paul Wise &lt;pabs@debian.org&gt; (05/06/2010):
&gt; Package: blender
&gt; Version: 2.50~alpha~0~svn24834-2
&gt; Severity: normal
&gt; Tags: security
&gt; Forwarded: <a href="https://projects.blender.org/tracker/index.php?func=detail&amp;aid=22509&amp;group_id=9&amp;atid=498">https://projects.blender.org/tracker/index.php?func=detail&amp;aid=22509&amp;group_id=9&amp;atid=498</a>

Requires authentication. Yay for closed projects.

&gt; Blender is subject to symlink attack when the user closes the app
&gt; without saving their changes. The consequences are that an attacker
&gt; determined file owned by the victim is overwritten with a .blend
&gt; file, destroying whatever data was in the file in the process.
&gt; 
&gt; Version 2.49.2~dfsg-2 isn&#39;t vulnerable to this attack since it uses
&gt; ~/.blender/quit.blend instead of /tmp/quit.blend. I would suggest
&gt; this behaviour be restored before Blender 2.50 is released.

Known, see NEWS file:
  <a href="http://git.debian.org/?p=collab-maint/blender.git;a=blob;f=debian/NEWS;hb=experimental">http://git.debian.org/?p=collab-maint/blender.git;a=blob;f=debian/NEWS;hb=experimental</a>

Mraw,
KiBi.
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=584621;filename=signature.asc;msg=10">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="11"></a>
<!-- request_addr: &quot;Matteo F. Vescovi&quot; &lt;mfv.debian@gmail.com&gt; -->
<!-- time:1325764263 -->
<strong>Reply sent</strong>
to <code>&quot;Matteo F. Vescovi&quot; &lt;mfv.debian@gmail.com&gt;</code>:<br>
You have taken responsibility.
 (Thu, 05 Jan 2012 11:51:03 GMT) (<a href="bugreport.cgi?bug=584621;msg=12">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=12">mbox</a>, <a href="#11">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="13"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1325764272 -->
<strong>Notification sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Thu, 05 Jan 2012 11:51:12 GMT) (<a href="bugreport.cgi?bug=584621;msg=14">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=14">mbox</a>, <a href="#13">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="15"></a><a name="msg15"></a><a href="#15">Message #15</a> received at 584621-done@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=15">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=15">mbox</a>, <a href="mailto:584621@bugs.debian.org?subject=Re%3A%20blender%3A%20possible%20symlink%20attack&amp;body=On%20Thu%2C%2005%20Jan%202012%2012%3A48%3A51%20%2B0100%20%22Matteo%20F.%20Vescovi%22%20%3Cmfv.debian%40gmail.com%3E%20wrote%3A%0A%3E%20Package%3A%20blender%0A%3E%20Version%3A%202.61-1%0A%3E%20%0A%3E%20Closing.%0A%3E%20Feel%20free%20to%20re-open%20the%20report%20if%20the%20issue%20persists.%0A%3E%20%0A%3E%20Thanks%20for%20your%20time%20and%20efforts.%0A%3E%20%0A%3E%20--%20%0A%3E%20Matteo%20F.%20Vescovi%0A%3E%20Debian%20Sponsored%20Maintainer%0A%3E%20e-mail%3A%20mfv.debian%40gmail.com%0A%3E%20GnuPG%20KeyID%3A%201E9C4467%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C4F058E23.4000401%40gmail.com%3E&amp;References=%3C4F058E23.4000401%40gmail.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=mfv.debian%40gmail.com" alt="">
<div class="header"><span class="headerfield">From:</span> &quot;Matteo F. Vescovi&quot; &lt;mfv.debian@gmail.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 584621-done@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 05 Jan 2012 12:48:51 +0100</div>
</div>
<pre class="message flowed">Package: blender
Version: 2.61-1

Closing.
Feel free to re-open the report if the issue persists.

Thanks for your time and efforts.

-- 
Matteo F. Vescovi
Debian Sponsored Maintainer
e-mail: mfv.debian@gmail.com
GnuPG KeyID: 1E9C4467



</pre>

<div class="msgreceived"><hr><p>
<a name="16"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1328686562 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Wed, 08 Feb 2012 07:36:02 GMT) (<a href="bugreport.cgi?bug=584621;msg=17">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=17">mbox</a>, <a href="#16">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="18"></a>
<!-- command:unarchive -->
<!-- requester: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1346853245 -->
<!-- new_data:
$new_data = {
              &#39;unarchived&#39; =&gt; &#39;1346853245&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;unarchived&#39; =&gt; &#39;&#39;
            };
-->
<strong>Bug unarchived.</strong>
Request was from <code>Paul Wise &lt;pabs@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Wed, 05 Sep 2012 13:54:05 GMT) (<a href="bugreport.cgi?bug=584621;msg=19">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=19">mbox</a>, <a href="#18">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="20"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt; -->
<!-- time:1346855229 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#584621</code>; Package <code>blender</code>.
 (Wed, 05 Sep 2012 14:27:09 GMT) (<a href="bugreport.cgi?bug=584621;msg=21">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=21">mbox</a>, <a href="#20">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="22"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1346855229 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>.
 (Wed, 05 Sep 2012 14:27:09 GMT) (<a href="bugreport.cgi?bug=584621;msg=23">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=23">mbox</a>, <a href="#22">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="24"></a><a name="msg24"></a><a href="#24">Message #24</a> received at 584621@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=24">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=24">mbox</a>, <a href="mailto:584621@bugs.debian.org?References=%3C4F058E23.4000401%40gmail.com%3E%0A%20%3C1346855038.11769.20.camel%40chianamo%3E&amp;In-Reply-To=%3C1346855038.11769.20.camel%40chianamo%3E&amp;subject=Re%3A%20blender%3A%20possible%20symlink%20attack&amp;body=On%20Wed%2C%2005%20Sep%202012%2022%3A23%3A58%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20Control%3A%20reopen%20-1%0A%3E%20Control%3A%20found%20-1%202.63a-1%0A%3E%20%0A%3E%20On%20Thu%2C%202012-01-05%20at%2012%3A48%20%2B0100%2C%20Matteo%20F.%20Vescovi%20wrote%3A%0A%3E%20%0A%3E%20%3E%20Version%3A%202.61-1%0A%3E%20%3E%20%0A%3E%20%3E%20Closing.%0A%3E%20%3E%20Feel%20free%20to%20re-open%20the%20report%20if%20the%20issue%20persists.%0A%3E%20%3E%20%0A%3E%20%3E%20Thanks%20for%20your%20time%20and%20efforts.%0A%3E%20%0A%3E%20Sorry%20I%20didn%27t%20notice%20this%20bug%20closing%2C%20but%20did%20you%20check%20that%20this%0A%3E%20problem%20was%20fixed%3F%20It%20certainly%20is%20not%20fixed%20on%20wheezy%20%28see%20below%29.%0A%3E%20%0A%3E%20This%20bug%20has%20occurred%20and%20been%20fixed%20before%20%28%23298167%29%20and%20it%20is%20a%20bit%0A%3E%20disappointing%20that%20it%20was%20fixed%20in%202.37a-1%20and%20then%20again%20by%20a%20different%0A%3E%20maintainer%20and%20the%20maintainer%20after%20that%20didn%27t%20preserve%20those%20fixes.%0A%3E%20Security%20team%2C%20can%20we%20get%20a%20CVE%20assigned%20for%20this%3F%20Perhaps%20that%20would%0A%3E%20get%20people%20to%20fix%20it%20for%20good.%20The%20consequences%20are%20arbitrary%20file%0A%3E%20creation%20or%20overwrite%20on%20a%20multi-user%20system%3A%0A%3E%20%0A%3E%20pabs%40chianamo%20~%20%24%20dpkg%20-l%20blender%20%0A%3E%20Desired%3DUnknown%2FInstall%2FRemove%2FPurge%2FHold%0A%3E%20%7C%20Status%3DNot%2FInst%2FConf-files%2FUnpacked%2FhalF-conf%2FHalf-inst%2Ftrig-aWait%2FTrig-pend%0A%3E%20%7C%2F%20Err%3F%3D%28none%29%2FReinst-required%20%28Status%2CErr%3A%20uppercase%3Dbad%29%0A%3E%20%7C%7C%2F%20Name%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Version%20%20%20%20%20%20%20%20%20%20%20%20%20Architecture%20%20%20%20%20%20%20%20Description%0A%3E%20%2B%2B%2B-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%3E%20ii%20%20blender%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%202.63a-1%20%20%20%20%20%20%20%20%20%20%20%20%20amd64%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Very%20fast%20and%20versatile%203D%20modeller%2Frenderer%0A%3E%20pabs%40chianamo%20~%20%24%20sudo%20ln%20-s%20%2Fhome%2Fpabs%2Ffoo%20%2Ftmp%2Fquit.blend%0A%3E%20pabs%40chianamo%20~%20%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20ls%3A%20cannot%20access%20%2Fhome%2Fpabs%2Ffoo%3A%20No%20such%20file%20or%20directory%0A%3E%20lrwxrwxrwx%201%20root%20root%2014%20Sep%20%205%2022%3A01%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20pabs%40chianamo%20~%20%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%2Ftmp%2Fquit.blend%3A%20broken%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%2Fhome%2Fpabs%2Ffoo%3A%20%20ERROR%3A%20cannot%20open%20%60%2Fhome%2Fpabs%2Ffoo%27%20%28No%20such%20file%20or%20directory%29%0A%3E%20pabs%40chianamo%20~%20%24%20blender%20%0A%3E%20%0A%3E%20Blender%20quit%0A%3E%20pabs%40chianamo%20~%20%24%20blender%20%0A%3E%20Saved%20session%20recovery%20to%20%2Ftmp%2Fquit.blend%0A%3E%20%0A%3E%20Blender%20quit%0A%3E%20pabs%40chianamo%20~%20%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20-rw-r-----%201%20pabs%20pabs%20170K%20Sep%20%205%2022%3A02%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20lrwxrwxrwx%201%20root%20root%20%20%2014%20Sep%20%205%2022%3A01%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20pabs%40chianamo%20~%20%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%2Ftmp%2Fquit.blend%3A%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%2Fhome%2Fpabs%2Ffoo%3A%20%20Blender3D%2C%20saved%20as%2064-bits%20little%20endian%20with%20version%202.63%0A%3E%20pabs%40chianamo%20~%20%24%20echo%20foo%20%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20pabs%40chianamo%20~%20%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20-rw-r-----%201%20pabs%20pabs%20%204%20Sep%20%205%2022%3A03%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20lrwxrwxrwx%201%20root%20root%2014%20Sep%20%205%2022%3A01%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20pabs%40chianamo%20~%20%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%2Ftmp%2Fquit.blend%3A%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%2Fhome%2Fpabs%2Ffoo%3A%20%20ASCII%20text%0A%3E%20pabs%40chianamo%20~%20%24%20blender%20%0A%3E%20Saved%20session%20recovery%20to%20%2Ftmp%2Fquit.blend%0A%3E%20%0A%3E%20Blender%20quit%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> &quot;Matteo F. Vescovi&quot; &lt;mfv.debian@gmail.com&gt;</div>
<div class="header"><span class="headerfield">Cc:</span> 584621@bugs.debian.org, Debian Security &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 05 Sep 2012 22:23:58 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=584621;msg=24">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Control: reopen -1
Control: found -1 2.63a-1

On Thu, 2012-01-05 at 12:48 +0100, Matteo F. Vescovi wrote:

&gt; Version: 2.61-1
&gt; 
&gt; Closing.
&gt; Feel free to re-open the report if the issue persists.
&gt; 
&gt; Thanks for your time and efforts.

Sorry I didn&#39;t notice this bug closing, but did you check that this
problem was fixed? It certainly is not fixed on wheezy (see below).

This bug has occurred and been fixed before (#298167) and it is a bit
disappointing that it was fixed in 2.37a-1 and then again by a different
maintainer and the maintainer after that didn&#39;t preserve those fixes.
Security team, can we get a CVE assigned for this? Perhaps that would
get people to fix it for good. The consequences are arbitrary file
creation or overwrite on a multi-user system:

pabs@chianamo ~ $ dpkg -l blender 
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                          Version             Architecture        Description
+++-=============================-===================-===================-===============================================================
ii  blender                       2.63a-1             amd64               Very fast and versatile 3D modeller/renderer
pabs@chianamo ~ $ sudo ln -s /home/pabs/foo /tmp/quit.blend
pabs@chianamo ~ $ ls -l /tmp/quit.blend /home/pabs/foo
ls: cannot access /home/pabs/foo: No such file or directory
lrwxrwxrwx 1 root root 14 Sep  5 22:01 /tmp/quit.blend -&gt; /home/pabs/foo
pabs@chianamo ~ $ file /tmp/quit.blend /home/pabs/foo
/tmp/quit.blend: broken symbolic link to `/home/pabs/foo&#39;
/home/pabs/foo:  ERROR: cannot open `/home/pabs/foo&#39; (No such file or directory)
pabs@chianamo ~ $ blender 

Blender quit
pabs@chianamo ~ $ blender 
Saved session recovery to /tmp/quit.blend

Blender quit
pabs@chianamo ~ $ ls -l /tmp/quit.blend /home/pabs/foo
-rw-r----- 1 pabs pabs 170K Sep  5 22:02 /home/pabs/foo
lrwxrwxrwx 1 root root   14 Sep  5 22:01 /tmp/quit.blend -&gt; /home/pabs/foo
pabs@chianamo ~ $ file /tmp/quit.blend /home/pabs/foo
/tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
/home/pabs/foo:  Blender3D, saved as 64-bits little endian with version 2.63
pabs@chianamo ~ $ echo foo &gt; /home/pabs/foo
pabs@chianamo ~ $ ls -l /tmp/quit.blend /home/pabs/foo
-rw-r----- 1 pabs pabs  4 Sep  5 22:03 /home/pabs/foo
lrwxrwxrwx 1 root root 14 Sep  5 22:01 /tmp/quit.blend -&gt; /home/pabs/foo
pabs@chianamo ~ $ file /tmp/quit.blend /home/pabs/foo
/tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
/home/pabs/foo:  ASCII text
pabs@chianamo ~ $ blender 
Saved session recovery to /tmp/quit.blend

Blender quit
pabs@chianamo ~ $ file /tmp/quit.blend /home/pabs/foo
/tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
/home/pabs/foo:  Blender3D, saved as 64-bits little endian with version 2.63

-- 
bye,
pabs

<a href="http://wiki.debian.org/PaulWise">http://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=584621;filename=signature.asc;msg=24">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="25"></a>
<!-- command:done -->
<!-- requester: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- request_addr: 584621-submit@bugs.debian.org -->
<!-- time:1346855229 -->
<!-- new_data:
$new_data = {
              &#39;done&#39; =&gt; &#39;&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;done&#39; =&gt; &#39;&quot;Matteo F. Vescovi&quot; &lt;mfv.debian@gmail.com&gt;&#39;
            };
-->
<strong>Bug reopened</strong>
Request was from <code>Paul Wise &lt;pabs@debian.org&gt;</code>
to <code>584621-submit@bugs.debian.org</code>.
 (Wed, 05 Sep 2012 14:27:09 GMT) (<a href="bugreport.cgi?bug=584621;msg=26">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=26">mbox</a>, <a href="#25">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="27"></a>
<!-- command:fixed -->
<!-- requester: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- request_addr: 584621-submit@bugs.debian.org -->
<!-- time:1346855229 -->
<!-- new_data:
$new_data = {
              &#39;fixed_versions&#39; =&gt; []
            };
-->
<!-- old_data:
$old_data = {
              &#39;fixed_versions&#39; =&gt; [
                                    &#39;blender/2.61-1&#39;
                                  ]
            };
-->
<strong>No longer marked as fixed in versions blender/2.61-1.</strong>
Request was from <code>Paul Wise &lt;pabs@debian.org&gt;</code>
to <code>584621-submit@bugs.debian.org</code>.
 (Wed, 05 Sep 2012 14:27:09 GMT) (<a href="bugreport.cgi?bug=584621;msg=28">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=28">mbox</a>, <a href="#27">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="29"></a>
<!-- command:found -->
<!-- requester: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- request_addr: 584621-submit@bugs.debian.org -->
<!-- time:1346855229 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;blender/2.50~alpha~0~svn24834-2&#39;,
                                    &#39;blender/2.63a-1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;blender/2.50~alpha~0~svn24834-2&#39;
                                  ]
            };
-->
<strong>Marked as found in versions blender/2.63a-1.</strong>
Request was from <code>Paul Wise &lt;pabs@debian.org&gt;</code>
to <code>584621-submit@bugs.debian.org</code>.
 (Wed, 05 Sep 2012 14:27:09 GMT) (<a href="bugreport.cgi?bug=584621;msg=30">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=30">mbox</a>, <a href="#29">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="31"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt; -->
<!-- time:1346927226 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#584621</code>; Package <code>blender</code>.
 (Thu, 06 Sep 2012 10:27:06 GMT) (<a href="bugreport.cgi?bug=584621;msg=32">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=32">mbox</a>, <a href="#31">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="33"></a>
<!-- request_addr: Kevin Roy &lt;kiniou@gmail.com&gt; -->
<!-- time:1346927226 -->
<strong>Acknowledgement sent</strong>
to <code>Kevin Roy &lt;kiniou@gmail.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>.
 (Thu, 06 Sep 2012 10:27:06 GMT) (<a href="bugreport.cgi?bug=584621;msg=34">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=34">mbox</a>, <a href="#33">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="35"></a><a name="msg35"></a><a href="#35">Message #35</a> received at 584621@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=35">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=35">mbox</a>, <a href="mailto:584621@bugs.debian.org?In-Reply-To=%3CCAFinJk04vNDzU7xNDiAWkD3qMkhs8kzq6znk-o8o-9eDzEHNFQ%40mail.gmail.com%3E&amp;body=On%20Thu%2C%206%20Sep%202012%2012%3A24%3A13%20%2B0200%20Kevin%20Roy%20%3Ckiniou%40gmail.com%3E%20wrote%3A%0A%3E%20Hi%20Paul%2C%0A%3E%20%0A%3E%20On%205%20September%202012%2016%3A23%2C%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20%3E%20Sorry%20I%20didn%27t%20notice%20this%20bug%20closing%2C%20but%20did%20you%20check%20that%20this%0A%3E%20%3E%20problem%20was%20fixed%3F%20It%20certainly%20is%20not%20fixed%20on%20wheezy%20%28see%20below%29.%0A%3E%20%0A%3E%20At%20the%20time%20of%20triaging%20this%20bug%2C%20I%20did%20a%20test%20and%20the%20bug%20did%20appear%20to%20me.%0A%3E%20But%20now%20I%20realize%20that%20it%20isn%27t%20fixed%20as%20I%20didn%27t%20understood%20the%0A%3E%20process%20to%20reproduce%20it%20%28ie.%20I%20didn%27t%20create%20the%20symbolic%20link%0A%3E%20%2Abefore%2A%20running%20blender%29%0A%3E%20%0A%3E%20%3E%20This%20bug%20has%20occurred%20and%20been%20fixed%20before%20%28%23298167%29%20and%20it%20is%20a%20bit%0A%3E%20%3E%20disappointing%20that%20it%20was%20fixed%20in%202.37a-1%20and%20then%20again%20by%20a%20different%0A%3E%20%3E%20maintainer%20and%20the%20maintainer%20after%20that%20didn%27t%20preserve%20those%20fixes.%0A%3E%20%0A%3E%20As%20far%20as%20i%20remember%20it%20as%20been%20dropped%20on%202.50-alpha%20because%20the%0A%3E%20debian%20patch%20was%20a%20bit%20hacky%20%3A%0A%3E%20%20-%20the%20blender%20executable%20was%20wrapped%20by%20a%20script%20that%20checked%0A%3E%20~%2F.blender%20directory%20existence%20and%20created%20this%20directory%20otherwise.%0A%3E%20%20-%20there%20was%20also%20a%20debian%20patch%20that%20made%20blender%20save%20the%20quit.blend%0A%3E%20in%20the%20~%2F.blender%20directory.%0A%3E%20I%27ve%20spent%20some%20time%20and%20try%20to%20produce%20a%20decent%20patch%20without%20result%0A%3E%20and%20as%20i%20didn%27t%20manage%20to%20reproduce%20the%20bug%2C%20i%20didn%27t%20try%20further%20%28my%0A%3E%20bad%20%3A-%28%20%29.%0A%3E%20%0A%3E%20%3E%20Security%20team%2C%20can%20we%20get%20a%20CVE%20assigned%20for%20this%3F%20Perhaps%20that%20would%0A%3E%20%3E%20get%20people%20to%20fix%20it%20for%20good.%20The%20consequences%20are%20arbitrary%20file%0A%3E%20%3E%20creation%20or%20overwrite%20on%20a%20multi-user%20system%3A%0A%3E%20%3E%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20dpkg%20-l%20blender%0A%3E%20%3E%20Desired%3DUnknown%2FInstall%2FRemove%2FPurge%2FHold%0A%3E%20%3E%20%7C%20Status%3DNot%2FInst%2FConf-files%2FUnpacked%2FhalF-conf%2FHalf-inst%2Ftrig-aWait%2FTrig-pend%0A%3E%20%3E%20%7C%2F%20Err%3F%3D%28none%29%2FReinst-required%20%28Status%2CErr%3A%20uppercase%3Dbad%29%0A%3E%20%3E%20%7C%7C%2F%20Name%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Version%20%20%20%20%20%20%20%20%20%20%20%20%20Architecture%20%20%20%20%20%20%20%20Description%0A%3E%20%3E%20%2B%2B%2B-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D-%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%3E%20%3E%20ii%20%20blender%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%202.63a-1%20%20%20%20%20%20%20%20%20%20%20%20%20amd64%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Very%20fast%20and%20versatile%203D%20modeller%2Frenderer%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20sudo%20ln%20-s%20%2Fhome%2Fpabs%2Ffoo%20%2Ftmp%2Fquit.blend%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20ls%3A%20cannot%20access%20%2Fhome%2Fpabs%2Ffoo%3A%20No%20such%20file%20or%20directory%0A%3E%20%3E%20lrwxrwxrwx%201%20root%20root%2014%20Sep%20%205%2022%3A01%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20%2Ftmp%2Fquit.blend%3A%20broken%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%3E%20%2Fhome%2Fpabs%2Ffoo%3A%20%20ERROR%3A%20cannot%20open%20%60%2Fhome%2Fpabs%2Ffoo%27%20%28No%20such%20file%20or%20directory%29%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20blender%0A%3E%20%3E%0A%3E%20%3E%20Blender%20quit%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20blender%0A%3E%20%3E%20Saved%20session%20recovery%20to%20%2Ftmp%2Fquit.blend%0A%3E%20%3E%0A%3E%20%3E%20Blender%20quit%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20-rw-r-----%201%20pabs%20pabs%20170K%20Sep%20%205%2022%3A02%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20lrwxrwxrwx%201%20root%20root%20%20%2014%20Sep%20%205%2022%3A01%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20file%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20%2Ftmp%2Fquit.blend%3A%20symbolic%20link%20to%20%60%2Fhome%2Fpabs%2Ffoo%27%0A%3E%20%3E%20%2Fhome%2Fpabs%2Ffoo%3A%20%20Blender3D%2C%20saved%20as%2064-bits%20little%20endian%20with%20version%202.63%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20echo%20foo%20%3E%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20pabs%40chianamo%20~%20%24%20ls%20-l%20%2Ftmp%2Fquit.blend%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20-rw-r-----%201%20pabs%20pabs%20%204%20Sep%20%205%2022%3A03%20%2Fhome%2Fpabs%2Ffoo%0A%3E%20%3E%20lrwxrwxrwx%201%20root%20root%2014%20Sep%20%205%2022%3A01%20%2Ftmp%2Fquit.blend%20-%3E%20%2Fhome%2Fpabs%2Ffoo%0A&amp;subject=Re%3A%20Bug%23584621%3A%20blender%3A%20possible%20symlink%20attack&amp;References=%3C4F058E23.4000401%40gmail.com%3E%0A%09%3C1346855038.11769.20.camel%40chianamo%3E%0A%20%3CCAFinJk04vNDzU7xNDiAWkD3qMkhs8kzq6znk-o8o-9eDzEHNFQ%40mail.gmail.com%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=kiniou%40gmail.com" alt="">
<div class="header"><span class="headerfield">From:</span> Kevin Roy &lt;kiniou@gmail.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> Paul Wise &lt;pabs@debian.org&gt;, 584621@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> &quot;Matteo F. Vescovi&quot; &lt;mfv.debian@gmail.com&gt;, Debian Security &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#584621: blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Thu, 6 Sep 2012 12:24:13 +0200</div>
</div>
<pre class="message">Hi Paul,

On 5 September 2012 16:23, Paul Wise &lt;pabs@debian.org&gt; wrote:
&gt; Sorry I didn&#39;t notice this bug closing, but did you check that this
&gt; problem was fixed? It certainly is not fixed on wheezy (see below).

At the time of triaging this bug, I did a test and the bug did appear to me.
But now I realize that it isn&#39;t fixed as I didn&#39;t understood the
process to reproduce it (ie. I didn&#39;t create the symbolic link
*before* running blender)

&gt; This bug has occurred and been fixed before (#298167) and it is a bit
&gt; disappointing that it was fixed in 2.37a-1 and then again by a different
&gt; maintainer and the maintainer after that didn&#39;t preserve those fixes.

As far as i remember it as been dropped on 2.50-alpha because the
debian patch was a bit hacky :
 - the blender executable was wrapped by a script that checked
~/.blender directory existence and created this directory otherwise.
 - there was also a debian patch that made blender save the quit.blend
in the ~/.blender directory.
I&#39;ve spent some time and try to produce a decent patch without result
and as i didn&#39;t manage to reproduce the bug, i didn&#39;t try further (my
bad :-( ).

&gt; Security team, can we get a CVE assigned for this? Perhaps that would
&gt; get people to fix it for good. The consequences are arbitrary file
&gt; creation or overwrite on a multi-user system:
&gt;
&gt; pabs@chianamo ~ $ dpkg -l blender
&gt; Desired=Unknown/Install/Remove/Purge/Hold
&gt; | Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
&gt; |/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
&gt; ||/ Name                          Version             Architecture        Description
&gt; +++-=============================-===================-===================-===============================================================
&gt; ii  blender                       2.63a-1             amd64               Very fast and versatile 3D modeller/renderer
&gt; pabs@chianamo ~ $ sudo ln -s /home/pabs/foo /tmp/quit.blend
&gt; pabs@chianamo ~ $ ls -l /tmp/quit.blend /home/pabs/foo
&gt; ls: cannot access /home/pabs/foo: No such file or directory
&gt; lrwxrwxrwx 1 root root 14 Sep  5 22:01 /tmp/quit.blend -&gt; /home/pabs/foo
&gt; pabs@chianamo ~ $ file /tmp/quit.blend /home/pabs/foo
&gt; /tmp/quit.blend: broken symbolic link to `/home/pabs/foo&#39;
&gt; /home/pabs/foo:  ERROR: cannot open `/home/pabs/foo&#39; (No such file or directory)
&gt; pabs@chianamo ~ $ blender
&gt;
&gt; Blender quit
&gt; pabs@chianamo ~ $ blender
&gt; Saved session recovery to /tmp/quit.blend
&gt;
&gt; Blender quit
&gt; pabs@chianamo ~ $ ls -l /tmp/quit.blend /home/pabs/foo
&gt; -rw-r----- 1 pabs pabs 170K Sep  5 22:02 /home/pabs/foo
&gt; lrwxrwxrwx 1 root root   14 Sep  5 22:01 /tmp/quit.blend -&gt; /home/pabs/foo
&gt; pabs@chianamo ~ $ file /tmp/quit.blend /home/pabs/foo
&gt; /tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
&gt; /home/pabs/foo:  Blender3D, saved as 64-bits little endian with version 2.63
&gt; pabs@chianamo ~ $ echo foo &gt; /home/pabs/foo
&gt; pabs@chianamo ~ $ ls -l /tmp/quit.blend /home/pabs/foo
&gt; -rw-r----- 1 pabs pabs  4 Sep  5 22:03 /home/pabs/foo
&gt; lrwxrwxrwx 1 root root 14 Sep  5 22:01 /tmp/quit.blend -&gt; /home/pabs/foo
&gt; pabs@chianamo ~ $ file /tmp/quit.blend /home/pabs/foo
&gt; /tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
&gt; /home/pabs/foo:  ASCII text
&gt; pabs@chianamo ~ $ blender
&gt; Saved session recovery to /tmp/quit.blend
&gt;
&gt; Blender quit
&gt; pabs@chianamo ~ $ file /tmp/quit.blend /home/pabs/foo
&gt; /tmp/quit.blend: symbolic link to `/home/pabs/foo&#39;
&gt; /home/pabs/foo:  Blender3D, saved as 64-bits little endian with version 2.63
&gt;

--
Kevin Roy
blog.knokorpo.fr


</pre>

<div class="msgreceived"><hr><p>
<a name="36"></a>
<!-- request_addr: &quot;Matteo F. Vescovi&quot; &lt;mfvescovi@gmail.com&gt; -->
<!-- time:1407247571 -->
<strong>Reply sent</strong>
to <code>&quot;Matteo F. Vescovi&quot; &lt;mfvescovi@gmail.com&gt;</code>:<br>
You have taken responsibility.
 (Tue, 05 Aug 2014 14:06:11 GMT) (<a href="bugreport.cgi?bug=584621;msg=37">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=37">mbox</a>, <a href="#36">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="38"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1407247572 -->
<strong>Notification sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Tue, 05 Aug 2014 14:06:12 GMT) (<a href="bugreport.cgi?bug=584621;msg=39">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=39">mbox</a>, <a href="#38">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="40"></a><a name="msg40"></a><a href="#40">Message #40</a> received at 584621-done@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=40">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=40">mbox</a>, <a href="mailto:584621@bugs.debian.org?References=%3C20140805140229.GA5424%40nx6125.studiovescovi.eu%3E&amp;body=On%20Tue%2C%205%20Aug%202014%2016%3A02%3A29%20%2B0200%20%22Matteo%20F.%20Vescovi%22%20%3Cmfvescovi%40gmail.com%3E%20wrote%3A%0A%3E%20Package%3A%20blender%0A%3E%20Version%3A%202.71%2Bdfsg0-1%0A%3E%20Followup-For%3A%20Bug%20%23584621%0A%3E%20%0A%3E%20Today%20I%27ve%20contacted%20upstream%20developers%20%28via%20IRC%20channel%20on%20Freenode%29%0A%3E%20and%20asked%20about%20this%20long-lasting%20security%20bug.%0A%3E%20%0A%3E%20They%20pointed%20me%20to%3A%0A%3E%20%0A%3E%20%20%20https%3A%2F%2Fdeveloper.blender.org%2FrB367722470aa2eada43614cd558f468b4beea851d%0A%3E%20%0A%3E%20where%20it%27s%20clear%20that%20the%20issue%20has%20been%20fixed%20with%20that%20commit.%0A%3E%20%0A%3E%20So%2C%20I%27m%20%28finally%29%20closing%20this%20bug%20report.%0A%3E%20%0A%3E%20Cheers.%0A%3E%20%0A%3E%20%0A%3E%20--%20%0A%3E%20Matteo%20F.%20Vescovi%20%7C%20Debian%20Maintainer%0A%3E%20GnuPG%20KeyID%3A%204096R%2F0x8062398983B2CF7A%0A&amp;subject=Re%3A%20blender%3A%20possible%20symlink%20attack&amp;In-Reply-To=%3C20140805140229.GA5424%40nx6125.studiovescovi.eu%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=mfvescovi%40gmail.com" alt="">
<div class="header"><span class="headerfield">From:</span> &quot;Matteo F. Vescovi&quot; &lt;mfvescovi@gmail.com&gt;</div>
<div class="header"><span class="headerfield">To:</span> 584621-submitter@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Bug Tracking System &lt;584621-done@bugs.debian.org&gt;,
	Debian Security &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 5 Aug 2014 16:02:29 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=584621;msg=40">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Package: blender
Version: 2.71+dfsg0-1
Followup-For: Bug #584621

Today I&#39;ve contacted upstream developers (via IRC channel on Freenode)
and asked about this long-lasting security bug.

They pointed me to:

  <a href="https://developer.blender.org/rB367722470aa2eada43614cd558f468b4beea851d">https://developer.blender.org/rB367722470aa2eada43614cd558f468b4beea851d</a>

where it&#39;s clear that the issue has been fixed with that commit.

So, I&#39;m (finally) closing this bug report.

Cheers.


-- 
Matteo F. Vescovi | Debian Maintainer
GnuPG KeyID: 4096R/0x8062398983B2CF7A
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=584621;filename=signature.asc;msg=40">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="41"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1407247575 -->
<strong>Message sent on</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Bug#584621.
 (Tue, 05 Aug 2014 14:06:15 GMT) (<a href="bugreport.cgi?bug=584621;msg=42">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=42">mbox</a>, <a href="#41">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="44"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt; -->
<!-- time:1407252425 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#584621</code>; Package <code>blender</code>.
 (Tue, 05 Aug 2014 15:27:05 GMT) (<a href="bugreport.cgi?bug=584621;msg=45">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=45">mbox</a>, <a href="#44">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="46"></a>
<!-- request_addr: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- time:1407252425 -->
<strong>Acknowledgement sent</strong>
to <code>Paul Wise &lt;pabs@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>.
 (Tue, 05 Aug 2014 15:27:05 GMT) (<a href="bugreport.cgi?bug=584621;msg=47">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=47">mbox</a>, <a href="#46">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="48"></a><a name="msg48"></a><a href="#48">Message #48</a> received at 584621@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=48">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=48">mbox</a>, <a href="mailto:584621@bugs.debian.org?In-Reply-To=%3C1407252134.21875.6.camel%40chianamo%3E&amp;body=On%20Tue%2C%2005%20Aug%202014%2023%3A22%3A14%20%2B0800%20Paul%20Wise%20%3Cpabs%40debian.org%3E%20wrote%3A%0A%3E%20Control%3A%20reopen%20-1%0A%3E%20%0A%3E%20On%20Tue%2C%202014-08-05%20at%2016%3A02%20%2B0200%2C%20Matteo%20F.%20Vescovi%20wrote%3A%0A%3E%20%0A%3E%20%3E%20Today%20I%27ve%20contacted%20upstream%20developers%20%28via%20IRC%20channel%20on%20Freenode%29%0A%3E%20%3E%20and%20asked%20about%20this%20long-lasting%20security%20bug.%0A%3E%20%3E%20%0A%3E%20%3E%20They%20pointed%20me%20to%3A%0A%3E%20%3E%20%0A%3E%20%3E%20%20%20https%3A%2F%2Fdeveloper.blender.org%2FrB367722470aa2eada43614cd558f468b4beea851d%0A%3E%20%3E%20%0A%3E%20%3E%20where%20it%27s%20clear%20that%20the%20issue%20has%20been%20fixed%20with%20that%20commit.%0A%3E%20%3E%20%0A%3E%20%3E%20So%2C%20I%27m%20%28finally%29%20closing%20this%20bug%20report.%0A%3E%20%0A%3E%20I%27m%20sorry%20but%20this%20does%20not%20resolve%20the%20issue%2C%20it%20simply%20turns%20the%0A%3E%20results%20from%20an%20arbitrary%20file%20overwrite%20to%20a%20denial%20of%20service%20%28prevent%0A%3E%20other%20users%20from%20autosaving%29.%0A%3E%20%0A%3E%20Saving%20in%20%2Ftmp%20at%20all%20is%20completely%20the%20wrong%20solution.%20The%20right%20thing%0A%3E%20to%20do%20is%20to%20either%20use%20a%20random%20path%20in%20%24TMPDIR%20using%20mkstemp%20etc%20or%20to%0A%3E%20use%20somewhere%20under%20%24HOME%2C%20preferably%20following%20the%20XDG%20basedir%20spec%3A%0A%3E%20%0A%3E%20http%3A%2F%2Fstandards.freedesktop.org%2Fbasedir-spec%2Fbasedir-spec-latest.html%0A%3E%20%0A%3E%20--%20%0A%3E%20bye%2C%0A%3E%20pabs%0A%3E%20%0A%3E%20http%3A%2F%2Fwiki.debian.org%2FPaulWise%0A&amp;subject=Re%3A%20Bug%23584621%3A%20blender%3A%20possible%20symlink%20attack&amp;References=%3C20140805140229.GA5424%40nx6125.studiovescovi.eu%3E%0A%20%3C1407252134.21875.6.camel%40chianamo%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=pabs%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Paul Wise &lt;pabs@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> &quot;Matteo F. Vescovi&quot; &lt;mfvescovi@gmail.com&gt;, 584621@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Debian Security &lt;security@debian.org&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#584621: blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Tue, 05 Aug 2014 23:22:14 +0800</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=584621;msg=48">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Control: reopen -1

On Tue, 2014-08-05 at 16:02 +0200, Matteo F. Vescovi wrote:

&gt; Today I&#39;ve contacted upstream developers (via IRC channel on Freenode)
&gt; and asked about this long-lasting security bug.
&gt; 
&gt; They pointed me to:
&gt; 
&gt;   <a href="https://developer.blender.org/rB367722470aa2eada43614cd558f468b4beea851d">https://developer.blender.org/rB367722470aa2eada43614cd558f468b4beea851d</a>
&gt; 
&gt; where it&#39;s clear that the issue has been fixed with that commit.
&gt; 
&gt; So, I&#39;m (finally) closing this bug report.

I&#39;m sorry but this does not resolve the issue, it simply turns the
results from an arbitrary file overwrite to a denial of service (prevent
other users from autosaving).

Saving in /tmp at all is completely the wrong solution. The right thing
to do is to either use a random path in $TMPDIR using mkstemp etc or to
use somewhere under $HOME, preferably following the XDG basedir spec:

<a href="http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html">http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html</a>

-- 
bye,
pabs

<a href="http://wiki.debian.org/PaulWise">http://wiki.debian.org/PaulWise</a>
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=584621;filename=signature.asc;msg=48">signature.asc</a> (application/pgp-signature, inline)]</pre>

<div class="msgreceived"><hr><p>
<a name="49"></a>
<!-- command:done -->
<!-- requester: Paul Wise &lt;pabs@debian.org&gt; -->
<!-- request_addr: 584621-submit@bugs.debian.org -->
<!-- time:1407252425 -->
<!-- new_data:
$new_data = {
              &#39;done&#39; =&gt; &#39;&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;done&#39; =&gt; &#39;&quot;Matteo F. Vescovi&quot; &lt;mfvescovi@gmail.com&gt;&#39;
            };
-->
<strong>Bug reopened</strong>
Request was from <code>Paul Wise &lt;pabs@debian.org&gt;</code>
to <code>584621-submit@bugs.debian.org</code>.
 (Tue, 05 Aug 2014 15:27:05 GMT) (<a href="bugreport.cgi?bug=584621;msg=50">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=50">mbox</a>, <a href="#49">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="51"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt; -->
<!-- time:1407325505 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#584621</code>; Package <code>blender</code>.
 (Wed, 06 Aug 2014 11:45:05 GMT) (<a href="bugreport.cgi?bug=584621;msg=52">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=52">mbox</a>, <a href="#51">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="53"></a>
<!-- request_addr: Jonathan Wiltshire &lt;jmw@debian.org&gt; -->
<!-- time:1407325505 -->
<strong>Acknowledgement sent</strong>
to <code>Jonathan Wiltshire &lt;jmw@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>.
 (Wed, 06 Aug 2014 11:45:05 GMT) (<a href="bugreport.cgi?bug=584621;msg=54">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=54">mbox</a>, <a href="#53">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="55"></a><a name="msg55"></a><a href="#55">Message #55</a> received at 584621@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=55">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=55">mbox</a>, <a href="mailto:584621@bugs.debian.org?References=%3C20140806111503.13104.32368%40prsc.debian.net%3E&amp;subject=Re%3A%20blender%3A%20possible%20symlink%20attack&amp;body=On%20Wed%2C%2006%20Aug%202014%2011%3A15%3A03%20-0000%20Jonathan%20Wiltshire%20%3Cjmw%40debian.org%3E%20wrote%3A%0A%3E%20Package%3A%20blender%0A%3E%20%0A%3E%20Dear%20maintainer%2C%0A%3E%20%0A%3E%20Recently%20you%20fixed%20one%20or%20more%20security%20problems%20and%20as%20a%20result%20you%20closed%0A%3E%20this%20bug.%20These%20problems%20were%20not%20serious%20enough%20for%20a%20Debian%20Security%0A%3E%20Advisory%2C%20so%20they%20are%20now%20on%20my%20radar%20for%20fixing%20in%20the%20following%20suites%0A%3E%20through%20point%20releases%3A%0A%3E%20%0A%3E%20squeeze%20%286.0.8%29%20-%20use%20target%20%22oldstable%22%0A%3E%20%0A%3E%20Please%20prepare%20a%20minimal-changes%20upload%20targetting%20each%20of%20these%20suites%2C%0A%3E%20and%20submit%20a%20debdiff%20to%20the%20Release%20Team%20%5B0%5D%20for%20consideration.%20They%20will%0A%3E%20offer%20additional%20guidance%20or%20instruct%20you%20to%20upload%20your%20package.%0A%3E%20%0A%3E%20I%20will%20happily%20assist%20you%20at%20any%20stage%20if%20the%20patch%20is%20straightforward%20and%0A%3E%20you%20need%20help.%20Please%20keep%20me%20in%20CC%20at%20all%20times%20so%20I%20can%0A%3E%20track%20%5B1%5D%20the%20progress%20of%20this%20request.%0A%3E%20%0A%3E%20For%20details%20of%20this%20process%20and%20the%20rationale%2C%20please%20see%20the%20original%0A%3E%20announcement%20%5B2%5D%20and%20my%20blog%20post%20%5B3%5D.%0A%3E%20%0A%3E%200%3A%20debian-release%40lists.debian.org%0A%3E%201%3A%20http%3A%2F%2Fprsc.debian.net%2Ftracker%2F584621%2F%0A%3E%202%3A%20%3C201101232332.11736.thijs%40debian.org%3E%0A%3E%203%3A%20http%3A%2F%2Fdeb.li%2Fprsc%0A%3E%20%0A%3E%20Thanks%2C%0A%3E%20%0A%3E%20with%20his%20security%20hat%20on%3A%0A%3E%20--%0A%3E%20Jonathan%20Wiltshire%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20jmw%40debian.org%0A%3E%20Debian%20Developer%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20http%3A%2F%2Fpeople.debian.org%2F~jmw%0A%3E%20%0A%3E%204096R%3A%200xD3524C51%20%2F%200A55%20B7C5%201223%203942%2086EC%20%2074C3%205394%20479D%20D352%204C51%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;In-Reply-To=%3C20140806111503.13104.32368%40prsc.debian.net%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jmw%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Jonathan Wiltshire &lt;jmw@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 584621@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 06 Aug 2014 11:15:03 -0000</div>
</div>
<pre class="message">Package: blender

Dear maintainer,

Recently you fixed one or more security problems and as a result you closed
this bug. These problems were not serious enough for a Debian Security
Advisory, so they are now on my radar for fixing in the following suites
through point releases:

squeeze (6.0.8) - use target &quot;oldstable&quot;

Please prepare a minimal-changes upload targetting each of these suites,
and submit a debdiff to the Release Team [0] for consideration. They will
offer additional guidance or instruct you to upload your package.

I will happily assist you at any stage if the patch is straightforward and
you need help. Please keep me in CC at all times so I can
track [1] the progress of this request.

For details of this process and the rationale, please see the original
announcement [2] and my blog post [3].

0: debian-release@lists.debian.org
1: <a href="http://prsc.debian.net/tracker/584621/">http://prsc.debian.net/tracker/584621/</a>
2: &lt;201101232332.11736.thijs@debian.org&gt;
3: <a href="http://deb.li/prsc">http://deb.li/prsc</a>

Thanks,

with his security hat on:
--
Jonathan Wiltshire                                      jmw@debian.org
Debian Developer                         <a href="http://people.debian.org/~jmw">http://people.debian.org/~jmw</a>

4096R: 0xD3524C51 / 0A55 B7C5 1223 3942 86EC  74C3 5394 479D D352 4C51



</pre>

<div class="infmessage"><hr><p>
<a name="56"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt; -->
<!-- time:1407327664 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>:<br>
<code>Bug#584621</code>; Package <code>blender</code>.
 (Wed, 06 Aug 2014 12:21:04 GMT) (<a href="bugreport.cgi?bug=584621;msg=57">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=57">mbox</a>, <a href="#56">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="58"></a>
<!-- request_addr: Sebastian Ramacher &lt;sramacher@debian.org&gt; -->
<!-- time:1407327664 -->
<strong>Acknowledgement sent</strong>
to <code>Sebastian Ramacher &lt;sramacher@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Multimedia Maintainers &lt;pkg-multimedia-maintainers@lists.alioth.debian.org&gt;</code>.
 (Wed, 06 Aug 2014 12:21:04 GMT) (<a href="bugreport.cgi?bug=584621;msg=59">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=59">mbox</a>, <a href="#58">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="60"></a><a name="msg60"></a><a href="#60">Message #60</a> received at 584621@bugs.debian.org (<a href="bugreport.cgi?bug=584621;msg=60">full text</a>, <a href="bugreport.cgi?bug=584621;mbox=yes;msg=60">mbox</a>, <a href="mailto:584621@bugs.debian.org?body=On%20Wed%2C%206%20Aug%202014%2014%3A17%3A48%20%2B0200%20Sebastian%20Ramacher%20%3Csramacher%40debian.org%3E%20wrote%3A%0A%3E%20Hi%20Jonathan%0A%3E%20%0A%3E%20On%202014-08-06%2011%3A15%3A03%2C%20Jonathan%20Wiltshire%20wrote%3A%0A%3E%20%3E%20Package%3A%20blender%0A%3E%20%3E%20%0A%3E%20%3E%20Dear%20maintainer%2C%0A%3E%20%3E%20%0A%3E%20%3E%20Recently%20you%20fixed%20one%20or%20more%20security%20problems%20and%20as%20a%20result%20you%20closed%0A%3E%20%3E%20this%20bug.%20These%20problems%20were%20not%20serious%20enough%20for%20a%20Debian%20Security%0A%3E%20%3E%20Advisory%2C%20so%20they%20are%20now%20on%20my%20radar%20for%20fixing%20in%20the%20following%20suites%0A%3E%20%3E%20through%20point%20releases%3A%0A%3E%20%3E%20%0A%3E%20%3E%20squeeze%20%286.0.8%29%20-%20use%20target%20%22oldstable%22%0A%3E%20%3E%20%0A%3E%20%3E%20Please%20prepare%20a%20minimal-changes%20upload%20targetting%20each%20of%20these%20suites%2C%0A%3E%20%3E%20and%20submit%20a%20debdiff%20to%20the%20Release%20Team%20%5B0%5D%20for%20consideration.%20They%20will%0A%3E%20%3E%20offer%20additional%20guidance%20or%20instruct%20you%20to%20upload%20your%20package.%0A%3E%20%3E%20%0A%3E%20%3E%20I%20will%20happily%20assist%20you%20at%20any%20stage%20if%20the%20patch%20is%20straightforward%20and%0A%3E%20%3E%20you%20need%20help.%20Please%20keep%20me%20in%20CC%20at%20all%20times%20so%20I%20can%0A%3E%20%3E%20track%20%5B1%5D%20the%20progress%20of%20this%20request.%0A%3E%20%3E%20%0A%3E%20%3E%20For%20details%20of%20this%20process%20and%20the%20rationale%2C%20please%20see%20the%20original%0A%3E%20%3E%20announcement%20%5B2%5D%20and%20my%20blog%20post%20%5B3%5D.%0A%3E%20%0A%3E%20Out%20of%20curiosity%3A%20is%20this%20mail%20template%20still%20up-to-date%3F%20squeeze%20is%20now%20EOL.%0A%3E%20Shouldn%27t%20the%20mail%20point%20people%20to%20https%3A%2F%2Fwiki.debian.org%2FLTS%20and%20instructions%0A%3E%20to%20provided%20fixes%20via%20squeeze-lts%3F%0A%3E%20%0A%3E%20Cheers%0A%3E%20--%20%0A%3E%20Sebastian%20Ramacher%0A&amp;subject=Re%3A%20Bug%23584621%3A%20blender%3A%20possible%20symlink%20attack&amp;In-Reply-To=%3C20140806121748.GA19982%40ramacher.at%3E&amp;References=%3C20140806111503.13104.32368%40prsc.debian.net%3E%0A%20%3C20140806121748.GA19982%40ramacher.at%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=sramacher%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Sebastian Ramacher &lt;sramacher@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jonathan Wiltshire &lt;jmw@debian.org&gt;, 584621@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#584621: blender: possible symlink attack</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 6 Aug 2014 14:17:48 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=584621;msg=60">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message">Hi Jonathan

On 2014-08-06 11:15:03, Jonathan Wiltshire wrote:
&gt; Package: blender
&gt; 
&gt; Dear maintainer,
&gt; 
&gt; Recently you fixed one or more security problems and as a result you closed
&gt; this bug. These problems were not serious enough for a Debian Security
&gt; Advisory, so they are now on my radar for fixing in the following suites
&gt; through point releases:
&gt; 
&gt; squeeze (6.0.8) - use target &quot;oldstable&quot;
&gt; 
&gt; Please prepare a minimal-changes upload targetting each of these suites,
&gt; and submit a debdiff to the Release Team [0] for consideration. They will
&gt; offer additional guidance or instruct you to upload your package.
&gt; 
&gt; I will happily assist you at any stage if the patch is straightforward and
&gt; you need help. Please keep me in CC at all times so I can
&gt; track [1] the progress of this request.
&gt; 
&gt; For details of this process and the rationale, please see the original
&gt; announcement [2] and my blog post [3].

Out of curiosity: is this mail template still up-to-date? squeeze is now EOL.
Shouldn&#39;t the mail point people to <a href="https://wiki.debian.org/LTS">https://wiki.debian.org/LTS</a> and instructions
to provided fixes via squeeze-lts?

Cheers
-- 
Sebastian Ramacher
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=584621;filename=signature.asc;msg=60">signature.asc</a> (application/pgp-signature, inline)]</pre>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=584621">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:24:08 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->bembo<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright  1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
