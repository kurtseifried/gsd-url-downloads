<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="icon" href="/favicon.png">
<title>#875974 - libarchive: CVE-2017-14502: out-of-bounds read in archive_read_format_rar_read_header() - Debian Bug report logs</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/bugs.css" type="text/css">

<link rel="canonical" href="&lt;a href=&quot;bugreport.cgi?bug=875974&quot;&gt;875974&lt;/a&gt;">
<script type="text/javascript">
<!--
function toggle_infmessages()
{
        allDivs=document.getElementsByTagName("div");
        for (var i = 0 ; i < allDivs.length ; i++ )
        {
                if (allDivs[i].className == "infmessage")
                {
                        allDivs[i].style.display=(allDivs[i].style.display == 'none' | allDivs[i].style.display == '') ? 'block' : 'none';
                }
        }
}
-->
</script>
</head>
<body>
<h1>Debian Bug report logs - 
<a href="mailto:875974@bugs.debian.org">#875974</a><br>
libarchive: CVE-2017-14502: out-of-bounds read in archive_read_format_rar_read_header()</h1>
<div class="versiongraph"><a href="version.cgi?info=1;absolute=0;collapse=1;found=libarchive%2F3.2.2-3.1;found=libarchive%2F3.1.2-11;package=src%3Alibarchive;fixed=libarchive%2F3.2.2-4.1"><img alt="version graph" src="version.cgi?width=2;found=libarchive%2F3.2.2-3.1;found=libarchive%2F3.1.2-11;package=src%3Alibarchive;collapse=1;absolute=0;height=2;fixed=libarchive%2F3.2.2-4.1"></a></div>
<div class="pkginfo">
  <p>Package:
     <a class="submitter" href="pkgreport.cgi?src=libarchive">src:libarchive</a>;
Maintainer for <a href="pkgreport.cgi?src=libarchive">src:libarchive</a> is <a href="pkgreport.cgi?maint=roam%40debian.org">Peter Pentchev &lt;roam@debian.org&gt;</a>; </p>

</div>

<div class="buginfo">
  <p>Reported by: <a href="pkgreport.cgi?submitter=jwilk%40jwilk.net">Jakub Wilk &lt;jwilk@jwilk.net&gt;</a></p>
  <p>Date: Sat, 16 Sep 2017 18:15:01 UTC</p>

<p>Severity: normal</p>
<p>Tags: fixed-upstream, security, upstream</p>

<p>Found in versions libarchive/3.2.2-3.1, libarchive/3.1.2-11</p>
<p>Fixed in version libarchive/3.2.2-4.1</p>

<p><strong>Done:</strong> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</p>

<p>Bug is archived. No further changes may be made.<p></div>

<p><a href="javascript:toggle_infmessages();">Toggle useless messages</a></p><div class="msgreceived"><p>View this report as an <a href="bugreport.cgi?bug=875974;mbox=yes">mbox folder</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;mboxstatus=yes">status mbox</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;mboxmaint=yes">maintainer mbox</a></p></div>

<div class="infmessage"><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, jwilk@jwilk.net, Peter Pentchev &lt;roam@ringlet.net&gt; -->
<!-- time:1505585703 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, jwilk@jwilk.net, Peter Pentchev &lt;roam@ringlet.net&gt;</code>:<br>
<code>Bug#875974</code>; Package <code>libarchive13</code>.
 (Sat, 16 Sep 2017 18:15:03 GMT) (<a href="bugreport.cgi?bug=875974;msg=2">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="3"></a><a name="msg3"></a><a href="#3">Message #3</a> received at submit@bugs.debian.org (<a href="bugreport.cgi?bug=875974;msg=3">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=3">mbox</a>, <a href="mailto:875974@bugs.debian.org?body=On%20Sat%2C%2016%20Sep%202017%2020%3A02%3A42%20%2B0200%20Jakub%20Wilk%20%3Cjwilk%40jwilk.net%3E%20wrote%3A%0A%3E%20Package%3A%20libarchive13%0A%3E%20Version%3A%203.2.2-3.1%0A%3E%20%0A%3E%20%24%20valgrind%20--quiet%20--%20bsdtar%20-xf%20oob.rar%0A%3E%20%3D%3D1880%3D%3D%20Invalid%20read%20of%20size%201%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20at%200x4832FF0%3A%20memcpy%20%28in%20%2Fusr%2Flib%2Fvalgrind%2Fvgpreload_memcheck-x86-linux.so%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x489B5E0%3A%20memcpy%20%28string3.h%3A53%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x489B5E0%3A%20read_header%20%28archive_read_support_format_rar.c%3A1577%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x489C347%3A%20archive_read_format_rar_read_header%20%28archive_read_support_format_rar.c%3A932%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x4873A54%3A%20_archive_read_next_header2%20%28archive_read.c%3A649%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x4873B5B%3A%20_archive_read_next_header%20%28archive_read.c%3A687%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x10D384%3A%20read_archive%20%28read.c%3A261%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x10DCAC%3A%20tar_mode_x%20%28read.c%3A112%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x10C2BB%3A%20main%20%28bsdtar.c%3A809%29%0A%3E%20%3D%3D1880%3D%3D%20%20Address%200x6ca726a%20is%200%20bytes%20after%20a%20block%20of%20size%2098%20alloc%27d%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20at%200x482E1FC%3A%20malloc%20%28in%20%2Fusr%2Flib%2Fvalgrind%2Fvgpreload_memcheck-x86-linux.so%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x4830520%3A%20realloc%20%28in%20%2Fusr%2Flib%2Fvalgrind%2Fvgpreload_memcheck-x86-linux.so%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x489B451%3A%20read_header%20%28archive_read_support_format_rar.c%3A1423%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x489C347%3A%20archive_read_format_rar_read_header%20%28archive_read_support_format_rar.c%3A932%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x4873A54%3A%20_archive_read_next_header2%20%28archive_read.c%3A649%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x4873B5B%3A%20_archive_read_next_header%20%28archive_read.c%3A687%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x10D384%3A%20read_archive%20%28read.c%3A261%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x10DCAC%3A%20tar_mode_x%20%28read.c%3A112%29%0A%3E%20%3D%3D1880%3D%3D%20%20%20%20by%200x10C2BB%3A%20main%20%28bsdtar.c%3A809%29%0A%3E%20%3D%3D1880%3D%3D%0A%3E%20bsdtar%3A%20Unknown%20file%20attributes%20from%20RAR%20file%27s%20host%20OS%0A%3E%20bsdtar%3A%20Error%20exit%20delayed%20from%20previous%20errors.%0A%3E%20%0A%3E%20%0A%3E%20Found%20using%20American%20Fuzzy%20Lop%3A%0A%3E%20http%3A%2F%2Flcamtuf.coredump.cx%2Fafl%2F%0A%3E%20%0A%3E%20--%20System%20Information%3A%0A%3E%20Architecture%3A%20i386%0A%3E%20%0A%3E%20Versions%20of%20packages%20libarchive13%20depends%20on%3A%0A%3E%20ii%20%20libacl1%20%20%20%20%202.2.52-3%2Bb1%0A%3E%20ii%20%20libbz2-1.0%20%201.0.6-8.1%0A%3E%20ii%20%20libc6%20%20%20%20%20%20%202.24-17%0A%3E%20ii%20%20liblz4-1%20%20%20%200.0~r131-2%2Bb1%0A%3E%20ii%20%20liblzma5%20%20%20%205.2.2-1.3%0A%3E%20ii%20%20liblzo2-2%20%20%202.08-1.2%2Bb2%0A%3E%20ii%20%20libnettle6%20%203.3-2%0A%3E%20ii%20%20libxml2%20%20%20%20%202.9.4%2Bdfsg1-4%0A%3E%20ii%20%20zlib1g%20%20%20%20%20%201%3A1.2.8.dfsg-5%0A%3E%20%0A%3E%20--%20%0A%3E%20Jakub%20Wilk%0A&amp;In-Reply-To=%3C20170916180242.zzcq4ll2gasvmrjp%40jwilk.net%3E&amp;References=%3C20170916180242.zzcq4ll2gasvmrjp%40jwilk.net%3E&amp;subject=Re%3A%20libarchive13%3A%20out-of-bounds%20read%20in%0A%20archive_read_format_rar_read_header%28%29">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=jwilk%40jwilk.net" alt="">
<div class="header"><span class="headerfield">From:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;</div>
<div class="header"><span class="headerfield">To:</span> submit@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> libarchive13: out-of-bounds read in
 archive_read_format_rar_read_header()</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 16 Sep 2017 20:02:42 +0200</div>
</div>
<pre class="mime">[<a href="bugreport.cgi?att=0;bug=875974;msg=3">Message part 1</a> (text/plain, inline)]</pre>
<pre class="message flowed">Package: libarchive13
Version: 3.2.2-3.1

$ valgrind --quiet -- bsdtar -xf oob.rar
==1880== Invalid read of size 1
==1880==    at 0x4832FF0: memcpy (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==1880==    by 0x489B5E0: memcpy (string3.h:53)
==1880==    by 0x489B5E0: read_header (archive_read_support_format_rar.c:1577)
==1880==    by 0x489C347: archive_read_format_rar_read_header (archive_read_support_format_rar.c:932)
==1880==    by 0x4873A54: _archive_read_next_header2 (archive_read.c:649)
==1880==    by 0x4873B5B: _archive_read_next_header (archive_read.c:687)
==1880==    by 0x10D384: read_archive (read.c:261)
==1880==    by 0x10DCAC: tar_mode_x (read.c:112)
==1880==    by 0x10C2BB: main (bsdtar.c:809)
==1880==  Address 0x6ca726a is 0 bytes after a block of size 98 alloc&#39;d
==1880==    at 0x482E1FC: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==1880==    by 0x4830520: realloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==1880==    by 0x489B451: read_header (archive_read_support_format_rar.c:1423)
==1880==    by 0x489C347: archive_read_format_rar_read_header (archive_read_support_format_rar.c:932)
==1880==    by 0x4873A54: _archive_read_next_header2 (archive_read.c:649)
==1880==    by 0x4873B5B: _archive_read_next_header (archive_read.c:687)
==1880==    by 0x10D384: read_archive (read.c:261)
==1880==    by 0x10DCAC: tar_mode_x (read.c:112)
==1880==    by 0x10C2BB: main (bsdtar.c:809)
==1880==
bsdtar: Unknown file attributes from RAR file&#39;s host OS
bsdtar: Error exit delayed from previous errors.


Found using American Fuzzy Lop:
<a href="http://lcamtuf.coredump.cx/afl/">http://lcamtuf.coredump.cx/afl/</a>

-- System Information:
Architecture: i386

Versions of packages libarchive13 depends on:
ii  libacl1     2.2.52-3+b1
ii  libbz2-1.0  1.0.6-8.1
ii  libc6       2.24-17
ii  liblz4-1    0.0~r131-2+b1
ii  liblzma5    5.2.2-1.3
ii  liblzo2-2   2.08-1.2+b2
ii  libnettle6  3.3-2
ii  libxml2     2.9.4+dfsg1-4
ii  zlib1g      1:1.2.8.dfsg-5

-- 
Jakub Wilk
</pre>
<pre class="mime">[<a href="bugreport.cgi?att=1;bug=875974;filename=oob.rar;msg=3">oob.rar</a> (application/rar, attachment)]</pre>

<div class="msgreceived"><hr><p>
<a name="4"></a>
<!-- command:package -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505590563 -->
<!-- new_data:
$new_data = {
              &#39;package&#39; =&gt; &#39;src:libarchive&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;package&#39; =&gt; &#39;libarchive13&#39;
            };
-->
<strong>Bug reassigned from package &#39;<a href="pkgreport.cgi?package=libarchive13">libarchive13</a>&#39; to &#39;<a href="pkgreport.cgi?src=libarchive">src:libarchive</a>&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 16 Sep 2017 19:36:03 GMT) (<a href="bugreport.cgi?bug=875974;msg=5">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=5">mbox</a>, <a href="#4">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="6"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505590563 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; []
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libarchive/3.2.2-3.1&#39;
                                  ]
            };
-->
<strong>No longer marked as found in versions libarchive/3.2.2-3.1.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 16 Sep 2017 19:36:03 GMT) (<a href="bugreport.cgi?bug=875974;msg=7">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="8"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505590564 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libarchive/3.2.2-3.1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; []
            };
-->
<strong>Marked as found in versions libarchive/3.2.2-3.1.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 16 Sep 2017 19:36:04 GMT) (<a href="bugreport.cgi?bug=875974;msg=9">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=9">mbox</a>, <a href="#8">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="10"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Peter Pentchev &lt;roam@ringlet.net&gt; -->
<!-- time:1505590745 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Peter Pentchev &lt;roam@ringlet.net&gt;</code>:<br>
<code>Bug#875974</code>; Package <code>src:libarchive</code>.
 (Sat, 16 Sep 2017 19:39:05 GMT) (<a href="bugreport.cgi?bug=875974;msg=11">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=11">mbox</a>, <a href="#10">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="12"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1505590745 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Peter Pentchev &lt;roam@ringlet.net&gt;</code>.
 (Sat, 16 Sep 2017 19:39:05 GMT) (<a href="bugreport.cgi?bug=875974;msg=13">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=13">mbox</a>, <a href="#12">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="14"></a><a name="msg14"></a><a href="#14">Message #14</a> received at 875974@bugs.debian.org (<a href="bugreport.cgi?bug=875974;msg=14">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=14">mbox</a>, <a href="mailto:875974@bugs.debian.org?body=On%20Sat%2C%2016%20Sep%202017%2021%3A35%3A31%20%2B0200%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Hi%0A%3E%20%0A%3E%20This%20should%20be%20fixed%20upstream%20with%0A%3E%20%0A%3E%20https%3A%2F%2Fgithub.com%2Flibarchive%2Flibarchive%2Fcommit%2F5562545b5562f6d12a4ef991fae158bf4ccf92b6%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A&amp;References=%3C20170916180242.zzcq4ll2gasvmrjp%40jwilk.net%3E%0A%20%3C20170916193531.rtj6zph236v63nws%40eldamar.local%3E&amp;subject=Re%3A%20Bug%23875974%3A%20libarchive13%3A%20out-of-bounds%20read%20in%0A%20archive_read_format_rar_read_header%28%29&amp;In-Reply-To=%3C20170916193531.rtj6zph236v63nws%40eldamar.local%3E">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;, 875974@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#875974: libarchive13: out-of-bounds read in
 archive_read_format_rar_read_header()</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 16 Sep 2017 21:35:31 +0200</div>
</div>
<pre class="message">Hi

This should be fixed upstream with

<a href="https://github.com/libarchive/libarchive/commit/5562545b5562f6d12a4ef991fae158bf4ccf92b6">https://github.com/libarchive/libarchive/commit/5562545b5562f6d12a4ef991fae158bf4ccf92b6</a>

Regards,
Salvatore


</pre>

<div class="msgreceived"><hr><p>
<a name="15"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505590746 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libarchive/3.1.2-11&#39;,
                                    &#39;libarchive/3.2.2-3.1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libarchive/3.2.2-3.1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions libarchive/3.1.2-11.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 16 Sep 2017 19:39:06 GMT) (<a href="bugreport.cgi?bug=875974;msg=16">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="17"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Peter Pentchev &lt;roam@ringlet.net&gt; -->
<!-- time:1505591282 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Peter Pentchev &lt;roam@ringlet.net&gt;</code>:<br>
<code>Bug#875974</code>; Package <code>src:libarchive</code>.
 (Sat, 16 Sep 2017 19:48:02 GMT) (<a href="bugreport.cgi?bug=875974;msg=18">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=18">mbox</a>, <a href="#17">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="19"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1505591283 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Peter Pentchev &lt;roam@ringlet.net&gt;</code>.
 (Sat, 16 Sep 2017 19:48:03 GMT) (<a href="bugreport.cgi?bug=875974;msg=20">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=20">mbox</a>, <a href="#19">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="21"></a><a name="msg21"></a><a href="#21">Message #21</a> received at 875974@bugs.debian.org (<a href="bugreport.cgi?bug=875974;msg=21">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=21">mbox</a>, <a href="mailto:875974@bugs.debian.org?References=%3C20170916180242.zzcq4ll2gasvmrjp%40jwilk.net%3E%0A%20%3C20170916180242.zzcq4ll2gasvmrjp%40jwilk.net%3E%0A%20%3C20170916193531.rtj6zph236v63nws%40eldamar.local%3E%0A%20%3C20170916194445.itd5tp2tusecid4d%40eldamar.local%3E&amp;subject=Re%3A%20Bug%23875974%3A%20libarchive13%3A%20out-of-bounds%20read%20in%0A%20archive_read_format_rar_read_header%28%29&amp;In-Reply-To=%3C20170916194445.itd5tp2tusecid4d%40eldamar.local%3E&amp;body=On%20Sat%2C%2016%20Sep%202017%2021%3A44%3A45%20%2B0200%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Hi%0A%3E%20%0A%3E%20On%20Sat%2C%20Sep%2016%2C%202017%20at%2009%3A35%3A31PM%20%2B0200%2C%20Salvatore%20Bonaccorso%20wrote%3A%0A%3E%20%3E%20Hi%0A%3E%20%3E%20%0A%3E%20%3E%20This%20should%20be%20fixed%20upstream%20with%0A%3E%20%3E%20%0A%3E%20%3E%20https%3A%2F%2Fgithub.com%2Flibarchive%2Flibarchive%2Fcommit%2F5562545b5562f6d12a4ef991fae158bf4ccf92b6%0A%3E%20%0A%3E%20Additional%20reference%2C%20the%20mentioned%20OSS-Fuzz%20issue%20is%0A%3E%20%0A%3E%20https%3A%2F%2Fbugs.chromium.org%2Fp%2Foss-fuzz%2Fissues%2Fdetail%3Fid%3D573%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 875974@bugs.debian.org</div>
<div class="header"><span class="headerfield">Cc:</span> Jakub Wilk &lt;jwilk@jwilk.net&gt;</div>
<div class="header"><span class="headerfield">Subject:</span> Re: Bug#875974: libarchive13: out-of-bounds read in
 archive_read_format_rar_read_header()</div>
<div class="header"><span class="headerfield">Date:</span> Sat, 16 Sep 2017 21:44:45 +0200</div>
</div>
<pre class="message">Hi

On Sat, Sep 16, 2017 at 09:35:31PM +0200, Salvatore Bonaccorso wrote:
&gt; Hi
&gt; 
&gt; This should be fixed upstream with
&gt; 
&gt; <a href="https://github.com/libarchive/libarchive/commit/5562545b5562f6d12a4ef991fae158bf4ccf92b6">https://github.com/libarchive/libarchive/commit/5562545b5562f6d12a4ef991fae158bf4ccf92b6</a>

Additional reference, the mentioned OSS-Fuzz issue is

<a href="https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=573">https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=573</a>

Regards,
Salvatore


</pre>

<div class="msgreceived"><hr><p>
<a name="22"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505591823 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libarchive/3.2.2-3.1&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libarchive/3.1.2-11&#39;,
                                    &#39;libarchive/3.2.2-3.1&#39;
                                  ]
            };
-->
<strong>No longer marked as found in versions libarchive/3.1.2-11.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 16 Sep 2017 19:57:03 GMT) (<a href="bugreport.cgi?bug=875974;msg=23">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=23">mbox</a>, <a href="#22">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="24"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505591823 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;libarchive: out-of-bounds read in archive_read_format_rar_read_header()&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;libarchive13: out-of-bounds read in archive_read_format_rar_read_header()&#39;
            };
-->
<strong>Changed Bug title to &#39;libarchive: out-of-bounds read in archive_read_format_rar_read_header()&#39; from &#39;libarchive13: out-of-bounds read in archive_read_format_rar_read_header()&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 16 Sep 2017 19:57:03 GMT) (<a href="bugreport.cgi?bug=875974;msg=25">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=25">mbox</a>, <a href="#24">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="26"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505591824 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;security fixed-upstream upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;&#39;
            };
-->
<strong>Added tag(s) fixed-upstream, security, and upstream.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 16 Sep 2017 19:57:04 GMT) (<a href="bugreport.cgi?bug=875974;msg=27">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=27">mbox</a>, <a href="#26">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="28"></a>
<!-- command:found -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505672642 -->
<!-- new_data:
$new_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libarchive/3.2.2-3.1&#39;,
                                    &#39;libarchive/3.1.2-11&#39;
                                  ]
            };
-->
<!-- old_data:
$old_data = {
              &#39;found_versions&#39; =&gt; [
                                    &#39;libarchive/3.2.2-3.1&#39;
                                  ]
            };
-->
<strong>Marked as found in versions libarchive/3.1.2-11.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sun, 17 Sep 2017 18:24:02 GMT) (<a href="bugreport.cgi?bug=875974;msg=29">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=29">mbox</a>, <a href="#28">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="30"></a>
<!-- command:title -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1505672824 -->
<!-- new_data:
$new_data = {
              &#39;subject&#39; =&gt; &#39;libarchive: CVE-2017-14502: out-of-bounds read in archive_read_format_rar_read_header()&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;subject&#39; =&gt; &#39;libarchive: out-of-bounds read in archive_read_format_rar_read_header()&#39;
            };
-->
<strong>Changed Bug title to &#39;libarchive: CVE-2017-14502: out-of-bounds read in archive_read_format_rar_read_header()&#39; from &#39;libarchive: out-of-bounds read in archive_read_format_rar_read_header()&#39;.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sun, 17 Sep 2017 18:27:04 GMT) (<a href="bugreport.cgi?bug=875974;msg=31">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=31">mbox</a>, <a href="#30">link</a>).</p></p></div>

<div class="msgreceived"><hr><p>
<a name="32"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1532548447 -->
<strong>Reply sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Wed, 25 Jul 2018 19:54:07 GMT) (<a href="bugreport.cgi?bug=875974;msg=33">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=33">mbox</a>, <a href="#32">link</a>).</p></p></div>

<div class="infmessage"><hr><p>
<a name="34"></a>
<!-- request_addr: Jakub Wilk &lt;jwilk@jwilk.net&gt; -->
<!-- time:1532548447 -->
<strong>Notification sent</strong>
to <code>Jakub Wilk &lt;jwilk@jwilk.net&gt;</code>:<br>
Bug acknowledged by developer.
 (Wed, 25 Jul 2018 19:54:07 GMT) (<a href="bugreport.cgi?bug=875974;msg=35">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=35">mbox</a>, <a href="#34">link</a>).</p></p></div>

<hr><p class="msgreceived"><a name="36"></a><a name="msg36"></a><a href="#36">Message #36</a> received at 875974-close@bugs.debian.org (<a href="bugreport.cgi?bug=875974;msg=36">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=36">mbox</a>, <a href="mailto:875974@bugs.debian.org?References=%3CE1fiPna-0008XF-HB%40fasolo.debian.org%3E&amp;In-Reply-To=%3CE1fiPna-0008XF-HB%40fasolo.debian.org%3E&amp;subject=Re%3A%20Bug%23875974%3A%20fixed%20in%20libarchive%203.2.2-4.1&amp;body=On%20Wed%2C%2025%20Jul%202018%2019%3A50%3A14%20%2B0000%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20libarchive%0A%3E%20Source-Version%3A%203.2.2-4.1%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20libarchive%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%20875974%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20%28supplier%20of%20updated%20libarchive%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Wed%2C%2025%20Jul%202018%2021%3A29%3A42%20%2B0200%0A%3E%20Source%3A%20libarchive%0A%3E%20Binary%3A%20libarchive-dev%20libarchive13%20libarchive-tools%20bsdtar%20bsdcpio%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%203.2.2-4.1%0A%3E%20Distribution%3A%20unstable%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Peter%20Pentchev%20%3Croam%40ringlet.net%3E%0A%3E%20Changed-By%3A%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%0A%3E%20Closes%3A%20875960%20875974%0A%3E%20Description%3A%20%0A%3E%20%20bsdcpio%20%20%20%20-%20transitional%20dummy%20package%20for%20moving%20bsdcpio%20to%20libarchive-tools%0A%3E%20%20bsdtar%20%20%20%20%20-%20transitional%20dummy%20package%20for%20moving%20bsdtar%20to%20libarchive-tools%0A%3E%20%20libarchive-dev%20-%20Multi-format%20archive%20and%20compression%20library%20%28development%20files%29%0A%3E%20%20libarchive-tools%20-%20FreeBSD%20implementations%20of%20%27tar%27%20and%20%27cpio%27%20and%20other%20archive%20too%0A%3E%20%20libarchive13%20-%20Multi-format%20archive%20and%20compression%20library%20%28shared%20library%29%0A%3E%20Changes%3A%0A%3E%20%20libarchive%20%283.2.2-4.1%29%20unstable%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20Non-maintainer%20upload.%0A%3E%20%20%20%20%2A%20Reject%20LHA%20archive%20entries%20with%20negative%20size%20%28CVE-2017-14503%29%0A%3E%20%20%20%20%20%20%28Closes%3A%20%23875960%29%0A%3E%20%20%20%20%2A%20Avoid%20a%20read%20off-by-one%20error%20for%20UTF16%20names%20in%20RAR%20archives%0A%3E%20%20%20%20%20%20%28CVE-2017-14502%29%0A%3E%20%20%20%20%20%20%28Closes%3A%20%23875974%29%0A%3E%20Checksums-Sha1%3A%20%0A%3E%20%20ddc385b8c84c699cf97a604ac99b2139303a2dca%202490%20libarchive_3.2.2-4.1.dsc%0A%3E%20%208a9e579048d0f04f85ee0b51fb6d139da2aa043e%2017564%20libarchive_3.2.2-4.1.debian.tar.xz%0A%3E%20Checksums-Sha256%3A%20%0A%3E%20%2001dcf95baf5eda7f2aeb0f99d52f92a03718506903fa908d738646fa60897cfa%202490%20libarchive_3.2.2-4.1.dsc%0A%3E%20%20dcb64e96a2b794fd03919099fb3d9807f77013d620039c9ab8ffb9998d114c48%2017564%20libarchive_3.2.2-4.1.debian.tar.xz%0A%3E%20Files%3A%20%0A%3E%20%20abaa2e81da50adaf4b8ed10e3db54794%202490%20libs%20optional%20libarchive_3.2.2-4.1.dsc%0A%3E%20%205c24d5a83c8c36d783865b634f76802b%2017564%20libs%20optional%20libarchive_3.2.2-4.1.debian.tar.xz%0A">reply</a>):</p>
<div class="headers">
<img src="/cgi-bin/libravatar.cgi?email=carnil%40debian.org" alt="">
<div class="header"><span class="headerfield">From:</span> Salvatore Bonaccorso &lt;carnil@debian.org&gt;</div>
<div class="header"><span class="headerfield">To:</span> 875974-close@bugs.debian.org</div>
<div class="header"><span class="headerfield">Subject:</span> Bug#875974: fixed in libarchive 3.2.2-4.1</div>
<div class="header"><span class="headerfield">Date:</span> Wed, 25 Jul 2018 19:50:14 +0000</div>
</div>
<pre class="message">Source: libarchive
Source-Version: 3.2.2-4.1

We believe that the bug you reported is fixed in the latest version of
libarchive, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 875974@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Salvatore Bonaccorso &lt;carnil@debian.org&gt; (supplier of updated libarchive package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Wed, 25 Jul 2018 21:29:42 +0200
Source: libarchive
Binary: libarchive-dev libarchive13 libarchive-tools bsdtar bsdcpio
Architecture: source
Version: 3.2.2-4.1
Distribution: unstable
Urgency: medium
Maintainer: Peter Pentchev &lt;roam@ringlet.net&gt;
Changed-By: Salvatore Bonaccorso &lt;carnil@debian.org&gt;
Closes: <a href="bugreport.cgi?bug=875960">875960</a> <a href="bugreport.cgi?bug=875974">875974</a>
Description: 
 bsdcpio    - transitional dummy package for moving bsdcpio to libarchive-tools
 bsdtar     - transitional dummy package for moving bsdtar to libarchive-tools
 libarchive-dev - Multi-format archive and compression library (development files)
 libarchive-tools - FreeBSD implementations of &#39;tar&#39; and &#39;cpio&#39; and other archive too
 libarchive13 - Multi-format archive and compression library (shared library)
Changes:
 libarchive (3.2.2-4.1) unstable; urgency=medium
 .
   * Non-maintainer upload.
   * Reject LHA archive entries with negative size (<a href="https://security-tracker.debian.org/tracker/CVE-2017-14503">CVE-2017-14503</a>)
     (Closes: #<a href="bugreport.cgi?bug=875960">875960</a>)
   * Avoid a read off-by-one error for UTF16 names in RAR archives
     (<a href="https://security-tracker.debian.org/tracker/CVE-2017-14502">CVE-2017-14502</a>)
     (Closes: #<a href="bugreport.cgi?bug=875974">875974</a>)
Checksums-Sha1: 
 ddc385b8c84c699cf97a604ac99b2139303a2dca 2490 libarchive_3.2.2-4.1.dsc
 8a9e579048d0f04f85ee0b51fb6d139da2aa043e 17564 libarchive_3.2.2-4.1.debian.tar.xz
Checksums-Sha256: 
 01dcf95baf5eda7f2aeb0f99d52f92a03718506903fa908d738646fa60897cfa 2490 libarchive_3.2.2-4.1.dsc
 dcb64e96a2b794fd03919099fb3d9807f77013d620039c9ab8ffb9998d114c48 17564 libarchive_3.2.2-4.1.debian.tar.xz
Files: 
 abaa2e81da50adaf4b8ed10e3db54794 2490 libs optional libarchive_3.2.2-4.1.dsc
 5c24d5a83c8c36d783865b634f76802b 17564 libs optional libarchive_3.2.2-4.1.debian.tar.xz

-----BEGIN PGP SIGNATURE-----

iQKmBAEBCgCQFiEERkRAmAjBceBVMd3uBUy48xNDz0QFAltY0eJfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQSHGNhcm5pbEBk
ZWJpYW4ub3JnAAoJEAVMuPMTQ89ENvkP/3VViHRDKocQIsgJnDkD1ncwMCN8idCM
UVo04DSQY7HdHc8fe7RmV0owMDspN4ZHlRTO9PawDSIPdusq1+Xm8RyPIt2eeCS7
/X7pwalgrwOyhe9WFOrHI0TLp02qivap8hwHFpWmuCpjzKb+7uaqD5lhBk2VjyH+
EbS792lltjnoXm1qFuLmHoRiHNPLJTc5vaJBmx/HiBHsJarEuXKZjdlhsA2o6s7i
hit7Su11ERgH2ZloyVnqmxzH851VaiN9rm6iDbwWiWwj7IwxWLz1EjBU0oe321yR
TtrD3o9LITdDYnkcgGZmUWlsnHraaGloU9lptV6bZoWyexMKci+0Z14m5e9LpNDF
baSYoXXZlahphHGFbYqFtQ3v33cvCCK1CqA7Ggx/v7u/NgetH8+81UvUXwXbR13L
vbiRI6yYJykQNgz2DSMu8B7NlclxQrzTIMU+YkY0KyxIY1UPX7kZvyocgNSHqiWA
7FfItXUDQIh0uKeIHIrqG/3cSPIksY1ZiSabNIalt17DPu8TwG/HE530iGgrwyVW
BYXarYcIsk/LgzX2ndZVvVTumE7kF+gqX4IgOuIzHcfbTl6Yz3Zujp9YrF+fKp0A
pAOWydsWCEOJzZ2IDxkO4HvTcXVmu6cFD6b/uvVFkuPwnianQHa6oZyZpsv6g8JI
rfa7h67G2H5X
=W8Ld
-----END PGP SIGNATURE-----



</pre>

<div class="msgreceived"><hr><p>
<a name="37"></a>
<!-- command:archive -->
<!-- requester: Debbugs Internal Request &lt;owner@bugs.debian.org&gt; -->
<!-- request_addr: internal_control@bugs.debian.org -->
<!-- time:1537860558 -->
<!-- new_data:
$new_data = {};
-->
<!-- old_data:
$old_data = {};
-->
<strong>Bug archived.</strong>
Request was from <code>Debbugs Internal Request &lt;owner@bugs.debian.org&gt;</code>
to <code>internal_control@bugs.debian.org</code>.
 (Tue, 25 Sep 2018 07:29:18 GMT) (<a href="bugreport.cgi?bug=875974;msg=38">full text</a>, <a href="bugreport.cgi?bug=875974;mbox=yes;msg=38">mbox</a>, <a href="#37">link</a>).</p></p></div>

<hr>
<p class="msgreceived">Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=875974">this bug log contains spam</a>.</p>
<hr>
<ADDRESS>Debian bug tracking system administrator &lt;<A HREF="mailto:owner@bugs.debian.org">owner@bugs.debian.org</A>&gt;.
Last modified:
<!--timestamp-->Sat Oct 30 18:17:08 2021<!--end timestamp-->; 
Machine Name:
<!--machinename-->bembo<!--machinename-->
<P>
<A HREF="https://www.debian.org/Bugs/">Debian Bug tracking system</A>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright Â© 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</ADDRESS>

</body>
</html>
