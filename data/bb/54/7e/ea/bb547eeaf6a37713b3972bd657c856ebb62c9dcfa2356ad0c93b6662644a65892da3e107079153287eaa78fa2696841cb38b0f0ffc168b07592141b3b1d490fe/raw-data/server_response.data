<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Static and session security fixes for Plug - Elixir News - Elixir Programming Language Forum</title>
    <meta name="description" content="Hello everyone, 

Two vulnerabilities have been disclosed to Plug. Applications that provide file uploading functionality to a local filesystem are advised to upgrade immediately. Upgrade is also recommended for any othe&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta7 - https://github.com/discourse/discourse version 0f0388437557553c2e28c04c471e997ff5fe645c">
<link rel="icon" type="image/png" href="https://elixirforum.com/uploads/default/optimized/1X/4310e7de671d4920800063776e9b1f6dc268c692_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://elixirforum.com/uploads/default/optimized/2X/4/457566b7009507e9265f01af98b7c03e9f4ad0fa_2_180x180.png">
<meta name="theme-color" content="#EDEBED">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://elixirforum.com","potentialAction":{"@type":"SearchAction","target":"https://elixirforum.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://elixirforum.com/opensearch.xml" title="Elixir Programming Language Forum Search">

      <link href="/stylesheets/desktop_06352fa26f4530f2ce7428c37d06774264c365ca.css?__ws=elixirforum.com" media="all" rel="stylesheet" data-target="desktop"  />
      <link href="/stylesheets/desktop_theme_43_fe5b6a093c5c8d9b3082ec6ac63b3fe08e084e08.css?__ws=elixirforum.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="43" data-theme-name="nav links component"/>
<link href="/stylesheets/desktop_theme_38_748088c76e9593be855905260c60ed0efd1ef4ca.css?__ws=elixirforum.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="38" data-theme-name="ef v6"/>
    
<script src="/theme-javascripts/8662d42cdfa5ebc7266f7b8ebde5a2f35f4ffc94.js?__ws=elixirforum.com"></script>
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Static and session security fixes for Plug&#39;" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913.rss" />
    <meta property="og:site_name" content="Elixir Programming Language Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://elixirforum.com/uploads/default/original/2X/3/301658d2571b34804e642eb7a28976609422ac3b.png" />
<meta property="og:image" content="https://elixirforum.com/uploads/default/original/2X/3/301658d2571b34804e642eb7a28976609422ac3b.png" />
<meta property="og:url" content="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913" />
<meta name="twitter:url" content="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913" />
<meta property="og:title" content="Static and session security fixes for Plug" />
<meta name="twitter:title" content="Static and session security fixes for Plug" />
<meta property="og:description" content="Hello everyone,  Two vulnerabilities have been disclosed to Plug. Applications that provide file uploading functionality to a local filesystem are advised to upgrade immediately. Upgrade is also recommended for any other application that uses Plug, to ensure they follow the latest and best security practices.  We have released new Plug versions v1.0.4, v1.1.7, v1.2.3 and v1.3.2. If you can‚Äôt upgrade immediately, we also include fixes you can directly add to your applications.  Null Byte Injectio..." />
<meta name="twitter:description" content="Hello everyone,  Two vulnerabilities have been disclosed to Plug. Applications that provide file uploading functionality to a local filesystem are advised to upgrade immediately. Upgrade is also recommended for any other application that uses Plug, to ensure they follow the latest and best security practices.  We have released new Plug versions v1.0.4, v1.1.7, v1.2.3 and v1.3.2. If you can‚Äôt upgrade immediately, we also include fixes you can directly add to your applications.  Null Byte Injectio..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="4 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="130 ‚ù§" />
<meta property="article:published_time" content="2017-02-28T18:12:06+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="/t/static-and-session-security-fixes-for-plug/3913?page=2">

    
  </head>
  <body class="crawler">
    <div id="top-navbar" class="above-navbar">
    <div class="ef-wrapper">
<div class="header-forums-menu">
  <ul>
    <!--<li class="ui-elixir-forum"><a title="Elixir Forum" href="http://elixirforum.com"></a></li>-->
  </ul>
</div>
    </div>
</div>


<script src="/theme-javascripts/15f67482d72c537b88dc012a3b053912d910e15d.js?__ws=elixirforum.com"></script>
    <header>
      <a href="/">
          <img src="https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png" alt="Elixir Programming Language Forum" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/static-and-session-security-fixes-for-plug/3913">Static and session security fixes for Plug</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://elixirforum.com/c/elixir-news/28" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #7C1A9C'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Elixir News</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='https://elixirforum.com/tag/elixir-announcement' class='discourse-tag' rel="tag">elixir-announcement</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/josevalim'><span itemprop='name'>josevalim</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-02-28T18:12:06Z' class='post-time'>
                February 28, 2017,  6:12pm
              </time>
              <meta itemprop='dateModified' content='2017-04-18T10:14:10Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello everyone,</p>
<p>Two vulnerabilities have been disclosed to Plug. Applications that provide file uploading functionality to a local filesystem are advised to upgrade immediately. Upgrade is also recommended for any other application that uses Plug, to ensure they follow the latest and best security practices.</p>
<p>We have released new Plug versions v1.0.4, v1.1.7, v1.2.3 and v1.3.2. If you can‚Äôt upgrade immediately, we also include fixes you can directly add to your applications.</p>
<h3>Null Byte Injection in Plug.Static</h3>
<p>Plug.Static is used for serving static assets, and is vulnerable to null byte injection. If file upload functionality is provided, this can allow users to bypass filetype restrictions.</p>
<p>We recommend all applications that provide file upload functionality and serve those uploaded files locally with Plug.Static to upgrade immediately or include the fix below. If uploaded files are rather stored and served from S3 or any other cloud storage, you are not affected.</p>
<ul>
<li>Versions affected: Plug v1.3.1, v1.3.0, v1.2.2, v1.2.1, v1.2.0, v1.1.6, v1.1.5, v1.1.4, v1.1.3, v1.1.2, v1.1.1, v1.1.0, v1.0.3, v1.0.2, v1.0.1, v1.0.0</li>
<li>Versions fixed: Plug v1.3.2+, v1.2.3+, v1.1.7+, v1.0.4+</li>
<li>Author: Griffin Byatt &lt;griffin.byatt[at]nccgroup[dot]trust&gt;</li>
<li>Thanks to: Chip Durland, Raviv Cohen and Matthew Diaz</li>
</ul>
<h4>Temporary fix</h4>
<p>Identify where <code>plug Plug.Static</code> is invoked in your application (in a Phoenix application this means the MyApp.Endpoint) and add the following lines <strong>before</strong> <code>plug Plug.Static</code>:</p>
<pre><code>plug :safe_plug_static

defp safe_plug_static(conn, _) do
  Enum.any?(conn.path_info, &amp;URI.decode(&amp;1) =~ &lt;&lt;0&gt;&gt;) &amp;&amp; raise "invalid path"
  conn
end
</code></pre>
<h3>Arbitrary Code Execution in Cookie Serialization</h3>
<p>The default serialization used by Plug session may result in code execution in certain situations. Keep in mind, however, the session cookie is signed and this attack can only be exploited if the attacker has access to your secret key as well as your signing/encryption salts. We recommend users to change their secret key base and salts if they suspect they have been leaked, regardless of this vulnerability.</p>
<ul>
<li>Versions affected: Plug v1.3.1, v1.3.0, v1.2.2, v1.2.1, v1.2.0, v1.1.6, v1.1.5, v1.1.4, v1.1.3, v1.1.2, v1.1.1, v1.1.0, v1.0.3, v1.0.2, v1.0.1, v1.0.0</li>
<li>Versions fixed: Plug v1.3.2+, v1.2.3+, v1.1.7+, v1.0.4+</li>
<li>Author: Griffin Byatt &lt;griffin.byatt[at]nccgroup[dot]trust&gt;</li>
<li>Thanks to: Matthew Diaz</li>
</ul>
<h4>Temporary fix</h4>
<p>If you can‚Äôt upgrade immediately, you can temporarily protect yourself by using a custom serializer <code>Plug.Session</code> serializer.</p>
<pre><code>plug Plug.Session, serializer: MyApp.SafeSerializer
</code></pre>
<p>Where <code>MyApp.SafeSerializer</code> is defined as:</p>
<pre><code>defmodule SafeSerializer do
  def encode(term) do
    {:ok, :erlang.term_to_binary(term)}
  end

  def decode(binary) do
    try do
      {:ok, safe_terms(:erlang.binary_to_term(binary))}
    rescue
      _ -&gt; :error
    end
  end

  defp safe_terms(list) when is_list(list) do
    for item &lt;- list, do: safe_terms(item)
    list
  end
  defp safe_terms(tuple) when is_tuple(tuple) do
    safe_tuple(tuple, tuple_size(tuple))
    tuple
  end
  defp safe_terms(map) when is_map(map) do
    for {key, value} &lt;- map do
      safe_terms(key)
      safe_terms(value)
    end
    map
  end
  defp safe_terms(other) when is_atom(other) or is_number(other) or is_binary(other) or
                              is_pid(other) or is_reference(other) do
    other
  end
  defp safe_terms(other) do
    raise ArgumentError, "cannot deserialize #{inspect other}, the term is not safe for deserialization"
  end

  defp safe_tuple(tuple, 0), do: :ok
  defp safe_tuple(tuple, n), do
    safe_terms(:erlang.element(n, tuple))
    safe_tuple(tuple, n - 1)
  end
end
</code></pre>
<h3>Final remarks</h3>
<p>We want to thank the NCC Group for reporting those vulnerabilities.</p>
<p>NCC Group is a global expert in cyber security and risk mitigation, working with businesses to protect their brand, value and reputation against the ever-evolving threat landscape. Our Security Consulting services leverage our extensive knowledge of current security vulnerabilities, penetration testing techniques and software development best practices to enable organizations to secure their applications against ever-present threats. At NCC Group we can boast unrivaled talent and recognized world-class security expertise. Bringing together best in class security consultancies iSEC Partners, Intrepidus Group, Matasano, NCC Group and NGS we have created one of the largest, most respected security consultancies in the world.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>
          <meta itemprop='keywords' content='elixir-announcement'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="57" />
           <span class='post-likes'>57 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/josevalim'><span itemprop='name'>josevalim</span></a>
            
              pinned globally 
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-02-28T19:17:36Z' class='post-time'>
                February 28, 2017,  7:17pm
              </time>
              <meta itemprop='dateModified' content='2017-02-28T19:17:36Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/dimitarvp'><span itemprop='name'>dimitarvp</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-02-28T21:37:55Z' class='post-time'>
                February 28, 2017,  9:37pm
              </time>
              <meta itemprop='dateModified' content='2017-02-28T21:37:55Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks for staying on top of things, much appreciated! I continue being impressed by you guys.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="7" />
           <span class='post-likes'>7 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/hubertlepicki'><span itemprop='name'>hubertlepicki</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-01T09:08:51Z' class='post-time'>
                March 1, 2017,  9:08am
              </time>
              <meta itemprop='dateModified' content='2017-03-01T09:08:51Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>So, as a learning tool, if I get it it means that:</p>
<ol>
<li>
<p>Attacker could alter the cookie to include serialized function, that would get de-serialized <em>and</em> executed during cookie de-serialization? Provided they can keep the cookie cryptographic signature at the same time.</p>
</li>
<li>
<p>Attacker could fetch a *.db file instead of *.ico file. Provided the secret file is somehow located in priv/static, and programmer specified :only, or :only_matching Plug.Static options. So fetching /assets/secret.db%00%favicon.ico would return secret.db file.</p>
</li>
</ol>
<p>Looking at Plug code I can see the 2) could really happen. Although it would mean the programmer is doing something weird already, like putting the secret.db file where it should not have been.</p>
<p>I can‚Äôt see how 1) could be exploited unless the programmer actually executes de-serialized functions. I think :erlang.binary_to_term will <em>not</em> re-define any already existing modules/functions. The only way to exploit it would be that the programmer does execute such de-serialized function, again doing something pretty weird. Is that correct?</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="4" />
           <span class='post-likes'>4 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/josevalim'><span itemprop='name'>josevalim</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-01T09:20:15Z' class='post-time'>
                March 1, 2017,  9:20am
              </time>
              <meta itemprop='dateModified' content='2017-03-01T09:20:15Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="4" data-topic="3913">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://elixirforum.com/user_avatar/elixirforum.com/hubertlepicki/40/6822_2.png" class="avatar"> hubertlepicki:</div>
<blockquote>
<p>Attacker could alter the cookie to include serialized function, that would get de-serialized and executed during cookie de-serialization? Provided they can keep the cookie cryptographic signature at the same time.</p>
</blockquote>
</aside>
<p>The function is NOT executed during de-serialization.</p>
<aside class="quote no-group" data-post="4" data-topic="3913">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://elixirforum.com/user_avatar/elixirforum.com/hubertlepicki/40/6822_2.png" class="avatar"> hubertlepicki:</div>
<blockquote>
<p>Attacker could fetch a *.db file instead of *.ico file. Provided the secret file is somehow located in priv/static, and programmer specified :only, or :only_matching Plug.Static options. So fetching /assets/secret.db%00%favicon.ico would return secret.db file.</p>
</blockquote>
</aside>
<p>You CANNOT bypass the :only and :only_matching checks with the null byte.</p>
<p>I cannot provide detailed information on how to exploit the attacks for now. In a week, once we have given developers enough time to upgrade, I will be glad to answer questions.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="4" />
           <span class='post-likes'>4 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/hubertlepicki'><span itemprop='name'>hubertlepicki</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-01T09:26:15Z' class='post-time'>
                March 1, 2017,  9:26am
              </time>
              <meta itemprop='dateModified' content='2017-03-01T09:26:15Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Okay, even better. I don‚Äôt think either of the issues is really severe, both require that programmer does make some bad decisions in addition to patched issues.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/yurko'><span itemprop='name'>yurko</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-01T10:00:37Z' class='post-time'>
                March 1, 2017, 10:00am
              </time>
              <meta itemprop='dateModified' content='2017-03-01T10:00:37Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>pure speculation below</p>
<blockquote>
<p>Attacker could alter the cookie to include serialized function, that would get de-serialized and executed during cookie de-serialization? Provided they can keep the cookie cryptographic signature at the same time.</p>
</blockquote>
<p>interesting point, looking forward to hear about what can be done here in a couple weeks. I‚Äôm scared of the scalable jwt concept though so I save auth cookies in the database and only process the ones I know I‚Äôve generated</p>
<blockquote>
<p>Attacker could fetch a *.db file instead of *.ico file. Provided the secret file is somehow located in priv/static, and programmer specified :only, or :only_matching Plug.Static options. So fetching /assets/secret.db%00%favicon.ico would return secret.db file.</p>
</blockquote>
<p>they could maybe upload some bash scripts and the execute them doing something as the app user</p>
<blockquote>
<p>I cannot provide detailed information on how to exploit the attacks for now. In a week, once we have given developers enough time to upgrade, I will be glad to answer questions.</p>
</blockquote>
<p><a class="mention" href="/u/josevalim">@josevalim</a> please do, I‚Äôd like to know more</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/hubertlepicki'><span itemprop='name'>hubertlepicki</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-01T10:03:15Z' class='post-time'>
                March 1, 2017, 10:03am
              </time>
              <meta itemprop='dateModified' content='2017-03-01T10:03:15Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="7" data-topic="3913">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://elixirforum.com/user_avatar/elixirforum.com/yurko/40/2369_2.png" class="avatar"> yurko:</div>
<blockquote>
<p>they could maybe upload some bash scripts and the execute them doing something as the app user</p>
</blockquote>
</aside>
<p>I think it is more likely a disallowed MIME type is sent to <em>client</em>. Like, you allow uploading/downloading PNG files but someone uploads a JAR file that gets automatically executed in the client‚Äôs browser.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/bbense'><span itemprop='name'>bbense</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-01T15:14:33Z' class='post-time'>
                March 1, 2017,  3:14pm
              </time>
              <meta itemprop='dateModified' content='2017-03-01T15:14:33Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I would encourage the Phoenix team to create a CVE for this vulnerablity if they have not already.</p>
<p><a href="https://cve.mitre.org/about/faqs.html" class="onebox" target="_blank" rel="nofollow noopener">https://cve.mitre.org/about/faqs.html</a></p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="5" />
           <span class='post-likes'>5 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/mariusbutuc'><span itemprop='name'>mariusbutuc</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-02T15:00:48Z' class='post-time'>
                March 2, 2017,  3:00pm
              </time>
              <meta itemprop='dateModified' content='2017-03-02T15:00:48Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Is there some sort of pipe that we can subscribe to for all sorts of Elixir security releases?</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="4" />
           <span class='post-likes'>4 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/mariusbutuc'><span itemprop='name'>mariusbutuc</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-02T15:52:54Z' class='post-time'>
                March 2, 2017,  3:52pm
              </time>
              <meta itemprop='dateModified' content='2017-03-02T15:52:54Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thoughts on something like <a href="http://support.gemnasium.com/forums/236528-general/suggestions/10885413-elixir-mix-support" rel="nofollow noopener">gemnasium</a> for this?</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="4" />
           <span class='post-likes'>4 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/josevalim'><span itemprop='name'>josevalim</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-06T14:38:32Z' class='post-time'>
                March 6, 2017,  2:38pm
              </time>
              <meta itemprop='dateModified' content='2017-03-06T14:38:32Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I have released Plug v1.3.3, v1.2.4, v1.1.8, v1.0.5 that also allows structs, bitstrings and improper lists to be deserialized.</p>
<p>Finally, when this thread is 7 days old, I will provide more information about the vulnerabilities. So if you haven‚Äôt upgraded yet, please do so.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="5" />
           <span class='post-likes'>5 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/josevalim'><span itemprop='name'>josevalim</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-07T09:13:10Z' class='post-time'>
                March 7, 2017,  9:13am
              </time>
              <meta itemprop='dateModified' content='2017-03-07T09:13:10Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi everyone,</p>
<p>Here is more information on the null byte issue, as reported by NCC Group:</p>
<blockquote>
<p>The ‚Äústatic‚Äù plug, used to serve assets in Plug-based web frameworks, serves two primary functions: locating the requested file, and setting the response content type. The asset content type is set dynamically, using the <code>Mime.from_path</code> function. For example, a request for the file ‚Äúimages/phoenix.png‚Äù will result in a content type of ‚Äúimage/png.‚Äù However, if the request is updated to ‚Äúimages/phoenix.png%00.html,‚Äù the resulting content type will be set to ‚Äútext/html.‚Äù</p>
</blockquote>
<p>Some have mentioned the vulnerability could cause a ‚Äúaccess control‚Äù issue, causing one user to see files permitted by other users, however I don‚Äôt believe that to be possible because:</p>
<ol>
<li>
<p>Plug.Static doesn‚Äôt provide any control access. All files are available to all users</p>
</li>
<li>
<p>If you are implementing control access by plugging Plug.Static on an authenticated route, it is most likely that you are doing authentication based on the path prefix rather than the path suffix and any ‚Äúweird character‚Äù, such as a null byte, would make authentication fail</p>
</li>
</ol>
<p>However, it is important to mention that this vulnerability may affect you even if you don‚Äôt use null byte. <a href="https://bugs.erlang.org/browse/ERL-370">A bug report has been filled on Erlang/OTP issues tracker</a>.</p>
<p>I will provide more information about the other vulnerability soon.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="5" />
           <span class='post-likes'>5 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/voltone'><span itemprop='name'>voltone</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-07T10:28:43Z' class='post-time'>
                March 7, 2017, 10:28am
              </time>
              <meta itemprop='dateModified' content='2017-03-07T10:28:43Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The access control issue <a class="mention" href="/u/josevalim">@josevalim</a> mentions is something I described in <a href="https://blog.voltone.net/post/10" rel="nofollow noopener">this post</a>. I agree that most sites would probably implement sharing at the directory level, but some cloud syncing services have more fine-grained access control, for example for use in an enterprise environment.</p>
<p>Still, even if the example is a bit obscure, the important takeaway is this: until the underlying issue in the Erlang runtime is resolved, the path you‚Äôre inspecting and the path that‚Äôs actually being read from (or written to) may differ, so any application that build paths with user input should probably implement null-byte screening.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="6" />
           <span class='post-likes'>6 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/josevalim'><span itemprop='name'>josevalim</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-07T12:12:39Z' class='post-time'>
                March 7, 2017, 12:12pm
              </time>
              <meta itemprop='dateModified' content='2017-03-07T12:12:39Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="14" data-topic="3913">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://elixirforum.com/user_avatar/elixirforum.com/voltone/40/2846_2.png" class="avatar"> voltone:</div>
<blockquote>
<p>The access control issue <a class="mention" href="/u/josevalim">@josevalim</a> mentions is something I described in this post.</p>
</blockquote>
</aside>
<p>Thank you, I couldn‚Äôt quite remember where I saw it. <img src="https://elixirforum.com/images/emoji/apple/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> It was also slightly referenced on this thread in regards to :only and :only_matching (which are also prefix based and therefore not vulnerable).</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/yurko'><span itemprop='name'>yurko</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-07T15:11:32Z' class='post-time'>
                March 7, 2017,  3:11pm
              </time>
              <meta itemprop='dateModified' content='2017-03-07T15:11:32Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="8" data-topic="3913">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://elixirforum.com/user_avatar/elixirforum.com/hubertlepicki/40/6822_2.png" class="avatar"> hubertlepicki:</div>
<blockquote>
<p>I think it is more likely a disallowed MIME type is sent to client.</p>
</blockquote>
</aside>
<p>from <a href="https://bugs.erlang.org/browse/ERL-370">https://bugs.erlang.org/browse/ERL-370</a></p>
<blockquote>
<p>While I don‚Äôt believe this poises a security issue in OTP itself, I believe the platform would be safer if it raised when a string or binary with a null byte is given anytime we are interacting with the filesystem.</p>
</blockquote>
<p>so you were mostly right but it is indeed a relatively minor issue <img src="https://elixirforum.com/images/emoji/apple/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/hubertlepicki'><span itemprop='name'>hubertlepicki</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-07T15:35:35Z' class='post-time'>
                March 7, 2017,  3:35pm
              </time>
              <meta itemprop='dateModified' content='2017-03-07T15:35:35Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The 2nd issue (cookie de-serialization) is only minor issue since Elixir/Erlang does not mix data and code into objects.</p>
<p>Rails had a similar issue back in a day where it would de-serialize stuff from params/cookie (don‚Äôt remember exactly) into classes. Combine that with ability to re-define classes at run time and you have remote code execution at it‚Äôs finest.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/yurko'><span itemprop='name'>yurko</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-07T15:39:49Z' class='post-time'>
                March 7, 2017,  3:39pm
              </time>
              <meta itemprop='dateModified' content='2017-03-07T15:39:49Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="17" data-topic="3913">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://elixirforum.com/user_avatar/elixirforum.com/hubertlepicki/40/6822_2.png" class="avatar"> hubertlepicki:</div>
<blockquote>
<p>Rails had a similar issue back in a day where it would de-serialize stuff from params/cookie (don‚Äôt remember exactly) into classes. Combine that with ability to re-define classes at run time and you have remote code execution at it‚Äôs finest.</p>
</blockquote>
</aside>
<p>so did PHP <a href="https://www.owasp.org/index.php/PHP_Object_Injection" rel="nofollow noopener">https://www.owasp.org/index.php/PHP_Object_Injection</a></p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/griffinbyatt'><span itemprop='name'>griffinbyatt</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-07T15:49:38Z' class='post-time'>
                March 7, 2017,  3:49pm
              </time>
              <meta itemprop='dateModified' content='2017-03-07T15:49:38Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>RE the quoted erlang bug report text:</p>
<p>I don‚Äôt think <a class="mention" href="/u/josevalim">@josevalim</a> intends to say that the null byte issue with Plug is minor, just that this isn‚Äôt necessarily a security issue in OTP itself.</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Elixir Programming Language Forum'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://elixirforum.com/uploads/default/original/2X/6/69cdf106f7ad3749056956ca28dc41e6b9b6a145.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://elixirforum.com/u/yurko'><span itemprop='name'>yurko</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://elixirforum.com/t/static-and-session-security-fixes-for-plug/3913">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2017-03-07T15:53:55Z' class='post-time'>
                March 7, 2017,  3:53pm
              </time>
              <meta itemprop='dateModified' content='2017-03-07T19:09:05Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>that‚Äôs what I said, my opinion may or may not be the same as Jose‚Äôs <img src="https://elixirforum.com/images/emoji/apple/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>To be precise about what I meant: the vulnerability might not be minor, but it is less severe than I thought (hence ‚Äúrelatively minor‚Äù).</p>
        </div>

        <meta itemprop='headline' content='Static and session security fixes for Plug'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="/t/static-and-session-security-fixes-for-plug/3913?page=2">next page ‚Üí</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'> <a href="https://elixirforum.com/t/elixir-forum-update-2018/11565">Giveaways</a> <a href="https://sponsors.elixirforum.com">Sponsors</a></p>
    </footer>
    <!--<div class="footer-feature-wrap">-->
<!--    <div class="footer-feature ef-panoramic">-->
<!--        <div class="">-->
<!--            <div class="column large-centered ef-footer-single-unit">-->
<!--                <ul>-->
<!--                    <li>-->
<!--                        test1-->
<!--                    </li>-->
<!--                    <li>-->
<!--                        test1-->
<!--                    </li>-->
<!--                </ul>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

                <!--<a href="http://pragprog.elixirforum.com" target="_blank" rel="nofollow"><img class="ef-thumbnail" src="/uploads/default/original/1X/948818f970d7a98ca82b82502ecc533c1efcff2b.png" alt="Win an ebook" /></a>-->


<div class="footer-sponsors-wrap">
    <div class="footer-sponsor-area">
        <div class="row">
            <header><h3>Our Sponsors</h3></header>
            <div>
		            <ul id="sponsors">
								
									<!--Diamond-->
									<li><a href="http://sponsors.elixirforum.com/dashbit" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/dashbit@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/podium" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/podium@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/pleroma" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/pleroma@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/validere" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/validere@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/erlang-solutions" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/erlang-solutions@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/logflare" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/logflare@2x.png"></a></li>
									


									<!--Platinum-->
									<li><a href="http://sponsors.elixirforum.com/pragprog" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/pragprog@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/appsignal" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/appsignal@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/bleacherreport" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/bleacherreport@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/manning" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/manning@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/defacto" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/defacto@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/elixircasts" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/elixircasts@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/elixirexperts" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/elixirexperts@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/pepsico" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/pepsico@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/nimble" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/nimble@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/papercups" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/papercups@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/joydrive" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/joydrive@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/therealreal" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/therealreal@2x.png"></a></li>
                  
                  

									<!--Gold-->
									<li><a href="http://sponsors.elixirforum.com/alembic" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/alembic@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/amplified" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/amplified@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/wyeworks" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/wyeworks@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/mux" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/mux@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/slab" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/slab@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/outrunlabs" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/outrunlabs@2x.png"></a></li>
									<li><a href="http://sponsors.elixirforum.com/softwaremansion" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/softwaremansion@2x.png"></a></li>
                  <li><a href="http://sponsors.elixirforum.com/digital-onboarding" target="_blank" rel="nofollow"><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/digital-onboarding@2x.png"></a></li>
									


									<li><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/blank@2x.png"></li>
									<li><img class="sponsors-logo-forum" src="https://sponsors.elixirforum.com/images/sponsors/mono/blank@2x.png"></li>
                  


                </ul>
            </div>
        </div>
    </div>
</div>




<div class="ef-footer-wrap">
    <div class="ef-footer">
        <div class="ef-footer-inner cf">
            
            <div class="main-col-wrap">
                <section class="main-col">
                    <div class="ef-footer-links">
                        <ul>
                            <li><a href="/about">Contact Us</a></li>
                            <li><a href="/faq">Help</a></li>
                            <li><a href="#">Back to top</a></li>
                        </ul>
                    </div>
                    <p class="ef-last-line">
                        ¬© Copyright Elixir Forum | <a href="/tos">Terms</a> | <a href="/privacy">Privacy &amp; Cookies</a>
                    </p>
                </section><!-- /mainCol -->
            </div>

            <div class="logo-col-wrap">
                <div class="logo-col">
                    <a href="http://elixirforum.com"><img src="/uploads/default/original/1X/6e88893897b82e42a00778d4ddff32a3dddb1327.png" alt="Elixir Forum"></a>
                </div>
            </div>
        
        </div><!-- /pageBodyInner+cf -->    
    </div><!-- /pageBody -->
</div>















    
  </body>
  
</html>
