<!DOCTYPE html><html><head><meta charset="UTF-8" /><title>⚓ T42747 CentralAuth CSRF</title><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /><link rel="mask-icon" color="#3D4B67" href="https://phab.wmfusercontent.org/res/phabricator/db699fe1/rsrc/favicons/mask-icon.svg" /><link rel="apple-touch-icon" sizes="76x76" href="https://phab.wmfusercontent.org/file/data/wai6mh2gkrssonesklmm/PHID-FILE-jiixbumihmhuzz2paeut/favicon" /><link rel="apple-touch-icon" sizes="120x120" href="https://phab.wmfusercontent.org/file/data/a3izriz5azyzso4bnueg/PHID-FILE-ps6cpmki336a7zc3oqjn/favicon" /><link rel="apple-touch-icon" sizes="152x152" href="https://phab.wmfusercontent.org/file/data/o2jxp55a4p46ytynsfng/PHID-FILE-rug6ohtqrwvnunh5kj4x/favicon" /><link rel="icon" id="favicon" href="https://phab.wmfusercontent.org/file/data/ylbeoktf43zmd3loe435/PHID-FILE-ahr5qqrmgg3kjvzhpv4k/favicon" /><meta name="referrer" content="no-referrer" /><link rel="stylesheet" type="text/css" href="https://phab.wmfusercontent.org/res/defaultX/phabricator/109deb6e/core.pkg.css" /><link rel="stylesheet" type="text/css" href="https://phab.wmfusercontent.org/res/defaultX/phabricator/35995d6d/maniphest.pkg.css" /><link rel="stylesheet" type="text/css" href="https://phab.wmfusercontent.org/res/defaultX/phabricator/666e25ad/rsrc/css/phui/phui-badge.css" /><script type="text/javascript" src="https://phab.wmfusercontent.org/res/defaultX/phabricator/98e6504a/rsrc/externals/javelin/core/init.js"></script></head><body class="device-desktop phui-theme-blue"><div class="main-page-frame" id="main-page-frame"><div id="phabricator-standard-page" class="phabricator-standard-page"><div class="phabricator-main-menu phabricator-main-menu-background" id="UQ0_111"><a class=" phabricator-core-user-menu phabricator-core-user-mobile-menu" href="#" role="button" data-sigil="phui-dropdown-menu" data-meta="0_291"><span class="aural-only">Page Menu</span><span class="visual-only phui-icon-view phui-font-fa fa-bars" data-meta="0_292" aria-hidden="true"></span><span class="caret"></span></a><a class="phabricator-main-menu-search-button phabricator-expand-application-menu" data-sigil="jx-toggle-class" data-meta="0_290"><span class="phabricator-menu-button-icon phui-icon-view phui-font-fa fa-search" id="UQ0_160"></span></a><a class="phabricator-main-menu-brand" href="/"><span class="aural-only">Home</span><span class="phabricator-main-menu-eye" style="background-size: 40px 40px; background-position: 0 0; background-image: url(https://phab.wmfusercontent.org/file/data/qzfmum4xnhfoqpl7ws7r/PHID-FILE-rs3pf2brupiulr6zcnrg/Wikimedia-Phabricator-logo.png)"></span><span class="phabricator-wordmark">Phabricator</span></a><ul class="phui-list-view phabricator-search-menu"><li class="phui-list-item-view phui-list-item-type-link phabricator-main-menu-search"><div class="" data-sigil=""><form action="/search/" method="POST"><input type="hidden" name="__csrf__" value="B@yngxukfq9faca2ae4e4fde63" /><input type="hidden" name="__form__" value="1" /><div class="phabricator-main-menu-search-container"><input type="text" name="query" id="UQ0_161" autocomplete="off" accesskey="F" autocorrect="off" autocapitalize="off" spellcheck="false" /><button id="UQ0_163" class="phui-icon-view phui-font-fa fa-search"><span class="aural-only">Search</span></button><button class="button dropdown has-icon phui-button-default phabricator-main-menu-search-dropdown" id="UQ0_164" data-sigil="global-search-dropdown" data-meta="0_293"><span class="aural-only">Configure Global Search</span><span class="visual-only phui-icon-view phui-font-fa fa-globe" data-sigil="global-search-dropdown-icon" data-meta="0_294" aria-hidden="true"></span><span class="caret"></span></button><input type="hidden" name="search:scope" value="all" data-sigil="global-search-dropdown-input" /><input type="hidden" id="UQ0_165" name="search:application" value="PhabricatorManiphestApplication" data-sigil="global-search-dropdown-app" /><input type="hidden" name="search:primary" value="true" /><div id="UQ0_162" class="phabricator-main-menu-search-target"></div></div></form></div></li></ul><a class=" phabricator-core-login-button" href="https://phabricator.wikimedia.org/auth/start/?next=%2FT42747" role="button"><div class="phui-button-text">Log In</div></a></div><div id="phabricator-standard-page-body" class="phabricator-standard-page-body"><div class="phui-crumbs-view phui-crumbs-border"><div class="phui-crumbs-actions"><a href="/maniphest/task/edit/nocreate/" class="phui-crumbs-action" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-plus-square" data-meta="0_295" aria-hidden="true"></span><span class="phui-crumbs-action-name">Create Task</span></a></div><a href="/maniphest/" class="phui-crumb-view phui-crumb-has-icon"><span class="visual-only phui-icon-view phui-font-fa fa-anchor" data-meta="0_296" aria-hidden="true"></span><span class="phui-crumb-name"> Maniphest</span> </a><span class="visual-only phui-icon-view phui-font-fa fa-angle-right phui-crumb-divider phui-crumb-view" data-meta="0_297" aria-hidden="true"></span><span class="phui-crumb-view phabricator-last-crumb"><span class="phui-crumb-name"> T42747</span> </span></div><div class="phui-two-column-view phui-side-column-right "><div class="phui-two-column-container"><div class="phui-two-column-header"><div class="phui-header-shell phui-header-tall "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header"><span class="visual-only phui-icon-view phui-font-fa fa-check-square-o red phui-header-icon" data-meta="0_286" aria-hidden="true"></span>CentralAuth CSRF</span><div class="phui-header-subheader"><span class="phui-tag-view phui-tag-type-shade phui-tag-indigo phui-tag-shade phui-tag-icon-view "><span class="phui-tag-core "><span class="visual-only phui-icon-view phui-font-fa fa-check-square-o" data-meta="0_289" aria-hidden="true"></span>Closed, Resolved</span></span><span class="policy-header-callout"><span class="visual-only phui-icon-view phui-font-fa fa-globe bluegrey" data-meta="0_288" aria-hidden="true"></span><a class="policy-link" href="/policy/explain/PHID-TASK-3vljexbyxvfimaqzdrpf/view/" data-sigil="workflow">Public</a></span></div></div><div class="phui-header-col3"><div class="phui-header-action-links"><a class="button button-grey has-icon has-text phui-button-default phui-mobile-menu msl phui-header-action-link" href="#" role="button" data-sigil="phui-dropdown-menu" data-meta="0_284"><span class="visual-only phui-icon-view phui-font-fa fa-bars" data-meta="0_285" aria-hidden="true"></span><div class="phui-button-text">Actions</div></a></div></div></div></h1></div></div><div class="phui-two-column-content"><div class="phui-two-column-row grouped"><div class="phui-side-column"><div class=""><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-two-column-properties"><ul class="phabricator-action-list-view " id="UQ0_0"><li id="UQ0_80" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style=""><a href="/maniphest/task/edit/42747/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-pencil grey phabricator-action-view-icon" data-meta="0_262" aria-hidden="true"></span>Edit Task</a></li><li id="UQ0_87" class="phabricator-action-view phabricator-action-view-submenu phabricator-action-view-href action-has-icon" style="" data-sigil="phui-submenu" data-meta="0_264"><a href="#" class="phabricator-action-view-item" data-sigil="keep-open"><span class="visual-only phui-icon-view phui-font-fa fa-anchor phabricator-action-view-icon" data-meta="0_263" aria-hidden="true"></span>Edit Related Tasks...<span class="caret-right" id="UQ0_81"></span></a></li><li id="UQ0_82" class="phabricator-action-view phabricator-action-view-href action-has-icon" style="display: none; margin-left: 16px;"><a href="/maniphest/task/subtask/42747/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-level-down phabricator-action-view-icon" data-meta="0_265" aria-hidden="true"></span>Create Subtask</a></li><li id="UQ0_83" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style="display: none; margin-left: 16px;"><a href="/search/rel/task.has-parent/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-circle-up grey phabricator-action-view-icon" data-meta="0_266" aria-hidden="true"></span>Edit Parent Tasks</a></li><li id="UQ0_84" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style="display: none; margin-left: 16px;"><a href="/search/rel/task.has-subtask/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-circle-down grey phabricator-action-view-icon" data-meta="0_267" aria-hidden="true"></span>Edit Subtasks</a></li><li id="UQ0_85" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style="display: none; margin-left: 16px;"><a href="/search/rel/task.merge-in/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-compress grey phabricator-action-view-icon" data-meta="0_268" aria-hidden="true"></span>Merge Duplicates In</a></li><li id="UQ0_86" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style="display: none; margin-left: 16px;"><a href="/search/rel/task.close-as-duplicate/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-times grey phabricator-action-view-icon" data-meta="0_269" aria-hidden="true"></span>Close As Duplicate</a></li><li id="UQ0_97" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-submenu phabricator-action-view-href action-has-icon" style="" data-sigil="phui-submenu" data-meta="0_271"><a href="#" class="phabricator-action-view-item" data-sigil="keep-open"><span class="visual-only phui-icon-view phui-font-fa fa-link grey phabricator-action-view-icon" data-meta="0_270" aria-hidden="true"></span>Edit Related Objects...<span class="caret-right" id="UQ0_93"></span></a></li><li id="UQ0_94" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style="display: none; margin-left: 16px;"><a href="/search/rel/task.has-commit/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-code grey phabricator-action-view-icon" data-meta="0_272" aria-hidden="true"></span>Edit Commits</a></li><li id="UQ0_95" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style="display: none; margin-left: 16px;"><a href="/search/rel/task.has-mock/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-camera-retro grey phabricator-action-view-icon" data-meta="0_273" aria-hidden="true"></span>Edit Mocks</a></li><li id="UQ0_96" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style="display: none; margin-left: 16px;"><a href="/search/rel/task.has-revision/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-cog grey phabricator-action-view-icon" data-meta="0_274" aria-hidden="true"></span>Edit Revisions</a></li><li id="UQ0_102" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style=""><form action="/subscriptions/add/PHID-TASK-3vljexbyxvfimaqzdrpf/" method="POST" data-sigil="workflow"><input type="hidden" name="__csrf__" value="B@yngxukfq9faca2ae4e4fde63" /><input type="hidden" name="__form__" value="1" /><button class="phabricator-action-view-item"><span class="visual-only phui-icon-view phui-font-fa fa-plus-circle grey phabricator-action-view-icon" data-meta="0_275" aria-hidden="true"></span>Subscribe</button></form></li><li id="UQ0_104" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style=""><a href="/subscriptions/mute/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-volume-up grey phabricator-action-view-icon" data-meta="0_276" aria-hidden="true"></span>Mute Notifications</a></li><li id="UQ0_106" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style=""><a href="/wmf/escalate-task/42747/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-eye-slash grey phabricator-action-view-icon" data-meta="0_277" aria-hidden="true"></span>Protect as security issue</a></li><li id="UQ0_108" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style=""><a href="/token/give/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-trophy grey phabricator-action-view-icon" data-meta="0_278" aria-hidden="true"></span>Award Token</a></li><li id="UQ0_110" class="phabricator-action-view phabricator-action-view-disabled phabricator-action-view-href action-has-icon" style=""><a href="/flag/edit/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-flag grey phabricator-action-view-icon" data-meta="0_279" aria-hidden="true"></span>Flag For Later</a></li></ul><div class="phui-curtain-panel "><div class="phui-curtain-panel-header">Assigned To</div><div class="phui-curtain-panel-body"><div class="phui-curtain-object-ref-list-view "><div class="phui-curtain-object-ref-list-view-empty">None</div></div></div></div><div class="phui-curtain-panel "><div class="phui-curtain-panel-header">Authored By</div><div class="phui-curtain-panel-body"><div class="phui-curtain-object-ref-list-view "><div class="phui-curtain-object-ref-view "><table><tbody><tr class="phui-curtain-object-ref-view-with-content"><td rowspan="2" class="phui-curtain-object-ref-view-image-cell"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jredbx6xkxr7327lqcoy/PHID-FILE-gmtras7jc2f46newjfyc/alphanumeric_lato-dark_P.png-_5c8596-255%2C255%2C255%2C0.7.png)" href="/p/Platonides/" class="visual-only" aria-hidden="true"></a></td><td class="phui-curtain-object-ref-view-title-cell"><a href="/p/Platonides/" class="phui-handle phui-link-person">Platonides</a></td></tr><tr><td class="phui-curtain-object-ref-view-epoch-cell"><span class="screen-only">Oct 3 2012, 8:37 PM</span><span class="print-only" aria-hidden="true">2012-10-03 20:37:00 (UTC+0)</span></td></tr></tbody></table></div></div></div></div><div class="phui-curtain-panel "><div class="phui-curtain-panel-header">Tags</div><div class="phui-curtain-panel-body"><ul class="phabricator-handle-tag-list "><li class="phabricator-handle-tag-list-item"><a href="/tag/mediawiki-extensions-centralauth/" class="phui-tag-view phui-tag-type-shade phui-tag-blue phui-tag-shade phui-tag-icon-view " data-sigil="hovercard" data-meta="0_281"><span class="phui-tag-core "><span class="visual-only phui-icon-view phui-font-fa fa-briefcase" data-meta="0_280" aria-hidden="true"></span>MediaWiki-extensions-CentralAuth</span></a> <a href="/project/board/167/" class="maniphest-board-link">(Done)</a></li><li class="phabricator-handle-tag-list-item"><a href="/tag/security/" class="phui-tag-view phui-tag-type-shade phui-tag-yellow phui-tag-shade phui-tag-icon-view " data-sigil="hovercard" data-meta="0_283"><span class="phui-tag-core "><span class="visual-only phui-icon-view phui-font-fa fa-tags" data-meta="0_282" aria-hidden="true"></span>Security</span></a></li></ul></div></div><div class="phui-curtain-panel "><div class="phui-curtain-panel-header">Subscribers</div><div class="phui-curtain-panel-body"><div class="phui-curtain-object-ref-list-view "><div class="phui-curtain-object-ref-view "><table><tbody><tr class="phui-curtain-object-ref-view-without-content"><td class="phui-curtain-object-ref-view-image-cell"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/4h5dmot6nehv5c5n7vpw/PHID-FILE-ro2f3f7bnwoqdfrn3wam/profile-avatar_17180-480-20091111194617.jpeg)" href="/p/brion/" class="visual-only" aria-hidden="true"></a></td><td class="phui-curtain-object-ref-view-title-cell"><a href="/p/brion/" class="phui-handle phui-link-person">brion</a></td></tr></tbody></table></div><div class="phui-curtain-object-ref-view "><table><tbody><tr class="phui-curtain-object-ref-view-without-content"><td class="phui-curtain-object-ref-view-image-cell"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/de7rnuucgwsa2u5ow7bn/PHID-FILE-towcvgcmdefffz27aphc/profile-gravatar.jpg)" href="/p/Catrope/" class="visual-only" aria-hidden="true"></a></td><td class="phui-curtain-object-ref-view-title-cell"><a href="/p/Catrope/" class="phui-handle phui-link-person">Catrope</a></td></tr></tbody></table></div><div class="phui-curtain-object-ref-view "><table><tbody><tr class="phui-curtain-object-ref-view-without-content"><td class="phui-curtain-object-ref-view-image-cell"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/qo3i4d66ft2zrojvae66/PHID-FILE-yix4j6a7v4ibpl5wsxgd/profile)" href="/p/hoo/" class="visual-only" aria-hidden="true"></a></td><td class="phui-curtain-object-ref-view-title-cell"><a href="/p/hoo/" class="phui-handle phui-link-person">hoo</a></td></tr></tbody></table></div><div class="phui-curtain-object-ref-view "><table><tbody><tr class="phui-curtain-object-ref-view-without-content"><td class="phui-curtain-object-ref-view-image-cell"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/5jthoz7jsgkdv2urcn4p/PHID-FILE-625muwnyjyqrkzxbtizx/profile)" href="/p/MZMcBride/" class="visual-only" aria-hidden="true"></a></td><td class="phui-curtain-object-ref-view-title-cell"><a href="/p/MZMcBride/" class="phui-handle phui-link-person">MZMcBride</a></td></tr></tbody></table></div><div class="phui-curtain-object-ref-view "><table><tbody><tr class="phui-curtain-object-ref-view-without-content"><td class="phui-curtain-object-ref-view-image-cell"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jredbx6xkxr7327lqcoy/PHID-FILE-gmtras7jc2f46newjfyc/alphanumeric_lato-dark_P.png-_5c8596-255%2C255%2C255%2C0.7.png)" href="/p/Platonides/" class="visual-only" aria-hidden="true"></a></td><td class="phui-curtain-object-ref-view-title-cell"><a href="/p/Platonides/" class="phui-handle phui-link-person">Platonides</a></td></tr></tbody></table></div><div class="phui-curtain-object-ref-view "><table><tbody><tr class="phui-curtain-object-ref-view-without-content"><td class="phui-curtain-object-ref-view-image-cell"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/gmb3bohtvy22zzvlaje7/PHID-FILE-zcwqxhkprdlj5oadwhav/profile)" href="/p/Reedy/" class="visual-only" aria-hidden="true"></a></td><td class="phui-curtain-object-ref-view-title-cell"><a href="/p/Reedy/" class="phui-handle phui-link-person">Reedy</a></td></tr></tbody></table></div><div class="phui-curtain-object-ref-view "><table><tbody><tr class="phui-curtain-object-ref-view-without-content"><td class="phui-curtain-object-ref-view-image-cell"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/5mvxcy5cwycqckf77ybc/PHID-FILE-arsc3oaladmr2wxlgr5v/alphanumeric_lato-dark_S.png-_5f9489-255%2C255%2C255%2C0.4.png)" href="/p/Snowolf/" class="visual-only" aria-hidden="true"></a></td><td class="phui-curtain-object-ref-view-title-cell"><a href="/p/Snowolf/" class="phui-handle phui-link-person">Snowolf</a></td></tr></tbody></table></div><div class="phui-curtain-object-ref-list-view-tail"><a href="/subscriptions/list/PHID-TASK-3vljexbyxvfimaqzdrpf/" class="" data-sigil="workflow">View All 9 Subscribers</a></div></div></div></div></div></div></div><div class="phui-main-column"><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Description</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-property-list-section"><div class="phui-property-list-text-content"><div class="phabricator-remarkup"><div class="phabricator-remarkup"><p>The CSRF vulnerability in CentralAuth is still not fixed.</p>

<p>Copying from the «Bug 23076 strikes again» mail to private-l:<br />
The Wikimedia setup is still vulnerable to bug 23076, the CSRF bug which potentially allowed to log in third parties with the attacker account executing its javascript.</p>

<p>we created the hole with CentralAuth. The image loading is another login entry point, and it isn&#039;t protected by a cookie session nor can they easily be.<br />
This is harder to exploit than bug 23076 or bug 23371, since the attacker can&#039;t give out the credentials on the malicious page and let the user autolog. The server would need to log in itself at request time and pass through the login image url it gets. At much, he could login different people on each domain. Tokens can only be used once and expire at 10 minutes so it needs to request a new one per victim. Note that this can&#039;t be fixed by just reducing the timeout.<br />
Also, users already logged in are also vulnerable, being relogged into the new account.</p>

<p>In order to protect the image auto login token, Special:Userlogin should point with a token to a page on the target server which sets the login, redirects back with a session identifying token, then get redirected again to the real image at the target.<br />
Since all wikis live in the same cluster, this last redirect could be skipped, with the original wiki setting the session for the target one. But it has to be carefully done. Otherwise the attacker could create a new session and attach itself to the user login.</p>

<p>Another option is to completely ditch image autoloading and have the user pass through Userlogin posting to a login server. If the user is logged there, it is redirected back logged in (you still need a token on that url). That has additional advantages, since it would solve &quot;my wiki is not included&quot; claims (bug 14407), skip third party cookies issues (bug 14736), autoaccount creation privacy (bug 19161) and all login actions could be performed by SSL (bug 12884).<br />
On the other hand, now that users are used to automatic login almost everywhere, they may not be willing to press an extra button when they change projects.</p>

<hr class="remarkup-hr" />

<p><strong>Version</strong>: unspecified<br />
<strong>Severity</strong>: normal</p></div></div></div></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-box-blue-property "><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Details</span></div><div class="phui-header-col3"></div></div></h1></div><div class="phui-property-list-section"><div class="phui-property-list-container grouped"><div class="phui-property-list-properties-wrap "><dl class="phui-property-list-properties"><dt class="phui-property-list-key">Reference </dt><dd class="phui-property-list-value">bz40747 </dd></dl></div></div></div></div><div class="phui-timeline-view" id="UQ0_2"><h3 class="aural-only">Event Timeline</h3><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-yellow" data-sigil="transaction anchor-container" data-meta="0_67"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/ovytmbleapqqbp2q34as/PHID-FILE-ukx4a3vvpumxtlt3rof2/profile-Screen_Shot_2014-11-24_at_10.24.10_AM.png)" class="visual-only phui-timeline-image" href="/p/bzimport/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><a name="451494" id="451494" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill fill-has-color phui-timeline-icon-fill-yellow"><span class="visual-only phui-icon-view phui-font-fa fa-arrow-up phui-timeline-icon" data-meta="0_63" aria-hidden="true"></span></span><a href="/p/bzimport/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_0"><span class="perfect-circle">•</span> bzimport</a> raised the priority of this task from <span class="phui-timeline-value"></span> to <span class="phui-timeline-value">High</span>.<span class="phui-timeline-extra"><a href="#451494" data-sigil="has-tooltip" data-meta="0_62"><span class="screen-only">Nov 22 2014, 12:58 AM</span><span class="print-only" aria-hidden="true">2014-11-22 00:58:38 (UTC+0)</span></a></span></div><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-link phui-timeline-icon" data-meta="0_64" aria-hidden="true"></span></span><a href="/p/bzimport/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_3"><span class="perfect-circle">•</span> bzimport</a> added a project: <a href="/tag/mediawiki-extensions-centralauth/" class="phui-handle" data-sigil="hovercard" data-meta="0_4">MediaWiki-extensions-CentralAuth</a>.</div><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-pencil phui-timeline-icon" data-meta="0_65" aria-hidden="true"></span></span><a href="/p/bzimport/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_5"><span class="perfect-circle">•</span> bzimport</a> set Reference to bz40747.</div><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-user-plus phui-timeline-icon" data-meta="0_66" aria-hidden="true"></span></span><a href="/p/bzimport/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_6"><span class="perfect-circle">•</span> bzimport</a> added a subscriber: <span class="phui-handle" data-sigil="hovercard" data-meta="0_7">Unknown Object (MLST)</span>.</div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_70"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jredbx6xkxr7327lqcoy/PHID-FILE-gmtras7jc2f46newjfyc/alphanumeric_lato-dark_P.png-_5c8596-255%2C255%2C255%2C0.7.png)" class="visual-only phui-timeline-image" href="/p/Platonides/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><a name="451499" id="451499" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-pencil phui-timeline-icon" data-meta="0_69" aria-hidden="true"></span></span><a href="/p/Platonides/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_8">Platonides</a> created this task.<span class="phui-timeline-extra"><a href="#451499" data-sigil="has-tooltip" data-meta="0_68"><span class="screen-only">Oct 3 2012, 8:37 PM</span><span class="print-only" aria-hidden="true">2012-10-03 20:37:00 (UTC+0)</span></a></span></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_79"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451502" id="451502" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_78" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_9">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451502" data-sigil="has-tooltip" data-meta="0_77"><span class="screen-only">Oct 3 2012, 11:15 PM</span><span class="print-only" aria-hidden="true">2012-10-03 23:15:35 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_75"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_76" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_10"><div class="phabricator-remarkup"><p>Platonides, thank you for reporting the issue. I see what you mean, and I agree this could be exploited.</p>

<p>I do think your first suggestion, with the callback to the originating server, is the way to go. It&#039;s a little tricky, so I&#039;m not sure this is something we can get out by next week, but I&#039;ll start working on it.</p>

<p>So basically, the protocol would look something like:</p>

<p>a) User performs login to Wiki1</p>

<p>b) Wiki1 sets the session cookie, and sets something (javascript, image, iframe) to Wiki2, and a token(1) that identifies the user.</p>

<p>c) Browser passes token(1) to Wiki2, using token(1) the User&#039;s id can be derived</p>

<p>d) If token(1) looks valid, Wiki2 starts a &quot;pending&quot; session for the browser, and returns a session cookie to the browser. A token(2) that identifies the user id to Wiki1 and the anonymous session id of Wiki2 is passed back as well.</p>

<p>e) The browser sends token(2) back to Wiki1; the user is logged into Wiki1, so the request is tied to the original user.</p>

<p>f) If the identity of token(2) matches the logged in session on Wiki1, Wiki1 can either:</p>

<p>f1) Tell Wiki2 (using something in token(2)) that the ID is verified-- update a shared memcache object, most likely.</p>

<p>f2) Pass back a token(3) that identifies the user_id, and can be sent to Wiki2 so that Wiki2 can upgrade the user&#039;s session from &quot;pending&quot; to an authenticated session for the given user_id.</p>

<p>I want to try attacking this protocol a good bit before I implement, but that&#039;s my initial thought. If anyone sees a problem with it, or has a better idea, please update.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_88"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/xgl3wy55ovinfnucvwhx/PHID-FILE-zocnksypiqutzf5oubpi/profile)" class="visual-only phui-timeline-image" href="/p/tstarling/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451505" id="451505" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_87" aria-hidden="true"></span></span><a href="/p/tstarling/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_11">tstarling</a> added a comment.<span class="phui-timeline-extra"><a href="#451505" data-sigil="has-tooltip" data-meta="0_86"><span class="screen-only">Oct 4 2012, 12:01 AM</span><span class="print-only" aria-hidden="true">2012-10-04 00:01:55 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_84"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_85" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_12"><div class="phabricator-remarkup"><p>That scheme sounds good to me. f1 could presumably be done by writing to the user&#039;s global session with CentralAuthUser::setSession(). Then CentralAuthHooks::onUserLoadFromSession() would be patched to disallow logins for users with &quot;pending&quot; sessions.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_97"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jredbx6xkxr7327lqcoy/PHID-FILE-gmtras7jc2f46newjfyc/alphanumeric_lato-dark_P.png-_5c8596-255%2C255%2C255%2C0.7.png)" class="visual-only phui-timeline-image" href="/p/Platonides/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451517" id="451517" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_96" aria-hidden="true"></span></span><a href="/p/Platonides/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_13">Platonides</a> added a comment.<span class="phui-timeline-extra"><a href="#451517" data-sigil="has-tooltip" data-meta="0_95"><span class="screen-only">Oct 4 2012, 10:17 AM</span><span class="print-only" aria-hidden="true">2012-10-04 10:17:00 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_93"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_94" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_14"><div class="phabricator-remarkup"><p>Yes, Chris, that was the idea. :)</p>

<p>I remember to think about implementing it with different classes for the different variants.</p>

<p>It may be reusable for OAuth/OpenID solutions.<br />
It can be used to answer the &quot;Is this really user X?&quot; question for generic sites with a couple of tweaks, I&#039;m just unsure if it would fit into any of those protocols (or if we would want to use them).</p>

<p>Finally, I&#039;m not a fan of doing so many redirects in the login process, but they are needed.</p>

<p>An option would be to perform them lazily: Stop at (d). When the user visits Wiki2 for the first time, it sees the pending session, redirects to Wiki1 (which verifies it&#039;s still logged in the wiki as the expected user) and finally redirects you back.<br />
This is based in that you won&#039;t be visiting all the domains on the session, so we can skip most redirects, and perform them only when needed.</p>

<p>Another would be to daisy chain the redirects, in which case there&#039;s only one redirect back to Wiki1 instead of N (N = # of domains). The problem is that the image loading is now slower, with N+1 redirects, instead of N parallel requests of 2-3 redirects each.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_106"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jredbx6xkxr7327lqcoy/PHID-FILE-gmtras7jc2f46newjfyc/alphanumeric_lato-dark_P.png-_5c8596-255%2C255%2C255%2C0.7.png)" class="visual-only phui-timeline-image" href="/p/Platonides/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451527" id="451527" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_105" aria-hidden="true"></span></span><a href="/p/Platonides/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_15">Platonides</a> added a comment.<span class="phui-timeline-extra"><a href="#451527" data-sigil="has-tooltip" data-meta="0_104"><span class="screen-only">Oct 4 2012, 10:16 PM</span><span class="print-only" aria-hidden="true">2012-10-04 22:16:27 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_102"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_103" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_16"><div class="phabricator-remarkup"><p>I think that we could do the following:</p>

<p>A) User Alice logs in into kg.wikipedia.org.</p>

<p>B) kgwiki sets its local session</p>

<p>C) The current images system is used for all domains, which then set a cookie session saying &quot;this is Alice, kgwiki knows it&quot;.<br />
(it is saved into a shortlived token, then copied into each session)</p>

<p>D) When Alice visits a wiki where she doesn&#039;t have a local session, such as <a href="http://gl.wiktionary.org/wiki/biblioteca" class="remarkup-link" target="_blank" rel="noreferrer">http://gl.wiktionary.org/wiki/biblioteca</a> it sees the global cookie, creates a local session and redirects her to <a href="https://kg.wikipedia.org/wiki/Special:VerifyIdentity" class="remarkup-link" target="_blank" rel="noreferrer">https://kg.wikipedia.org/wiki/Special:VerifyIdentity</a> with a message-token asking &quot;I&#039;m glwikt, is this really Alice? Place result in session XYZ&quot;</p>

<p>E) kgwiki sees she&#039;s still logged in there and redirects her back to <a href="https://gl.wiktionary.org/wiki/biblioteca" class="remarkup-link" target="_blank" rel="noreferrer">https://gl.wiktionary.org/wiki/biblioteca</a></p>

<p>F) She sees <a href="https://gl.wiktionary.org/wiki/biblioteca" class="remarkup-link" target="_blank" rel="noreferrer">https://gl.wiktionary.org/wiki/biblioteca</a> logged in.</p>

<p>Note:<br />
Less requests in initial login (one http request per domain)</p>

<p>We can now set the central cookie on *.wikimedia.org since the central cookie is no longer equivalent to account access (solves bug 14407)</p>

<p>As we are redirecting the user anyway, we can redirect her to the https at step D (bug 29898).</p>

<p>Further session logins (ie. glwikt) can also be tied to the original one (kgwiki) and get a global logout in one step (Alice then goes to enwiki and logs out there, the glwikt cookie she still has is now useless).</p>

<p>The local session created in D is sent by http once, so it should be destroyed and recreated in F.</p>

<p>There&#039;s a little window where an eavesdropper could elevate itself between that cookie is elevated and Alice browser loads again glwikt, though. (worth going to https first?)</p>

<p>At F there must also be a local unsecure cookie pointing out that the user is logged in at https, so redirect to https directly, not through kgwiki.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_115"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451533" id="451533" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_114" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_17">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451533" data-sigil="has-tooltip" data-meta="0_113"><span class="screen-only">Oct 16 2012, 12:33 AM</span><span class="print-only" aria-hidden="true">2012-10-16 00:33:32 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_111"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_112" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_18"><div class="phabricator-remarkup"><p>Created attachment 11200<br />
Three-stage session setup</p>

<p>This is basically what I outlined in my description, except after looking into it, I realized that we need to do the third redirect back to the attached wiki, so that the Username/Token cookies can be set (if the user clicked &quot;remember me&quot;), since Username/Token is preferred for identifying the user over the session cookie.</p>

<p>Also fixed a session fixation bug in this patch.</p>

<p>If this looks ok, we&#039;ll deploy it to the WMF cluster, add it into gerrit, and I&#039;ll add a notice about it when we we announce 1.19.3.</p>

<p><strong>Attached</strong>: <div href="https://phab.wmfusercontent.org/file/data/udiub42sh5cypecc4hld/PHID-FILE-7vernicdimyicky4a7sc/3stage.patch" target="_blank" rel="noreferrer" class="phabricator-remarkup-embed-layout-link " data-sigil="lightboxable" data-meta="0_1" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-file-text-o phabricator-remarkup-embed-layout-icon" data-meta="0_2" aria-hidden="true"></span><span class="phabricator-remarkup-embed-layout-info-block"><span class="phabricator-remarkup-embed-layout-name">3stage.patch</span><span class="phabricator-remarkup-embed-layout-info">13 KB</span></span><a class="phabricator-remarkup-embed-layout-download" href="https://phab.wmfusercontent.org/file/download/udiub42sh5cypecc4hld/PHID-FILE-7vernicdimyicky4a7sc/3stage.patch">Download</a></div></p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_124"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jredbx6xkxr7327lqcoy/PHID-FILE-gmtras7jc2f46newjfyc/alphanumeric_lato-dark_P.png-_5c8596-255%2C255%2C255%2C0.7.png)" class="visual-only phui-timeline-image" href="/p/Platonides/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451535" id="451535" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_123" aria-hidden="true"></span></span><a href="/p/Platonides/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_19">Platonides</a> added a comment.<span class="phui-timeline-extra"><a href="#451535" data-sigil="has-tooltip" data-meta="0_122"><span class="screen-only">Oct 16 2012, 8:37 AM</span><span class="print-only" aria-hidden="true">2012-10-16 08:37:55 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_120"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_121" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_20"><div class="phabricator-remarkup"><p>I an quite sure we could skip the third redirect.<br />
Stage 1: s/Recieved/Received/, probably worth showing a message to the user.<br />
You don&#039;t seem to be deleting the tokens from stage 1/2/3.</p>

<p>I am now seeing, the behavior of sending to $this-&gt;getOutput()-&gt;addWikiText when the user expects an icon is probably not too useful. If visiting Special:AutoLogin and the user agent expects an image, we should probably show a sad icon, a skull... in case of failed authentication.</p>

<p>I&#039;m not seeing anything wrong right now, but I&#039;ll check it again later.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_133"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451546" id="451546" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_132" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_21">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451546" data-sigil="has-tooltip" data-meta="0_131"><span class="screen-only">Oct 16 2012, 4:00 PM</span><span class="print-only" aria-hidden="true">2012-10-16 16:00:36 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_129"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_130" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_22"><div class="phabricator-remarkup"><p>(In reply to comment #6)</p>

<blockquote><p>I an quite sure we could skip the third redirect.</p></blockquote>

<p>The problem is the User and the Token cookies. We can&#039;t set them in stage 1, because the username in the Autologin token may be controlled by an attacker.</p>

<p>Also, once this hole is closed, I would like to go back and allow all of this to use javascript (with a noscript-image fallback), so that we can show a progress bar and nicely display the error messages if something fails. So while I don&#039;t like the extra redirect, I think we can make sure it doesn&#039;t cause any extra problems.</p>

<blockquote><p>Stage 1: s/Recieved/Received/, probably worth showing a message to the user.</p></blockquote>

<p>True. This is the way it&#039;s currently handled. If there&#039;s an error, the user sees a broken image, and would have to do some debugging to see the message. Again, I think it would be a great enhancement, but I would like to get the vulnerability patched first, and then add a nice javascript message.</p>

<blockquote><p>You don&#039;t seem to be deleting the tokens from stage 1/2/3.</p></blockquote>

<p>The memcache key is deleted right at the top: $wgMemc-&gt;delete( $tokenKey );</p>

<blockquote><p>I am now seeing, the behavior of sending to $this-&gt;getOutput()-&gt;addWikiText<br />
when the user expects an icon is probably not too useful. If visiting<br />
Special:AutoLogin and the user agent expects an image, we should probably show<br />
a sad icon, a skull... in case of failed authentication.</p>

<p>I&#039;m not seeing anything wrong right now, but I&#039;ll check it again later.</p></blockquote></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_142"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451568" id="451568" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_141" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_23">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451568" data-sigil="has-tooltip" data-meta="0_140"><span class="screen-only">Oct 25 2012, 10:01 PM</span><span class="print-only" aria-hidden="true">2012-10-25 22:01:33 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_138"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_139" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_24"><div class="phabricator-remarkup"><p>Using CVE-2012-5394 to track this</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_151"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451592" id="451592" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_150" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_25">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451592" data-sigil="has-tooltip" data-meta="0_149"><span class="screen-only">Nov 1 2012, 12:18 AM</span><span class="print-only" aria-hidden="true">2012-11-01 00:18:31 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_147"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_148" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_26"><div class="phabricator-remarkup"><p>Fix was deployed today. A couple reports of autologin being &quot;funky&quot;:<br />
(05:08:19 PM) Brooke: Autologin seems to be funky for me all day.<br />
(05:08:35 PM) Brooke: The icons either aren&#039;t loading every time.<br />
(05:08:57 PM) Brooke: Anyone else have this issue?<br />
(05:09:09 PM) Danny_B|backup: +1</p>

<p>Most likely due to extra redirects per icon. If I can get a javascript version together tomorrow, I may add that.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_160"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451606" id="451606" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_159" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_27">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451606" data-sigil="has-tooltip" data-meta="0_158"><span class="screen-only">Nov 1 2012, 3:57 AM</span><span class="print-only" aria-hidden="true">2012-11-01 03:57:09 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_156"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_157" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_28"><div class="phabricator-remarkup"><p>MZ also opened bug 42610.</p>

<p>It looks like Safari may have issues with setting cookies on a 302 redirect: <a href="http://stackoverflow.com/questions/1144894/safari-doesnt-set-cookie-but-ie-ff-does" class="remarkup-link" target="_blank" rel="noreferrer">http://stackoverflow.com/questions/1144894/safari-doesnt-set-cookie-but-ie-ff-does</a>, which would cause the issue.</p>

<p>I can&#039;t think of another solution at the moment that both fixes the csrf and doesn&#039;t use a redirect or a timeout.</p>

<p>I&#039;ll take a shot at implementing a javascript version of the AutoLogin tomorrow, so that will fix the issue for most people.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_171"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/gmb3bohtvy22zzvlaje7/PHID-FILE-zcwqxhkprdlj5oadwhav/profile)" class="visual-only phui-timeline-image" href="/p/Reedy/" aria-hidden="true"></a><div class="phui-timeline-badges"><ul class="phui-badge-flex-view grouped flex-view-collapsed "><li class="phui-badge-flex-item"><a class="phui-badge-mini phui-badge-mini-indigo " href="/badges/view/6/" data-sigil="has-tooltip" data-meta="0_169"><span class="visual-only phui-icon-view phui-font-fa fa-rebel" data-meta="0_170" aria-hidden="true"></span></a></li></ul></div><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451620" id="451620" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_168" aria-hidden="true"></span></span><a href="/p/Reedy/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_29">Reedy</a> added a comment.<span class="phui-timeline-extra"><a href="#451620" data-sigil="has-tooltip" data-meta="0_167"><span class="screen-only">Nov 2 2012, 1:09 AM</span><span class="print-only" aria-hidden="true">2012-11-02 01:09:02 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_165"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_166" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_30"><div class="phabricator-remarkup"><p>Seem to be getting a lot of fatals related to this on the cluster.</p>

<p>It can easily be worked around (look at the return value of WikiMap::getWiki() looking for null. I&#039;m not sure what the result of removing the redirect may or may not have. I note theres another usage of WikiMap::getWiki() on the page, which I guess must be similarily susceptible.</p>

<p>[01-Nov-2012 23:52:06] Fatal error: Call to a member function getFullUrl() on a non-object at /usr/local/apache/common-local/php-1.21wmf3/extensions/CentralAuth/specials/SpecialAutoLogin.php on line 102<br />
Server: mw49<br />
Method: GET<br />
URL: <a href="http://en.wikisource.org/wiki/Special:AutoLogin?token=8793dd92b91b0782cc52ee979b0ef47f" class="remarkup-link" target="_blank" rel="noreferrer">http://en.wikisource.org/wiki/Special:AutoLogin?token=8793dd92b91b0782cc52ee979b0ef47f</a><br />
Backtrace:<br />
#0 /usr/local/apache/common-local/php-1.21wmf3/extensions/CentralAuth/specials/SpecialAutoLogin.php(102): SpecialAutoLogin::execute()<br />
#1 /usr/local/apache/common-local/php-1.21wmf3/includes/SpecialPage.php(599): SpecialAutoLogin-&gt;execute(NULL)<br />
#2 /usr/local/apache/common-local/php-1.21wmf3/includes/SpecialPageFactory.php(497): SpecialPage-&gt;run(NULL)<br />
#3 /usr/local/apache/common-local/php-1.21wmf3/includes/Wiki.php(291): SpecialPageFactory::executePath(Object(Title), Object(RequestContext))<br />
#4 /usr/local/apache/common-local/php-1.21wmf3/includes/Wiki.php(555): MediaWiki-&gt;performRequest()<br />
#5 /usr/local/apache/common-local/php-1.21wmf3/includes/Wiki.php(448): MediaWiki-&gt;main()<br />
#6 /usr/local/apache/common-local/php-1.21wmf3/index.php(59): MediaWiki-&gt;run()<br />
#7 /usr/local/apache/common-local/live-1.5/index.php(3): require(&#039;/usr/local/apac...&#039;)<br />
#8 {main}</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_180"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451634" id="451634" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_179" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_31">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451634" data-sigil="has-tooltip" data-meta="0_178"><span class="screen-only">Nov 2 2012, 1:27 AM</span><span class="print-only" aria-hidden="true">2012-11-02 01:27:28 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_176"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_177" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_32"><div class="phabricator-remarkup"><p>Ah, sorry about that. It probably won&#039;t fix the Safari issue, but it will help overall. I&#039;ll add that in. Although it&#039;s weird (to me) that we would be getting a SUL request from a wiki that doesn&#039;t have a WikiMap.</p>

<p>Also, it&#039;s weird that request didn&#039;t have a &#039;stage&#039; in the url. Like the caller didn&#039;t get the CentralAuth update.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_189"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/xgl3wy55ovinfnucvwhx/PHID-FILE-zocnksypiqutzf5oubpi/profile)" class="visual-only phui-timeline-image" href="/p/tstarling/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451639" id="451639" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_188" aria-hidden="true"></span></span><a href="/p/tstarling/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_33">tstarling</a> added a comment.<span class="phui-timeline-extra"><a href="#451639" data-sigil="has-tooltip" data-meta="0_187"><span class="screen-only">Nov 2 2012, 2:38 AM</span><span class="print-only" aria-hidden="true">2012-11-02 02:38:14 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_185"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_186" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_34"><div class="phabricator-remarkup"><p>I can&#039;t log in to any wiki via Special:AutoLogin at the moment, all fail with &quot;Sorry, we could not process your form submission due to a loss of session data&quot;.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_198"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/xgl3wy55ovinfnucvwhx/PHID-FILE-zocnksypiqutzf5oubpi/profile)" class="visual-only phui-timeline-image" href="/p/tstarling/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451645" id="451645" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_197" aria-hidden="true"></span></span><a href="/p/tstarling/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_35">tstarling</a> added a comment.<span class="phui-timeline-extra"><a href="#451645" data-sigil="has-tooltip" data-meta="0_196"><span class="screen-only">Nov 2 2012, 2:55 AM</span><span class="print-only" aria-hidden="true">2012-11-02 02:55:16 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_194"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_195" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_36"><div class="phabricator-remarkup"><p>I&#039;ve reverted the local patch on fenari, now CentralAuth works again.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_207"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451649" id="451649" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_206" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_37">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451649" data-sigil="has-tooltip" data-meta="0_205"><span class="screen-only">Nov 2 2012, 4:13 PM</span><span class="print-only" aria-hidden="true">2012-11-02 16:13:00 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_203"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_204" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_38"><div class="phabricator-remarkup"><p>Thanks Tim. I was trying to get the javascript version working this morning, but no luck, so I was going to revert it today.</p>

<p>I don&#039;t want this to hold up the other fixes, so I&#039;m going to announce the other ones today, and hopefully get this addressed next week.</p>

<p>Some notes on what I&#039;ve been working through:</p>

<p>As I said in Comment #10, I think the solution needs a javascript and a noscript solution.</p>

<p>For the scripting solution,</p>

<ol class="remarkup-list">
<li class="remarkup-list-item">CentralAuthHooks writes out a &lt;script src=&quot;url of AutoLogin on attached wiki&quot;&gt;</li>
</ol>

<ol class="remarkup-list" start="2">
<li class="remarkup-list-item">The attached wiki starts the session creation, sends CentralAuth Session cookies, and write back a jsonp-style call with the next token value (So SUL doesn&#039;t have to rely on a CORS trust relationship).</li>
</ol>

<ol class="remarkup-list" start="3">
<li class="remarkup-list-item">The javascript function from the completed login page does an ajax call back to its origin to have the central wiki finish setting up the CentralAuth session. If the json comes back with a success message, the javascript adds an image on the page which points back to the attached wiki&#039;s stage 3.</li>
</ol>

<ol class="remarkup-list" start="4">
<li class="remarkup-list-item">Attached wiki sends cookies for CentralAuth Token (if &quot;Remember Me&quot; was selected), and shows the image&#039;s content.</li>
</ol>

<p>At any point in steps 2 or 3, if an error is returned, the javascript can attach a nice message notifying the user of the error.</p>

<p>I *think* this should work for the noscript login:</p>

<ol class="remarkup-list">
<li class="remarkup-list-item">CentralAuthHooks writes out an iframe instead of an image, pointing to stage 1 of AutoLogin on the attached wiki.</li>
</ol>

<ol class="remarkup-list" start="2">
<li class="remarkup-list-item">AutoLogin stage 1 fills the iframe with a valid page (http 200), so cookies should be set from the attached wiki. Inside the iframe is an &lt;img&gt; tag, pointing to an &quot;image&quot; which is AutoLogin stage 2 on the central wiki.</li>
</ol>

<ol class="remarkup-list" start="3">
<li class="remarkup-list-item">Stage 2 on the central wiki completes the session and redirects (http 302) the image request back to stage 3 on the attached wiki.</li>
</ol>

<p>This should cause the cookies to get be set from the attached wiki.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_216"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jredbx6xkxr7327lqcoy/PHID-FILE-gmtras7jc2f46newjfyc/alphanumeric_lato-dark_P.png-_5c8596-255%2C255%2C255%2C0.7.png)" class="visual-only phui-timeline-image" href="/p/Platonides/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451652" id="451652" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_215" aria-hidden="true"></span></span><a href="/p/Platonides/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_39">Platonides</a> added a comment.<span class="phui-timeline-extra"><a href="#451652" data-sigil="has-tooltip" data-meta="0_214"><span class="screen-only">Nov 2 2012, 7:44 PM</span><span class="print-only" aria-hidden="true">2012-11-02 19:44:05 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_212"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_213" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_40"><div class="phabricator-remarkup"><p>Tim, what browser were you using?</p>

<p>Chris, is it confirmed that Safari fails to set cookies on a 302 ?<br />
That may give problems to normal mediawiki login on safari, when there is not any html injected.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_225"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jredbx6xkxr7327lqcoy/PHID-FILE-gmtras7jc2f46newjfyc/alphanumeric_lato-dark_P.png-_5c8596-255%2C255%2C255%2C0.7.png)" class="visual-only phui-timeline-image" href="/p/Platonides/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451664" id="451664" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_224" aria-hidden="true"></span></span><a href="/p/Platonides/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_41">Platonides</a> added a comment.<span class="phui-timeline-extra"><a href="#451664" data-sigil="has-tooltip" data-meta="0_223"><span class="screen-only">Nov 3 2012, 2:51 PM</span><span class="print-only" aria-hidden="true">2012-11-03 14:51:25 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_221"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_222" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_42"><div class="phabricator-remarkup"><p>I made a small tool for detecting the browsers with this problem <a href="http://toolserver.org/~platonides/redirectcookies/redirectcookies.php" class="remarkup-link" target="_blank" rel="noreferrer">http://toolserver.org/~platonides/redirectcookies/redirectcookies.php</a> (after pressing each button -different redirect types- you should be seeing a new cookie).</p>

<p>After preparing the next patch, we should test it in deployment-prep before going to production.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_234"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451682" id="451682" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_233" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_43">csteipp</a> added a comment.<span class="phui-timeline-extra"><a href="#451682" data-sigil="has-tooltip" data-meta="0_232"><span class="screen-only">Nov 14 2013, 5:07 PM</span><span class="print-only" aria-hidden="true">2013-11-14 17:07:10 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_230"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_231" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_44"><div class="phabricator-remarkup"><p>As of <a href="https://gerrit.wikimedia.org/r/#/c/64253/" class="remarkup-link" target="_blank" rel="noreferrer">https://gerrit.wikimedia.org/r/#/c/64253/</a>, this issues was (finally) fixed for good.</p>

<p>The SUL rewrite this year basically built on Platonides&#039; original suggestion, so CentralAuth now has the concept of a central login wiki, which is pinged by anonymous visitors to check the status of their login. After all wikis were migrated to the new system, we were able to remove Special:AutoLogin, and this issue should be impossible to exploit now.</p>

<p>We&#039;ll make this public with the 1.21.3 release announcement.</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_243"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/5jthoz7jsgkdv2urcn4p/PHID-FILE-625muwnyjyqrkzxbtizx/profile)" class="visual-only phui-timeline-image" href="/p/MZMcBride/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><div class="phui-timeline-inner-content"><a name="451705" id="451705" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment phui-timeline-icon" data-meta="0_242" aria-hidden="true"></span></span><a href="/p/MZMcBride/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_45">MZMcBride</a> added a comment.<span class="phui-timeline-extra"><a href="#451705" data-sigil="has-tooltip" data-meta="0_241"><span class="screen-only">Nov 15 2013, 2:53 AM</span><span class="print-only" aria-hidden="true">2013-11-15 02:53:17 (UTC+0)</span></a></span></div><a href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_239"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" data-meta="0_240" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_46"><div class="phabricator-remarkup"><p>(In reply to comment #10)</p>

<blockquote><p>MZ also opened bug 42610.</p></blockquote>

<p>Bug 41610. :-)</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_246"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/jlcvy62mwb45sgg3gmyy/PHID-FILE-fav4t57rgkt3cl5ix3k7/profile-Teacup.png)" class="visual-only phui-timeline-image" href="/p/csteipp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><a name="1154605" id="1154605" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-link phui-timeline-icon" data-meta="0_245" aria-hidden="true"></span></span><a href="/p/csteipp/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_47">csteipp</a> added a project: <a href="/tag/acl_security/" class="phui-handle" data-sigil="hovercard" data-meta="0_48">acl*security</a>.<span class="phui-timeline-extra"><a href="#1154605" data-sigil="has-tooltip" data-meta="0_244"><span class="screen-only">Mar 26 2015, 8:39 PM</span><span class="print-only" aria-hidden="true">2015-03-26 20:39:16 (UTC+0)</span></a></span></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_249"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/p6rlqv5lsvrebeooy2ch/PHID-FILE-bcpybgue46p6lvwty5ng/profile)" class="visual-only phui-timeline-image" href="/p/MarcoAurelio/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><a name="1261400" id="1261400" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-columns phui-timeline-icon" data-meta="0_248" aria-hidden="true"></span></span><a href="/p/MarcoAurelio/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_49">MarcoAurelio</a> moved this task from <a href="/project/board/167/" class="phui-handle" data-sigil="hovercard" data-meta="0_50">Incoming</a> to <a href="/project/board/167/" class="phui-handle" data-sigil="hovercard" data-meta="0_51">Done</a> on the <a href="/tag/mediawiki-extensions-centralauth/" class="phui-handle" data-sigil="hovercard" data-meta="0_52">MediaWiki-extensions-CentralAuth</a> board.<span class="phui-timeline-extra"><a href="#1261400" data-sigil="has-tooltip" data-meta="0_247"><span class="screen-only">May 5 2015, 6:01 PM</span><span class="print-only" aria-hidden="true">2015-05-05 18:01:05 (UTC+0)</span></a></span></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_253"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/6n6ztqf7kwlq2m3tns3r/PHID-FILE-sjs4kdocejuiiypnxqow/profile-lake.png)" class="visual-only phui-timeline-image" href="/p/chasemp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><a name="5868817" id="5868817" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-link phui-timeline-icon" data-meta="0_252" aria-hidden="true"></span></span><a href="/p/chasemp/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_53"><span class="perfect-circle">•</span> chasemp</a> added a project: <a href="/tag/security/" class="phui-handle" data-sigil="hovercard" data-meta="0_54">Security</a>.<span class="phui-timeline-extra"><a href="#5868817" data-sigil="has-tooltip" data-meta="0_250"><span class="screen-only">Feb 10 2020, 10:56 PM</span><span class="print-only" aria-hidden="true">2020-02-10 22:56:14 (UTC+0)</span></a><span class="visual-only" aria-hidden="true"> · </span><span class="visual-only phui-icon-view phui-font-fa fa-bell-slash white phui-icon-emblem phui-icon-emblem-red" data-sigil="has-tooltip" data-meta="0_251" aria-hidden="true"></span></span></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_257"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/6n6ztqf7kwlq2m3tns3r/PHID-FILE-sjs4kdocejuiiypnxqow/profile-lake.png)" class="visual-only phui-timeline-image" href="/p/chasemp/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><a name="5904353" id="5904353" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-link phui-timeline-icon" data-meta="0_256" aria-hidden="true"></span></span><a href="/p/chasemp/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_55"><span class="perfect-circle">•</span> chasemp</a> removed a project: <a href="/tag/acl_security/" class="phui-handle" data-sigil="hovercard" data-meta="0_56">acl*security</a>.<span class="phui-timeline-extra"><a href="#5904353" data-sigil="has-tooltip" data-meta="0_254"><span class="screen-only">Feb 20 2020, 8:16 PM</span><span class="print-only" aria-hidden="true">2020-02-20 20:16:18 (UTC+0)</span></a><span class="visual-only" aria-hidden="true"> · </span><span class="visual-only phui-icon-view phui-font-fa fa-bell-slash white phui-icon-emblem phui-icon-emblem-red" data-sigil="has-tooltip" data-meta="0_255" aria-hidden="true"></span></span></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" data-sigil="transaction anchor-container" data-meta="0_261"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><a style="background-image: url(https://phab.wmfusercontent.org/file/data/c5mll4i2ivmjlggdpizk/PHID-FILE-x2xqxc36bpfpfub7m6rd/profile)" class="visual-only phui-timeline-image" href="/p/Aklapper/" aria-hidden="true"></a><div class="phui-timeline-wedge" style=""></div><div class="phui-timeline-group"><a name="6554563" id="6554563" class="phabricator-anchor-view"></a><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-user-times phui-timeline-icon" data-meta="0_260" aria-hidden="true"></span></span><a href="/p/Aklapper/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_57">Aklapper</a> removed subscribers: <a href="/p/Anomie/" class="phui-handle phui-link-person" data-sigil="hovercard" data-meta="0_58">Anomie</a>, <a href="/p/RobLa-WMF/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_59"><span class="perfect-circle">•</span> RobLa-WMF</a>, <a href="/p/wikibugs-l-list/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_60"><span class="perfect-circle">•</span> wikibugs-l-list</a>, <a href="/p/werdna/" class="phui-handle handle-availability-disabled phui-link-person" data-sigil="hovercard" data-meta="0_61"><span class="perfect-circle">•</span> werdna</a>.<span class="phui-timeline-extra"><a href="#6554563" data-sigil="has-tooltip" data-meta="0_258"><span class="screen-only">Oct 16 2020, 5:41 PM</span><span class="print-only" aria-hidden="true">2020-10-16 17:41:27 (UTC+0)</span></a><span class="visual-only" aria-hidden="true"> · </span><span class="visual-only phui-icon-view phui-font-fa fa-bell-slash white phui-icon-emblem phui-icon-emblem-red" data-sigil="has-tooltip" data-meta="0_259" aria-hidden="true"></span></span></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div></div><div class="phui-box phui-box-border phui-object-box mlt mll mlr phui-object-box-flush "><a class="login-to-comment button" href="/login/?next=">Log In to Comment</a></div></div></div></div><div class="phui-two-column-content phui-two-column-footer"></div></div></div><div class="phabricator-standard-page-footer grouped"><span>Content licensed under Creative Commons Attribution-ShareAlike 3.0 (CC-BY-SA) unless otherwise noted; code licensed under GNU General Public License (GPL) or other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct.</span> · <a href="https://wikimediafoundation.org/">Wikimedia Foundation</a> · <a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Privacy_policy">Privacy Policy</a> · <a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Code_of_Conduct">Code of Conduct</a> · <a href="https://foundation.wikimedia.org/wiki/Terms_of_Use/Phabricator">Terms of Use</a> · <a href="https://foundation.wikimedia.org/wiki/Wikimedia:General_disclaimer">Disclaimer</a> · <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a> · <a href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.html">GPL</a></div></div></div></div><script type="text/javascript" src="https://phab.wmfusercontent.org/res/defaultX/phabricator/ab3502fe/core.pkg.js"></script><data data-javelin-init-kind="merge" data-javelin-init-data="{&quot;block&quot;:0,&quot;data&quot;:[{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-ynivjflmc2dcl6w5ut5v&quot;}},{&quot;phid&quot;:&quot;PHID-FILE-7vernicdimyicky4a7sc&quot;,&quot;viewable&quot;:false,&quot;uri&quot;:&quot;https:\/\/phab.wmfusercontent.org\/file\/data\/udiub42sh5cypecc4hld\/PHID-FILE-7vernicdimyicky4a7sc\/3stage.patch&quot;,&quot;dUri&quot;:&quot;https:\/\/phab.wmfusercontent.org\/file\/download\/udiub42sh5cypecc4hld\/PHID-FILE-7vernicdimyicky4a7sc\/3stage.patch&quot;,&quot;name&quot;:&quot;3stage.patch&quot;,&quot;monogram&quot;:&quot;F9917&quot;,&quot;icon&quot;:&quot;fa-file-text-o&quot;,&quot;size&quot;:&quot;13 KB&quot;},[],{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-ynivjflmc2dcl6w5ut5v&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PROJ-7tgxppmljhyfyftazz3r&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-ynivjflmc2dcl6w5ut5v&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-ynivjflmc2dcl6w5ut5v&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-MLST-3n6f7yggtuz4ktrvskho&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-izojihzr4ja3jsgzn5wv&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-i56ongh2lx5vjbb&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-k6tmz5ylx4rzfl3bitse&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-kvqlrfndq6kxhio&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-izojihzr4ja3jsgzn5wv&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-ndxbvmr2xt7xsil&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-izojihzr4ja3jsgzn5wv&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-5c4vafvlo4f5uvc&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-7wnbkm6iorynlip&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-izojihzr4ja3jsgzn5wv&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-txyxorhl2qkdhuu&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-7wsgzs7pfvrrufx&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-2snxdyrnjfrrppa&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-ogndlnfsuum642r&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-trvyvtfzmjpjpv6&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-6vzzsmi22zem6yttr6vp&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-eoop4eitjdkfxod&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-rlrhgq7e22oflyh&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-k6tmz5ylx4rzfl3bitse&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-wuo7qpsn5ibid74&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-k6tmz5ylx4rzfl3bitse&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-jrikpo4gxz4r5lu&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-6ucscioqhyhtcay&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-izojihzr4ja3jsgzn5wv&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-baxms255bss7kj7&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-izojihzr4ja3jsgzn5wv&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-tvrjxkfylhsupqq&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-zazjbue54f26ovi&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-hyfm4swq76s4j642w46x&quot;}},{&quot;phid&quot;:&quot;PHID-XACT-TASK-wdwesmqaagu52gi&quot;},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-doeppszazlm3r7xah4il&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PROJ-koo4qqdng27q7r65x3cw&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-xvs3y6hf6yrfn6sxrk5d&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PCOL-7yjnwagj22twzykrzoz4&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PCOL-lx62ly67cx7ldgto7lf2&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PROJ-7tgxppmljhyfyftazz3r&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-3neel27i7dyu62jbbx2l&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PROJ-dwqfaiejpr656zc6hf6o&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-3neel27i7dyu62jbbx2l&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PROJ-koo4qqdng27q7r65x3cw&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-hgn5uw2jafgjgfvxibhh&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-uqcn2l4ng4murmyfnvyp&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-edlps6xg553cjlnvd4ao&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-cqtipia3tizutncgpwpr&quot;}},{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-USER-cgfiqjzsqzd7ulp7eyr7&quot;}},{&quot;tip&quot;:&quot;Via Conduit&quot;},[],[],[],[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-ztftcomgmapjc2p&quot;,&quot;anchor&quot;:&quot;451494&quot;},{&quot;tip&quot;:&quot;Via Old World&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-4fde271d7f62ff1&quot;,&quot;anchor&quot;:&quot;451499&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-i56ongh2lx5vjbb\/&quot;,&quot;ref&quot;:&quot;T42747#451502&quot;},[],{&quot;anchor&quot;:&quot;451502&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_4\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_71\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_72\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_6\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-i56ongh2lx5vjbb\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_73\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_74\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-i56ongh2lx5vjbb&quot;,&quot;anchor&quot;:&quot;451502&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-kvqlrfndq6kxhio\/&quot;,&quot;ref&quot;:&quot;T42747#451505&quot;},[],{&quot;anchor&quot;:&quot;451505&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_8\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_80\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_81\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_10\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-kvqlrfndq6kxhio\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_82\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_83\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-kvqlrfndq6kxhio&quot;,&quot;anchor&quot;:&quot;451505&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-ndxbvmr2xt7xsil\/&quot;,&quot;ref&quot;:&quot;T42747#451517&quot;},[],{&quot;anchor&quot;:&quot;451517&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_12\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_89\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_90\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_14\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-ndxbvmr2xt7xsil\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_91\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_92\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-ndxbvmr2xt7xsil&quot;,&quot;anchor&quot;:&quot;451517&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-5c4vafvlo4f5uvc\/&quot;,&quot;ref&quot;:&quot;T42747#451527&quot;},[],{&quot;anchor&quot;:&quot;451527&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_16\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_98\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_99\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_18\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-5c4vafvlo4f5uvc\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_100\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_101\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-5c4vafvlo4f5uvc&quot;,&quot;anchor&quot;:&quot;451527&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-7wnbkm6iorynlip\/&quot;,&quot;ref&quot;:&quot;T42747#451533&quot;},[],{&quot;anchor&quot;:&quot;451533&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_20\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_107\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_108\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_22\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-7wnbkm6iorynlip\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_109\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_110\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-7wnbkm6iorynlip&quot;,&quot;anchor&quot;:&quot;451533&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-txyxorhl2qkdhuu\/&quot;,&quot;ref&quot;:&quot;T42747#451535&quot;},[],{&quot;anchor&quot;:&quot;451535&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_24\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_116\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_117\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_26\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-txyxorhl2qkdhuu\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_118\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_119\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-txyxorhl2qkdhuu&quot;,&quot;anchor&quot;:&quot;451535&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-7wsgzs7pfvrrufx\/&quot;,&quot;ref&quot;:&quot;T42747#451546&quot;},[],{&quot;anchor&quot;:&quot;451546&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_28\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_125\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_126\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_30\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-7wsgzs7pfvrrufx\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_127\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_128\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-7wsgzs7pfvrrufx&quot;,&quot;anchor&quot;:&quot;451546&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-2snxdyrnjfrrppa\/&quot;,&quot;ref&quot;:&quot;T42747#451568&quot;},[],{&quot;anchor&quot;:&quot;451568&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_32\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_134\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_135\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_34\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-2snxdyrnjfrrppa\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_136\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_137\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-2snxdyrnjfrrppa&quot;,&quot;anchor&quot;:&quot;451568&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-ogndlnfsuum642r\/&quot;,&quot;ref&quot;:&quot;T42747#451592&quot;},[],{&quot;anchor&quot;:&quot;451592&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_36\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_143\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_144\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_38\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-ogndlnfsuum642r\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_145\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_146\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-ogndlnfsuum642r&quot;,&quot;anchor&quot;:&quot;451592&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-trvyvtfzmjpjpv6\/&quot;,&quot;ref&quot;:&quot;T42747#451606&quot;},[],{&quot;anchor&quot;:&quot;451606&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_40\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_152\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_153\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_42\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-trvyvtfzmjpjpv6\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_154\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_155\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-trvyvtfzmjpjpv6&quot;,&quot;anchor&quot;:&quot;451606&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-eoop4eitjdkfxod\/&quot;,&quot;ref&quot;:&quot;T42747#451620&quot;},[],{&quot;anchor&quot;:&quot;451620&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_44\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_161\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_162\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_46\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-eoop4eitjdkfxod\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_163\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_164\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;tip&quot;:&quot;Chaos Monkey&quot;,&quot;align&quot;:&quot;E&quot;,&quot;size&quot;:300},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-eoop4eitjdkfxod&quot;,&quot;anchor&quot;:&quot;451620&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-rlrhgq7e22oflyh\/&quot;,&quot;ref&quot;:&quot;T42747#451634&quot;},[],{&quot;anchor&quot;:&quot;451634&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_48\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_172\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_173\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_50\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-rlrhgq7e22oflyh\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_174\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_175\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-rlrhgq7e22oflyh&quot;,&quot;anchor&quot;:&quot;451634&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-wuo7qpsn5ibid74\/&quot;,&quot;ref&quot;:&quot;T42747#451639&quot;},[],{&quot;anchor&quot;:&quot;451639&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_52\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_181\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_182\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_54\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-wuo7qpsn5ibid74\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_183\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_184\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-wuo7qpsn5ibid74&quot;,&quot;anchor&quot;:&quot;451639&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-jrikpo4gxz4r5lu\/&quot;,&quot;ref&quot;:&quot;T42747#451645&quot;},[],{&quot;anchor&quot;:&quot;451645&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_56\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_190\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_191\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_58\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-jrikpo4gxz4r5lu\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_192\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_193\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-jrikpo4gxz4r5lu&quot;,&quot;anchor&quot;:&quot;451645&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-6ucscioqhyhtcay\/&quot;,&quot;ref&quot;:&quot;T42747#451649&quot;},[],{&quot;anchor&quot;:&quot;451649&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_60\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_199\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_200\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_62\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-6ucscioqhyhtcay\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_201\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_202\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-6ucscioqhyhtcay&quot;,&quot;anchor&quot;:&quot;451649&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-baxms255bss7kj7\/&quot;,&quot;ref&quot;:&quot;T42747#451652&quot;},[],{&quot;anchor&quot;:&quot;451652&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_64\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_208\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_209\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_66\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-baxms255bss7kj7\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_210\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_211\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-baxms255bss7kj7&quot;,&quot;anchor&quot;:&quot;451652&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-tvrjxkfylhsupqq\/&quot;,&quot;ref&quot;:&quot;T42747#451664&quot;},[],{&quot;anchor&quot;:&quot;451664&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_68\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_217\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_218\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_70\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-tvrjxkfylhsupqq\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_219\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_220\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-tvrjxkfylhsupqq&quot;,&quot;anchor&quot;:&quot;451664&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-zazjbue54f26ovi\/&quot;,&quot;ref&quot;:&quot;T42747#451682&quot;},[],{&quot;anchor&quot;:&quot;451682&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_72\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_226\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_227\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_74\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-zazjbue54f26ovi\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_228\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_229\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-zazjbue54f26ovi&quot;,&quot;anchor&quot;:&quot;451682&quot;},{&quot;targetID&quot;:&quot;UQ0_1&quot;,&quot;uri&quot;:&quot;\/transactions\/quote\/PHID-XACT-TASK-wdwesmqaagu52gi\/&quot;,&quot;ref&quot;:&quot;T42747#451705&quot;},[],{&quot;anchor&quot;:&quot;451705&quot;},[],{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_76\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;#\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-quote\&quot; data-meta=\&quot;0_235\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\&quot; data-meta=\&quot;0_236\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eQuote Comment\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_78\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href action-has-icon\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/transactions\/raw\/PHID-XACT-TASK-wdwesmqaagu52gi\/\&quot; class=\&quot;phabricator-action-view-item\&quot; data-sigil=\&quot;transaction-raw\&quot; data-meta=\&quot;0_237\&quot;\u003e\u003cspan class=\&quot;visual-only phui-icon-view phui-font-fa fa-code phabricator-action-view-icon\&quot; data-meta=\&quot;0_238\&quot; aria-hidden=\&quot;true\&quot;\u003e\u003c\/span\u003eView Raw Remarkup\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;tip&quot;:&quot;Via Conduit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-wdwesmqaagu52gi&quot;,&quot;anchor&quot;:&quot;451705&quot;},{&quot;tip&quot;:&quot;Via Web&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-ocwcdprbskc2okr&quot;,&quot;anchor&quot;:&quot;1154605&quot;},{&quot;tip&quot;:&quot;Via Web&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-l2l3h4ban2u74fv&quot;,&quot;anchor&quot;:&quot;1261400&quot;},{&quot;tip&quot;:&quot;Via Bulk Update&quot;},{&quot;tip&quot;:&quot;Silent Edit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-5yc4v5p57ze6m2b&quot;,&quot;anchor&quot;:&quot;5868817&quot;},{&quot;tip&quot;:&quot;Via Bulk Update&quot;},{&quot;tip&quot;:&quot;Silent Edit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-rn3ctvnva4cthvz&quot;,&quot;anchor&quot;:&quot;5904353&quot;},{&quot;tip&quot;:&quot;Via Bulk Update&quot;},{&quot;tip&quot;:&quot;Silent Edit&quot;},[],{&quot;phid&quot;:&quot;PHID-XACT-TASK-e7y5hi5eg3fuzre&quot;,&quot;anchor&quot;:&quot;6554563&quot;},[],[],{&quot;itemIDs&quot;:[&quot;UQ0_82&quot;,&quot;UQ0_83&quot;,&quot;UQ0_84&quot;,&quot;UQ0_85&quot;,&quot;UQ0_86&quot;],&quot;caretID&quot;:&quot;UQ0_81&quot;},[],[],[],[],[],[],{&quot;itemIDs&quot;:[&quot;UQ0_94&quot;,&quot;UQ0_95&quot;,&quot;UQ0_96&quot;],&quot;caretID&quot;:&quot;UQ0_93&quot;},[],[],[],[],[],[],[],[],[],{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PROJ-7tgxppmljhyfyftazz3r&quot;}},[],{&quot;hovercardSpec&quot;:{&quot;objectPHID&quot;:&quot;PHID-PROJ-dwqfaiejpr656zc6hf6o&quot;}},{&quot;menuID&quot;:&quot;UQ0_0&quot;},[],[],[],[],[],{&quot;map&quot;:{&quot;UQ0_111&quot;:&quot;phabricator-search-menu-expanded&quot;,&quot;UQ0_160&quot;:&quot;menu-icon-selected&quot;}},{&quot;items&quot;:&quot;\u003cul class=\&quot;phabricator-action-list-view \&quot;\u003e\u003cli id=\&quot;UQ0_113\&quot; class=\&quot;phabricator-action-view phabricator-action-view-type-label\&quot; style=\&quot;\&quot;\u003e\u003cspan class=\&quot;phabricator-action-view-item\&quot;\u003eQueries\u003c\/span\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_115\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/7QeK_wflJk_7\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eNewest Open Tasks\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_117\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/all\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eAll Tasks\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_119\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/open\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eOpen Tasks\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_121\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/SH5VKrDBlEU3\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eResolved by me\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_123\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/gd6mG.hk3..e\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eOpen + Subscribed +  Active\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_125\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/AtbLhf4ZUBGj\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eUnbreak Now! (Newest first)\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_127\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/NIBnes9aVyDQ\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eUnbreak Now! (Oldest first)\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_129\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/LbC45QRXo9UT\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eWikimedia-Incident - Active situation column\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_131\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/WKC5LNTfaXCf\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eWikimedia-Incident - To Triage column\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_133\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/GTbIUdDaMLqV\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eMediaWiki Train Deployments\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_135\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/KpRagEN3fCBC\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003e#RelEng To Triage - Oldest first\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_137\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/dXiDCQ1lr2TH\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003ePrivacy Engineering (Incoming)\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_139\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/8bHBE5y3nW0T\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eSecurity (Needs Triage)\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_141\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/aWhl5RAqasgr\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eSecurity Team (Incoming)\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_143\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/AV_XTZmS8sSZ\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eSecurity Team (Back Order) But Assigned\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_145\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/hPw5AfNlfd5X\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eSecurity Team (In Progress) By Assigned\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_147\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/ylGCqhVtsW5D\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eSecurity Team (Watching) No Update 30 Days\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_149\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/ZfhewVYD.6v2\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eSecurity Team (In Progress) But Closed or Stalled\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_151\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/gb3pNSWyyZm1\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eSecurity Team Assigned But No Updates 30 days\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_153\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/1G5egePmdpkZ\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eSecurity Readiness Reviews (Incoming)\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_155\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/skCqxOTyF9gX\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eWMCS extended backlog\u003c\/a\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_157\&quot; class=\&quot;phabricator-action-view phabricator-action-view-type-label\&quot; style=\&quot;\&quot;\u003e\u003cspan class=\&quot;phabricator-action-view-item\&quot;\u003eSearch\u003c\/span\u003e\u003c\/li\u003e\u003cli id=\&quot;UQ0_159\&quot; class=\&quot;phabricator-action-view phabricator-action-view-href phabricator-action-view-type-link\&quot; style=\&quot;\&quot;\u003e\u003ca href=\&quot;\/maniphest\/query\/advanced\/\&quot; class=\&quot;phabricator-action-view-item\&quot;\u003eAdvanced Search\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e&quot;},[],{&quot;items&quot;:[{&quot;name&quot;:&quot;Search&quot;},{&quot;icon&quot;:&quot;fa-globe&quot;,&quot;name&quot;:&quot;All Documents&quot;,&quot;value&quot;:&quot;all&quot;},{&quot;icon&quot;:&quot;fa-anchor&quot;,&quot;name&quot;:&quot;Current Application&quot;,&quot;value&quot;:&quot;application&quot;},{&quot;name&quot;:&quot;Saved Queries&quot;},{&quot;icon&quot;:&quot;fa-certificate&quot;,&quot;name&quot;:&quot;Open Documents&quot;,&quot;value&quot;:&quot;open&quot;},{&quot;icon&quot;:&quot;fa-certificate&quot;,&quot;name&quot;:&quot;Authored Documents&quot;,&quot;value&quot;:&quot;MaJUpIp4XQjD&quot;},{&quot;icon&quot;:&quot;fa-certificate&quot;,&quot;name&quot;:&quot;Subscribed Documents&quot;,&quot;value&quot;:&quot;icqHFhjyxmbF&quot;},{&quot;icon&quot;:&quot;fa-certificate&quot;,&quot;name&quot;:&quot;Owned Documents&quot;,&quot;value&quot;:&quot;xCgkkySoe4z7&quot;},{&quot;icon&quot;:&quot;fa-certificate&quot;,&quot;name&quot;:&quot;Open Tasks&quot;,&quot;value&quot;:&quot;open-tasks&quot;},{&quot;name&quot;:&quot;More Options&quot;},{&quot;icon&quot;:&quot;fa-search-plus&quot;,&quot;name&quot;:&quot;Advanced Search&quot;,&quot;href&quot;:&quot;\/search\/query\/advanced\/&quot;},{&quot;icon&quot;:&quot;fa-book&quot;,&quot;name&quot;:&quot;User Guide: Search&quot;,&quot;href&quot;:&quot;https:\/\/secure.phabricator.com\/diviner\/find\/?name=Search%20User%20Guide&amp;type=article&amp;jump=1&quot;}],&quot;icon&quot;:&quot;fa-globe&quot;,&quot;value&quot;:&quot;all&quot;},[],[],[],[]]}"></data><data data-javelin-init-kind="behaviors" data-javelin-init-data="{&quot;refresh-csrf&quot;:[{&quot;tokenName&quot;:&quot;__csrf__&quot;,&quot;header&quot;:&quot;X-Phabricator-Csrf&quot;,&quot;viaHeader&quot;:&quot;X-Phabricator-Via&quot;,&quot;current&quot;:&quot;B@yngxukfq9faca2ae4e4fde63&quot;}],&quot;history-install&quot;:[]}"></data><data data-javelin-init-kind="behaviors" data-javelin-init-data="{&quot;phabricator-tooltips&quot;:[],&quot;phui-hovercards&quot;:[],&quot;phabricator-transaction-list&quot;:[],&quot;phabricator-show-older-transactions&quot;:[{&quot;timelineID&quot;:&quot;UQ0_2&quot;,&quot;viewData&quot;:[]}],&quot;phabricator-watch-anchor&quot;:[],&quot;phui-dropdown-menu&quot;:[],&quot;phui-submenu&quot;:[],&quot;workflow&quot;:[],&quot;lightbox-attachments&quot;:[],&quot;aphront-form-disable-on-submit&quot;:[],&quot;toggle-class&quot;:[],&quot;phabricator-gesture&quot;:[],&quot;device&quot;:[],&quot;high-security-warning&quot;:[{&quot;show&quot;:false,&quot;uri&quot;:&quot;\/auth\/session\/downgrade\/&quot;,&quot;message&quot;:&quot;Your session is in high security mode. When you finish using it, click here to leave.&quot;}],&quot;phabricator-keyboard-shortcuts&quot;:[{&quot;helpURI&quot;:&quot;\/help\/keyboardshortcut\/&quot;,&quot;searchID&quot;:&quot;UQ0_161&quot;,&quot;pht&quot;:{&quot;\/&quot;:&quot;Give keyboard focus to the search box.&quot;,&quot;?&quot;:&quot;Show keyboard shortcut help for the current page.&quot;}}],&quot;phabricator-search-typeahead&quot;:[{&quot;id&quot;:&quot;UQ0_162&quot;,&quot;input&quot;:&quot;UQ0_161&quot;,&quot;button&quot;:&quot;UQ0_163&quot;,&quot;selectorID&quot;:&quot;UQ0_164&quot;,&quot;applicationID&quot;:&quot;UQ0_165&quot;,&quot;defaultApplicationIcon&quot;:&quot;fa-dot-circle-o&quot;,&quot;appScope&quot;:&quot;application&quot;,&quot;src&quot;:&quot;\/typeahead\/class\/PhabricatorSearchDatasource\/&quot;,&quot;limit&quot;:10,&quot;placeholder&quot;:&quot;Search&quot;,&quot;scopeUpdateURI&quot;:&quot;\/settings\/adjust\/?key=search-scope&quot;}],&quot;quicksand-blacklist&quot;:[{&quot;patterns&quot;:[&quot;\/phame\/live\/.*&quot;,&quot;\/conpherence\/.*&quot;,&quot;\/Z\\d+&quot;,&quot;\/file\/(data|download)\/.*&quot;,&quot;\/phortune\/.*&quot;,&quot;\/auth\/.*&quot;]}]}"></data></body></html>